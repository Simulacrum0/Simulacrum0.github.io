const BriDzSa__Da_vsg = "PUB_v0.188"; 
 const BriDzSa__Da_wuk = "188"; 
 const BriDz__Mx_KuTu_vsg = "https://powerourpeople.com/"; 

//==============================================
// TEK_MSG_BEGIN
//==============================================
const KoSy__KeDru_l =
{
	//@@@
	// MSG
	BriDz_VaSy_vsg: "MicroCosm"

	, BriDz_KiMiFe_vsg: "Tech Loading"


	//@@@@
	// WARN
	, Dre__SySmz_GriHo_vsg: "Optional Service Fail: "

	//@@@
	// ERROR
	, TrxBz_vsg: "Tech FAIL: "
	, TrxKrx_vsg: "Please try a different Browser or Device"

	, TrxJy__CheFyHo_CORS_vsg: "Security Fail: No CORS Found"
	, TrxJy00__HrxCheHo__CORS_vsg: "WAITING: Engaging HTTPS CORS in order to run under Security Policies."
	, TrxJy01__HrzMoHo__WASM_vsg: "Web Assembly not Supported: Try a Modern Browser"
	, TrxJy02__MoDzStxGru_vsg: "Only *1* Webpage Allowed"
	, TrxJy03__KaBzTrx__WG_vsg: "GPU Not Available or Capable: Try Restarting Browser or Machine"

	, TrxJy__SySmz_GriHo_vsg: "Required Service Fail:"
	, TrxJy__SuKz_GriHo_vsg: "Required Content Fail:"

};

//==============================================
// TEK_MSG_END
//==============================================
//==============================================
// LANG/COUNTRY BEGIN
//==============================================

//-------------------------------------------------
//
// Vy: CODE
// Va: Local Name
// So: Reference English
// KuGwz: Flag as Emoji
//-------------------------------------------------
const Hre1_Dru__Gra_v = [
	// { "Vy": "af", "Va": "Afrikaans", "KuGwz": "üáøüá¶", "So": "Afrikaans", "ToKz": "af" },
	// { "Vy": "am", "Va": "·ä†·àõ·à≠·äõ", "KuGwz": "üá™üáπ", "So": "Amharic", "ToKz": "am" },
	// { "Vy": "ar", "Va": "ÿßŸÑÿπÿ±ÿ®Ÿäÿ©", "KuGwz": "üá∏üá¶", "So": "Arabic", "ToKz": "ar" },
	// { "Vy": "az", "Va": "Az…ôrbaycan dili", "KuGwz": "üá¶üáø", "So": "Azerbaijani", "ToKz": "az" },
	// { "Vy": "be", "Va": "–ë–µ–ª–∞—Ä—É—Å–∫–∞—è", "KuGwz": "üáßüáæ", "So": "Belarusian", "ToKz": "be" },
	// { "Vy": "bg", "Va": "–ë—ä–ª–≥–∞—Ä—Å–∫–∏", "KuGwz": "üáßüá¨", "So": "Bulgarian", "ToKz": "bg" },
	// { "Vy": "bn", "Va": "‡¶¨‡¶æ‡¶Ç‡¶≤‡¶æ", "KuGwz": "üáßüá©", "So": "Bengali", "ToKz": "bn" },

	// { "Vy": "ca", "Va": "Catal√†", "KuGwz": "üá™üá∏", "So": "Catalan", "ToKz": "ca" },
	// { "Vy": "cs", "Va": "ƒåe≈°tina", "KuGwz": "üá®üáø", "So": "Czech", "ToKz": "cs" },
	// { "Vy": "da", "Va": "Dansk", "KuGwz": "üá©üá∞", "So": "Danish", "ToKz": "da" },
	// { "Vy": "de", "Va": "Deutsch", "KuGwz": "üá©üá™", "So": "German", "ToKz": "de" },
	// { "Vy": "el", "Va": "ŒïŒªŒªŒ∑ŒΩŒπŒ∫Œ¨", "So": "Greek", "KuGwz": "üá¨üá∑", "ToKz": "el" },

	// en
	{
		"Vy": "en",
		"Va": "English",
		"KuGwz": "üá∫üá∏",
		"So": "English",
		"ToKz": "en"
	},
	{
		"Vy": "en-AU",
		"Va": "English (Australia)",
		"KuGwz": "üá¶üá∫",
		"So": "English",
		"ToKz": "en"
	},
	{
		"Vy": "en-CA",
		"Va": "English (Canada)",
		"KuGwz": "üá®üá¶",
		"So": "English",
		"ToKz": "en"
	},
	{
		"Vy": "en-GB",
		"Va": "English (United Kingdom)",
		"KuGwz": "üá¨üáß",
		"So": "English",
		"ToKz": "en"
	},

	// es
	{
		"Vy": "es",
		"Va": "Espa√±ol (Espa√±a)",
		"So": "Spanish (Spain)",
		"KuGwz": "üá™üá∏",
		"ToKz": "es"
	},
	{
		"Vy": "es-419",
		"Va": "Espa√±ol (Latinoam√©rica)",
		"So": "Spanish (Latin America)",
		"KuGwz": "üåé",
		"ToKz": "es"
	},
	{
		"Vy": "es-US",
		"Va": "Espa√±ol (Estados Unidos)",
		"So": "Spanish (United States)",
		"KuGwz": "üá∫üá∏",
		"ToKz": "es"
	}

	// { "Vy": "et", "Va": "Eesti", "KuGwz": "üá™üá™", "So": "Estonian", "ToKz": "et" },
	// { "Vy": "eu", "Va": "Euskara", "KuGwz": "üá™üá∏", "So": "Basque", "ToKz": "eu" },
	// { "Vy": "fa", "Va": "ŸÅÿßÿ±ÿ≥€å", "KuGwz": "üáÆüá∑", "So": "Persian", "ToKz": "fa" },
	// { "Vy": "fi", "Va": "Suomi", "KuGwz": "üá´üáÆ", "So": "Finnish", "ToKz": "fi" },
	// { "Vy": "fr-CA", "Va": "Fran√ßais (Canada)", "KuGwz": "üá®üá¶", "So": "French", "ToKz": "fr" },
	// { "Vy": "fr-FR", "Va": "Fran√ßais (France)", "KuGwz": "üá´üá∑", "So": "French", "ToKz": "fr" },
	// { "Vy": "gl", "Va": "Galego", "KuGwz": "üá™üá∏", "So": "Galician", "ToKz": "gl" },
	// { "Vy": "gu", "Va": "‡™ó‡´Å‡™ú‡™∞‡™æ‡™§‡´Ä", "KuGwz": "üáÆüá≥", "So": "Gujarati", "ToKz": "gu" },

	// { "Vy": "he", "Va": "◊¢◊ë◊®◊ô◊™", "KuGwz": "üáÆüá±", "So": "Hebrew", "ToKz": "he" },
	// { "Vy": "hi", "Va": "‡§π‡§ø‡§®‡•ç‡§¶‡•Ä", "KuGwz": "üáÆüá≥", "So": "Hindi", "ToKz": "hi" },
	// { "Vy": "hr", "Va": "Hrvatski", "KuGwz": "üá≠üá∑", "So": "Croatian", "ToKz": "hr" },
	// { "Vy": "hu", "Va": "Magyar", "KuGwz": "üá≠üá∫", "So": "Hungarian", "ToKz": "hu" },
	// { "Vy": "hy", "Va": "’Ä’°’µ’•÷Ä’•’∂", "KuGwz": "üá¶üá≤", "So": "Armenian", "ToKz": "hy" },
	// { "Vy": "id", "Va": "Indonesia", "KuGwz": "üáÆüá©", "So": "Indonesian", "ToKz": "id" },
	// { "Vy": "is", "Va": "√çslenska", "KuGwz": "üáÆüá∏", "So": "Icelandic", "ToKz": "is" },
	// { "Vy": "it", "Va": "Italiano", "KuGwz": "üáÆüáπ", "So": "Italian", "ToKz": "it" },
	// { "Vy": "ja", "Va": "Êó•Êú¨Ë™û", "KuGwz": "üáØüáµ", "So": "Japanese", "ToKz": "ja" },

	// { "Vy": "ka", "Va": "·É•·Éê·É†·Éó·É£·Éö·Éò", "KuGwz": "üá¨üá™", "So": "Georgian", "ToKz": "ka" },
	// { "Vy": "kk", "Va": "“ö–∞–∑–∞“õ —Ç—ñ–ª—ñ", "KuGwz": "üá∞üáø", "So": "Kazakh", "ToKz": "kk" },
	// { "Vy": "km", "Va": "·ûÅ·üí·ûò·üÇ·ûö", "KuGwz": "üá∞üá≠", "So": "Khmer", "ToKz": "km" },
	// { "Vy": "kn", "Va": "‡≤ï‡≤®‡≥ç‡≤®‡≤°", "KuGwz": "üáÆüá≥", "So": "Kannada", "ToKz": "kn" },
	// { "Vy": "ko", "Va": "ÌïúÍµ≠Ïñ¥", "KuGwz": "üá∞üá∑", "So": "Korean", "ToKz": "ko" },
	// { "Vy": "ky", "Va": "–ö—ã—Ä–≥—ã–∑—á–∞", "KuGwz": "üá∞üá¨", "So": "Kyrgyz", "ToKz": "ky" },
	// { "Vy": "lo", "Va": "‡∫•‡∫≤‡∫ß", "KuGwz": "üá±üá¶", "So": "Lao", "ToKz": "lo" },
	// { "Vy": "lt", "Va": "Lietuvi≈≥", "KuGwz": "üá±üáπ", "So": "Lithuanian", "ToKz": "lt" },
	// { "Vy": "lv", "Va": "Latvie≈°u", "KuGwz": "üá±üáª", "So": "Latvian", "ToKz": "lv" },

	// { "Vy": "mk", "Va": "–ú–∞–∫–µ–¥–æ–Ω—Å–∫–∏", "KuGwz": "üá≤üá∞", "So": "Macedonian", "ToKz": "mk" },
	// { "Vy": "ml", "Va": "‡¥Æ‡¥≤‡¥Ø‡¥æ‡¥≥‡¥Ç", "KuGwz": "üáÆüá≥", "So": "Malayalam", "ToKz": "ml" },
	// { "Vy": "mn", "Va": "–ú–æ–Ω–≥–æ–ª", "KuGwz": "üá≤üá≥", "So": "Mongolian", "ToKz": "mn" },
	// { "Vy": "mr", "Va": "‡§Æ‡§∞‡§æ‡§†‡•Ä", "KuGwz": "üáÆüá≥", "So": "Marathi", "ToKz": "mr" },
	// { "Vy": "ms", "Va": "Bahasa Melayu", "KuGwz": "üá≤üáæ", "So": "Malay", "ToKz": "ms" },
	// { "Vy": "ms-MY", "Va": "Bahasa Melayu (Malaysia)", "KuGwz": "üá≤üáæ", "So": "Malay (Malaysia)", "ToKz": "ms" },
	// { "Vy": "my", "Va": "·Äó·Äô·Ä¨", "KuGwz": "üá≤üá≤", "So": "Burmese", "ToKz": "my" },
	// { "Vy": "ne", "Va": "‡§®‡•á‡§™‡§æ‡§≤‡•Ä", "KuGwz": "üá≥üáµ", "So": "Nepali", "ToKz": "ne" },
	// { "Vy": "nl", "Va": "Nederlands", "KuGwz": "üá≥üá±", "So": "Dutch", "ToKz": "nl" },
	// { "Vy": "no", "Va": "Norsk", "KuGwz": "üá≥üá¥", "So": "Norwegian", "ToKz": "no" },

	// { "Vy": "pa", "Va": "‡®™‡©∞‡®ú‡®æ‡®¨‡©Ä", "KuGwz": "üáÆüá≥", "So": "Punjabi", "ToKz": "pa" },
	// { "Vy": "pl", "Va": "Polski", "KuGwz": "üáµüá±", "So": "Polish", "ToKz": "pl" },
	// { "Vy": "pt-BR", "Va": "Portugu√™s (Brasil)", "KuGwz": "üáßüá∑", "So": "Portuguese (Brazil)", "ToKz": "pt" },
	// { "Vy": "pt-PT", "Va": "Portugu√™s (Portugal)", "KuGwz": "üáµüáπ", "So": "Portuguese (Portugal)", "ToKz": "pt" },
	// { "Vy": "rm", "Va": "Rumantsch", "KuGwz": "üá®üá≠", "So": "Romansh", "ToKz": "rm" },
	// { "Vy": "ro", "Va": "Rom√¢nƒÉ", "KuGwz": "üá∑üá¥", "So": "Romanian", "ToKz": "ro" },
	// { "Vy": "ru", "Va": "–†—É—Å—Å–∫–∏–π", "KuGwz": "üá∑üá∫", "So": "Russian", "ToKz": "ru" },

	// { "Vy": "si", "Va": "‡∑É‡∑í‡∂Ç‡∑Ñ‡∂Ω", "KuGwz": "üá±üá∞", "So": "Sinhala", "ToKz": "si" },
	// { "Vy": "sk", "Va": "Slovenƒçina", "KuGwz": "üá∏üá∞", "So": "Slovak", "ToKz": "sk" },
	// { "Vy": "sl", "Va": "Sloven≈°ƒçina", "KuGwz": "üá∏üáÆ", "So": "Slovenian", "ToKz": "sl" },
	// { "Vy": "sq", "Va": "Shqip", "KuGwz": "üá¶üá±", "So": "Albanian", "ToKz": "sq" },
	// { "Vy": "sr", "Va": "–°—Ä–ø—Å–∫–∏", "KuGwz": "üá∑üá∏", "So": "Serbian", "ToKz": "sr" },
	// { "Vy": "sv", "Va": "Svenska", "So": "Swedish", "KuGwz": "üá∏üá™", "ToKz": "sv" },
	// { "Vy": "sw", "Va": "Kiswahili", "KuGwz": "üáπüáø", "So": "Swahili", "ToKz": "sw" },

	// { "Vy": "ta", "Va": "‡Æ§‡ÆÆ‡Æø‡Æ¥‡Øç", "KuGwz": "üáÆüá≥", "So": "Tamil", "ToKz": "ta" },
	// { "Vy": "te", "Va": "‡∞§‡±Ü‡∞≤‡±Å‡∞ó‡±Å", "KuGwz": "üáÆüá≥", "So": "Telugu", "ToKz": "te" },
	// { "Vy": "th", "Va": "‡πÑ‡∏ó‡∏¢", "KuGwz": "üáπüá≠", "So": "Thai", "ToKz": "th" },
	// { "Vy": "tl", "Va": "Filipino", "KuGwz": "üáµüá≠", "So": "Filipino", "ToKz": "tl" },
	// { "Vy": "tr", "Va": "T√ºrk√ße", "KuGwz": "üáπüá∑", "So": "Turkish", "ToKz": "tr" },

	// { "Vy": "uk", "Va": "–£–∫—Ä–∞—ó–Ω—Å—å–∫–∞", "KuGwz": "üá∫üá¶", "So": "Ukrainian", "ToKz": "uk" },
	// { "Vy": "ur", "Va": "ÿßÿ±ÿØŸà", "KuGwz": "üáµüá∞", "So": "Urdu", "ToKz": "ur" },
	// { "Vy": "vi", "Va": "Ti·∫øng Vi·ªát", "KuGwz": "üáªüá≥", "So": "Vietnamese", "ToKz": "vi" },

	// { "Vy": "zh", "Va": "‰∏≠ÊñáÔºàÁÆÄ‰ΩìÔºâ", "KuGwz": "üá®üá≥", "So": "Chinese (Simplified)", "ToKz": "zh" },
	// { "Vy": "zh-HK", "Va": "‰∏≠ÊñáÔºàÈ¶ôÊ∏ØÔºâ", "KuGwz": "üá≠üá∞", "So": "Chinese (Hong Kong)", "ToKz": "zh" },
	// { "Vy": "zh-TW", "Va": "‰∏≠ÊñáÔºàÁπÅÈ´îÔºâ", "KuGwz": "üáπüáº", "So": "Chinese (Traditional)", "ToKz": "zh" },
	// { "Vy": "zu", "Va": "Zulu", "KuGwz": "üáøüá¶", "So": "Zulu", "ToKz": "zu" },
];


//==============================================
// LANG/COUNTRY END
//==============================================
//==============================================
// CORE MSGS
//==============================================
const SaPy_vvsg=
[
	'üë§'
	,'üòå','üòé','üòÉ','ü§£','üòâ','üòç','ü§©','üòò','ü§™'
	,'ü§¨','üëø','üíÄ','‚ò†Ô∏è','ü§°','üëπ','üë∫','üëª','üëΩÔ∏è','üëæ','ü§ñ','üóø'
	,'‚≠êÔ∏è','üåÄ','üåà','‚ù§Ô∏è‚Äç','üéµ','üé∂'	,'‚öΩÔ∏è','‚öæÔ∏è','ü•é','üèÄ','üèê','üèà','üèâ'
	,'üêµ','üê∂','üê∫','ü¶ä','ü¶ù','üê±','ü¶Å','üêØ','üê¥','ü¶Ñ','üêÆ','üê∑','üê≠','üê∞','üêª','üê®','üêº','üêß'
	,'ü¶â','üê∏','üêç','üê≤','ü¶ñ','üê≥','üê¨','üêüÔ∏è','ü¶ë','ü¶Ä','ü¶ã','üêù','üêû','ü¶ó','üï∑Ô∏è'

	,'üõê','‚öõÔ∏è','üïâÔ∏è','‚ú°Ô∏è','‚ò∏Ô∏è','‚òØÔ∏è','‚úùÔ∏è','‚ò¶Ô∏è','‚ò™Ô∏è','‚òÆÔ∏è','üïé','üîØ'
	,'‚ôàÔ∏è','‚ôâÔ∏è','‚ôäÔ∏è','‚ôãÔ∏è','‚ôåÔ∏è','‚ôçÔ∏è','‚ôéÔ∏è','‚ôèÔ∏è','‚ôêÔ∏è','‚ôëÔ∏è','‚ôíÔ∏è','‚ôìÔ∏è','‚õé'
];

//-------------------------------------------------
// LANG/COUNTRY END
//-------------------------------------------------
//==============================================
// STARTUP
//==============================================

//----------------------------
// SYSTEM SERVICE_GOVERNOR
//----------------------------
var Ko =
{
	//@@@
	// BOOT
	WASM64_yk: false
	, MoDzYa__GiDri_duk: 0
	, BriYa_GiDri_df: 0.0
	, BriYe_GiDri_df: 0.0

	//@@@
	// UPD
	, YeFo_wu: 0
	, YeWi_df: 0.0
};
window.Ko = Ko;

//==============================================
// LOGS
// Skipped usual 8 layers for minimal JS
//==============================================
function SmaSme(){ var args = Array.prototype.slice.call(arguments); console.log.apply(console, args); }
function SmaDre(){ var args = Array.prototype.slice.call(arguments); console.warn.apply(console, args); }
function SmaTrx(){ var args = Array.prototype.slice.call(arguments); console.error.apply(console, args); }

//==============================================
// SECURITY
//==============================================

//@@@
// CORS must RUN FIRST
SmaSme( "[LAUNCH] Web_Security[ CORS: " + (window.crossOriginIsolated ?  "‚úÖüòÄ" : "‚ùåüòû" ) + " ]" );
if( !window.crossOriginIsolated )
{
	// MSG should display @ DOM
	MoDzTrx( KoSy__KeDru_l.TrxJy00__HrxCheHo__CORS_vsg );
}



//==============================================
// WASM64 preferred
//==============================================
try
{
	// Ko.WASM64_yk = false;
	Ko.WASM64_yk = WebAssembly.validate(new Uint8Array([0,97,115,109,1,0,0,0,5,3,1,4,1]));
}
catch(e)
{
	// WebAssembly is not supported at all
	SmaTrx( 'No Web Assembly: ' + e );
	MoDzTrx( KoSy__KeDru_l.TrxJy01__HrzMoHo__WASM_vsg );
}

Ko.KaBx__TiFo_wuk = navigator.hardwareConcurrency;
SmaSme( "[LAUNCH] Web_Assembly[ " + ( Ko.WASM64_yk ? "64" : "32" ) + "bit:" + ( Ko.WASM64_yk ? "‚úÖüòÄ" : "üÜóüòê") + " ]", "CPUs:", Ko.KaBx__TiFo_wuk );


//==============================================
// DOM
//==============================================

//@@@
// DOM STARTUP
document.addEventListener('readystatechange', function()
{
	// if (document.readyState === 'interactive')
	// {
	// 	SmaSme( "- WebPage_DOM Interactive" );
	// }
	if (document.readyState === 'complete')
	{
		SmaSme( "[LAUNCH] Web_DOM Fully_Loaded" );
	}
});

//==============================================
// MODULE INTERFACE
//==============================================
var Module =
{
	// ERR STATUS
	Trx_vsg: null,
	// REQ: Input
	canvas: document.getElementById('MxPo_Bri'),
	// REQ: load
	totalDependencies: 0,

	//@@@
	// EMCC NOTIFY
	// Define how notification messages from Emscripten are displayed via Module.print attribute.
	'print': function ( Sma_vsg ) { SmaSme( "[Sma]" + Sma_vsg ); },
	'printErr': function ( Sma_vsg ) { SmaSme( "[Trx]" + Sma_vsg ); },
	'onAbort': function ( Sma_vsg ) { MoDzTrx( "[BriDzYi]" + Sma_vsg ); },


	//@@@
	// RUN when WASM_LOADED
	onRuntimeInitialized: function()
	{
        // SmaSme( "WASM module is ready" );
		KoDz__YaFz();
		MoDz__DzStxGru();
    },

	//@@@
	// HEADER BAR
	Sma__KeMe_Bz( Sma_vsg )
	{
		let DzYz__Bz_l = document.getElementById('KeMe_Bz');
		DzYz__Bz_l.innerHTML = "|> "+ ( Sma_vsg );
	},

	//@@@
	// FOOTER BAR
	Sma__KeMe_Bo( Sma_vsg )
	{
		let DzYz__Bo_l = document.getElementById('KeMe_Bo');
		DzYz__Bo_l.innerHTML = "|> " + ( Sma_vsg );
	},

	//@@@
	// LOAD
	monitorRunDependencies( left )
	{
		// NO NEED TO REPORT CURRENTLY
		this.totalDependencies = Math.max(this.totalDependencies, left);
		Module.Sma__KeMe_Bo( left ? ( KoSy__KeDru_l.BriDz_KiMiFe_vsg + ' (' + (this.totalDependencies - left) + '/' + this.totalDependencies + ')') : " " );

	},

};


//==============================================
// ERR
//==============================================

//----------------------------
function MoDzTrx( Trx_vsg )
//----------------------------
{
	//@@@
	// CFG
	// If already 'Err' exit
	if( !Module ) return;
	if( Module.Trx_vsg ) return;
	Module.Trx_vsg = Trx_vsg;

	KoDz__YzChy( BriYz.Trx_qk );

	//@@@
	// ERR MSGBARS

	//&&&
	// HEADER (Fixed)
	// Err Alert, Build Version,
	var Bz_vsg = KoSy__KeDru_l.TrxBz_vsg + " [" + ( window.Ko.Hx_SyDx_vsg ? window.Ko.Hx_SyDx_vsg : "???" ) + " " + BriDzSa__Da_vsg + "] ";
	Module.Sma__KeMe_Bz( Bz_vsg );

	//&&&
	// FOOTER (Dynamic)
	// Please Quit + Err Msg
	var Bo_vsg = KoSy__KeDru_l.TrxKrx_vsg + " " + Trx_vsg;
	Module.Sma__KeMe_Bo( Bo_vsg );


	//&&&
	// DBG
	SmaTrx( Bo_vsg );
	SmaTrx( "*STK_TRACE:", jsStackTrace() );

	// POST for DBG
	// console.error( Bo_vsg );

	// Skip MSGBOX
	// alert( Bo_vsg );

	// DISPLAY ERR
	HryMx00_KeMeTrx();

	// STOP INTERVALS
	// if( window.Ko.Trx_GyHa  ){ clearInterval( window.Ko.Trx_GyHa ); }

	// SERV closes All Else
	KoDz__Yi();
}


//----------------------------
// JS_ERR
window.onerror = (e) =>
//----------------------------
{
	const Trx_vsg = ( JSON.stringify( e ) );
	/*
	// ERR_TYPES
	if (e instanceof TypeError)
	{
		// statements to handle TypeError exceptions
	}
	else if (e instanceof RangeError)
	{
		// statements to handle RangeError exceptions
	}
	else if (e instanceof EvalError)
	{
		// statements to handle EvalError exceptions
	}
	else
	{
		// statements to handle any unspecified exceptions
		//logMyErrors(e); // pass exception object to error handler
	}
	*/

	MoDzTrx( Trx_vsg );
}


//==============================================
// TEST_VALID
//==============================================
function MoDzTrx__NxHo_y( Va, Kri_y )
{
	// SmaSme( "NxHo: ---> " + Va );
	if( !Kri_y )
	{
		MoDzTrx( "ERR: " + Va + " @ " + Kri_y );
		return true;
	}
	return false;
}


//==============================================
// ONE APP only
// PREVENT MULTI_TAB
//==============================================
async function MoDz__DzStxGru()
{
	if( !window.BroadcastChannel )
	{
		SmaSme('!!! Unknown if Duplicate Tab.');
		return;
	}

	// STORE TIME by SESSION
	Ko.MoDzYa__GiDri_duk = (new Date()).getTime();
	sessionStorage.setItem( 'KoGi', Ko.MoDzYa__GiDri_duk );

	// TAB-CONNECTIONS = Broadcast Type
//	var BCHN_l = new BroadcastChannel('tab-connections');
	var BCHN_l = new BroadcastChannel( "MoDz__DzStxGru" );

	//@@@
	//SEND MSG
	// Compare Time
	BCHN_l.postMessage( "MxVy:KoGi" );

	//@@@
	// RECV MSG
	BCHN_l.onmessage = function( e )
	{
		// Split by Colon
		var PKT_k = e.data.split(':');

		if( PKT_k[0] == "KrzVy" )
		{
			// If Newer; Error on Self
			if( Ko.MoDzYa__GiDri_duk > parseInt( PKT_k[1] ))
			{
				SmaSme( "!!! FAIL Duplicate Tab" );
				BCHN_l = null;
				MoDzTrx( KoSy__KeDru_l.TrxJy02__MoDzStxGru_vsg );
			}
			else
			{
				SmaSme( "[LAUNCH] First Tab" );
			}
		}
		else if( PKT_k[0] == "MxVy" )
		{
			// SmaSme('Send Time to Test if Duplicate Tab.');
			BCHN_l.postMessage( "KrzVy:" + Ko.MoDzYa__GiDri_duk );
		}
	}
}


//==============================================
// END
//==============================================
//==============================================
// CFG_LAUNCH
/*
GUI_LAYOUT:
- 1) WHO:
	1.1) PICK ( Ghost, Name, ) Img List?
	- LOCK:
	- Query:
	- Answer:
- 2) HOW:
	- 2.1) LANG: DropDown
	- Legible-Slider
 	- Mute-Vol-slider
	- Scrn: Radio( window, fullscreen, allscreen, mirror-screen )
	* TODO:
		- GPU[list] currently N/A
		- MEM[32 vs 64]
		- PREF[ Enrg vs Spd vs Balance ]
		- WHERE: img list ( Last Session, New, Demo, LearnAbout )
- 3) LAUNCH_BTN
*/
//==============================================

//=====================================
// VERSIONS (Browser & App )
//=====================================
async function Hrz3_Bz__VaDa()
{
	//@@@
	// SEARCH

	// USER AGENT
	const HrzByHx_vsg = navigator.userAgent;
	//SmaSme( "[CFG] HrzByHx:", HrzByHx_vsg );

	// /i IGNORE CASE
	// Matches "Name/Ver", "Name", "Ver" for 3 strings in 'match-Array' result
	let Ni_vsg = HrzByHx_vsg.match(/(chrome|safari|firefox|msie|trident(?=\/))\/?\s*(\d+\.\d+)/i) || [];
	// SmaSme( Ni_vsg );

	// CHILD of CHROME
	let NiNo_vsg = HrzByHx_vsg.match(/(OPR|Edg|OculusBrowser|SamsungBrowser(?=\/))\/?\s*(\d+\.\d+)/i) || [];

	// CLONE name & version#
	if( NiNo_vsg[2] ){ Ni_vsg = NiNo_vsg; }


	// ELSE UNKNOWN
	Ni_vsg = Ni_vsg[2] ? [ Ni_vsg[1], Ni_vsg[2] ] : [ navigator.appName, navigator.appVersion, '-?' ];

	//@@@
	// FORMAT

	// DETECT
	if( (navigator.brave && await navigator.brave.isBrave() || false) ){ Ni_vsg[ 0 ] = "Brave"; }

	// REPLACE
	Ni_vsg[ 0 ] = Ni_vsg[ 0 ].replace( /edg/i, "Edge" );
	Ni_vsg[ 0 ] = Ni_vsg[ 0 ].replace( /opr/i, "Opera" );
	Ni_vsg[ 0 ] = Ni_vsg[ 0 ].replace( /OculusBrowser/i, "Meta" );
	Ni_vsg[ 0 ] = Ni_vsg[ 0 ].replace( /SamsungBrowser/i, "Samsung" );


	// STORE
	Ko.HrzBy__Va_vsg = Ni_vsg[ 0 ];
	Ko.HrzBy__Da_wfk = parseFloat( Ni_vsg[ 1 ] );
	if( isNaN( Ko.HrzBy__Da_wfk ) ){ Ko.HrzBy__Da_wfk = 0.0; }

	SmaSme( "[CFG] HrzBy_VaDa", Ko.HrzBy__Va_vsg, "||", Ko.HrzBy__Da_wfk );
	// NOT WELL SUPPORTED 2026
	// if( navigator.userAgentData && navigator.userAgentData.brands )
	// { SmaSme(  "[CFG] BRAND:", navigator.userAgentData.brands ); }


	//@@@
	// APP VERSION
	document.getElementById( 'BriDzSa__Da' ).innerText = BriDzSa__Da_vsg;

	//@@@
	// SHOW
	const VaDa_v = document.getElementById( 'Hrz3_By__VaDa' );
	VaDa_v.innerText = Ko.HrzBy__Va_vsg + " üì≤ " + Ko.HrzBy__Da_wfk;
}


//==============================================
// USER LAUNCH CFG DEFAULTS
//==============================================

//-------------------------------------------------
// ERASE CURRENT CFG
//-------------------------------------------------
function Hrz4_Bu__KwiYz__FeChi()
{
	const KEY_vsg = "KeDy" + Ko.KwiYz__KeDy_wu;
	// no need to check if exists!
	localStorage.removeItem( KEY_vsg );
}


//-------------------------------------------------
// WRITE CURRENT LAUNCH CFG
//-------------------------------------------------
function Hrz4_Bu__KwiYz__FeChy()
{
	const KEY_vsg = "KeDy" + Ko.KwiYz__KeDy_wu;
	localStorage.setItem( KEY_vsg, JSON.stringify( Ko.KwiYz_l ) );

	SmaSme( "[CFG] KwiYz_Chy:", Ko.KwiYz_l );
}


//-------------------------------------------------
// WRITE DEFAULT LAUNCH CFG
//-------------------------------------------------
function Hrz4_Bu__KwiYz__ChyDe()
{
	//@@@
	// GOVERN
	Ko.KwiYz_l.Ne01_Ko04__KoDz_YoHo_y_y = true;
	//Ko.KwiYz_l.Ne01_Ko04__KoDz_YoHo_y_y = false;


	//@@@
	// USER[ 3 ]
	Ko.KwiYz_l.KeDru_wu = 0;
	Ko.KwiYz_l.KeDy_vsg = "Guest";
	Ko.KwiYz_l.KeDru_vsg = navigator.language;


	//@@@
	// TEMPORAL[ 2 ]
	Ko.KwiYz_l.Ne02_Hru00__MxPeHoVu_q = true;
	Ko.KwiYz_l.Ne02_Hru01__MxPeVu_sa = 1.0;

	//@@@
	// SPATIAL[ 2 ]
	Ko.KwiYz_l.Ne03_Hry02__HriKe_y = false;

	// 'De'
	Ko.KwiYz_l.Ne03_Hry04__SmzYz_q = 2;
	Ko.KwiYz_l.Ne03_Hry05__GyBraHi_bu = 4;

	//		, "Ne03_Hry04__SmzYz_vsg": "üìäMethod"
	//, "": "üìàQuality"
	//, "Ne03_Hry06__TyGy_vsg": "üß±Detail"

	//@@@
	// STORE & LOG
	SmaSme( "[CFG] KwiYz_De:", Ko.KwiYz_l );
	Hrz4_Bu__KwiYz__FeChy();
}

//-------------------------------------------------
// FIND LAUNCH CFG
//-------------------------------------------------
function Hrz4_Bu__KwiYz__Fy()
{
	const KEY_vsg = "KeDy" + Ko.KwiYz__KeDy_wu;

	//@@@
	// FORCE DEFAULT
//	const VAL_vsg = localStorage.getItem( KEY_vsg );
	const VAL_vsg = false;

	if( VAL_vsg )
	{
		Ko.KwiYz_l = JSON.parse( VAL_vsg );
		SmaSme( "[CFG] KwiYz_Fy:", Ko.KwiYz_l );
	}
	else
	{
		Hrz4_Bu__KwiYz__ChyDe();
	}
}


//==============================================
// Hre1_Dru CULTURE
//==============================================

//-------------------------------------------------
// MENU CLEAR
//-------------------------------------------------
function Hri3_Ne__Ta_ChyStz( Ta_v )
{
	while ( Ta_v.firstChild )
	{
		Ta_v.removeChild( Ta_v.lastChild );
	}
}

//-------------------------------------------------
// LOAD JSON
//-------------------------------------------------
async function ToKz__JSON_v( ChaKuTu_vbg, ToKzVa_vbg )
{
	try
	{
		let KuTu_vbg = `${BriDz__Mx_KuTu_vsg}Mx07__SuSmi_WEBPG/${ChaKuTu_vbg}${ToKzVa_vbg}.json`;
		// SmaSme( `FILE seeking: ${KuTu_vbg}`);

		const res = await fetch( KuTu_vbg,
		{
			headers:
			{
				Accept: 'application/json'
			}
		} );
		const json = await res.json();
		return json;
	}
	catch( err )
	{
		SmaTrx( `FileRead_Error: ${err}` );
	}
}

//-------------------------------------------------
// CULTURE LOAD LANG
//-------------------------------------------------
async function Hre1_Dru__ChyKeDru( KeKuMi_vbg )
{
	//-------------------------------------------------
	// LANG/LOCALE
	//-------------------------------------------------
	let Fe__KeDru_vbg = 'en';
	let Fe__KuVa_vbg = "";
	let KeKu__ToKz_vbg = 'en';


	//@@@
	// LANG BASICS
	Fe__KeKu_vbg = KeKuMi_vbg;
	Fe__KeDru_vbg = KeKuMi_vbg.split( "-" )[ 0 ]
	Fe__KuVa_vbg = KeKuMi_vbg.split( "-" )[ 1 ]

	//&&&
	// CHECK LOCALE
	let KeKu_l = Hre1_Dru__Gra_v.find( ( Ti_l ) => ( Ti_l.Vy === Fe__KeKu_vbg ) );
	// IF NOT, CHECK just LANG
	if( !KeKu_l )
	{
		KeKu_l = Hre1_Dru__Gra_v.find( ( Ti_l ) => ( Ti_l.Vy === Fe__KeDru_vbg ) );
	}
	if( KeKu_l )
	{
		KeKu__ToKz_vbg = KeKu_l.ToKz;
	}

	SmaSme( "[CFG] CULTURE: " + KeKu__ToKz_vbg + " Locale: " + Fe__KeKu_vbg + " Lang: " + Fe__KeDru_vbg + " Country: " + ( Fe__KuVa_vbg ? Fe__KuVa_vbg : "Global" ) );


	//&&&
	// TEXT_DIR
	// Set text direction
	const rtlLanguages = [ 'ar', 'he', 'fa' ];
	if ( rtlLanguages.includes( Fe__KeDru_vbg ) )
	{
		document.body.dir = 'rtl';
	}
	else
	{
		document.body.dir = 'ltr';
	}

	//@@@
	// LANG_FILE
	let KeDru_v = await ToKz__JSON_v( 'SuSmi03__CONTENTS/', `VaFz.${KeKu__ToKz_vbg}` );
	if ( !KeDru_v && (Fe__KeDru_vbg !=='en' ))
	{
		SmaDre( "Cannot Find VaFz for User Lang" );
		// Defaults to en usa
		Hre1_Dru__ChyKeDru( 'en-us' );
		return;
	}

	//&&&
	// CFG SAVE
	Ko.KwiYz_l.KeDru_vsg = KeKuMi_vbg;


	//&&&
	// SUBMIT BTN
	const HriNe_KwiVu_k = document.getElementById( 'BriDz02_TraKwi_vsg' );
	HriNe_KwiVu_k.value = KeDru_v.LABELS.BriDz02_TraKwi_vsg;
	HriNe_KwiVu_k.focus();

	//&&&
	// UPDATE LABELS
	// SmaDx__Kz_JSON( KeDru_v.LABELS );
	Object.entries( KeDru_v.LABELS ).forEach
	(
		function ( [ Vy_vbg, Va_vbg ] )
		{
			let Elm_l = document.getElementById( Vy_vbg );
			if( Elm_l )
			{
				//SmaSme( `--------*LABEL MATCH*: ${Vy_vbg}`, Va_vbg );
				Elm_l.innerText = Va_vbg;
			}
			else
			{
				SmaSme( `--------*LABEL UNUSED*: ${Vy_vbg}-----------` );
			}
		}
	);
}

//-------------------------------------------------
// DETECT CHANGES in CULTURE
//-------------------------------------------------
function JeKeDru_JeChy()
{
	const TaKeDru_l = document.getElementById( 'TaKeDru' );
	//SmaSme( "CHG!", TaKeDru_l );

	Hre1_Dru__ChyKeDru( TaKeDru_l.value );
}


//-------------------------------------------------
// INIT CULTURE DEFAULTS
//-------------------------------------------------
async function Hre1_Dru__BriYa()
{
	//@@@
	// FILL AVAIL LANG ENTRIES
	const TaKeDru_l = document.getElementById( 'TaKeDru' );

	// Clear List
	Hri3_Ne__Ta_ChyStz( TaKeDru_l );
	Hre1_Dru__Gra_v.forEach( function ( Ti_v, Vx_wu )
	{
		//
		//SmaSme( "------ Vx_wu:", Vx_wu, Ti_v.Va );

		//&&&
		// ADD BTN
		const Kz_l = document.createElement( 'option' );
		Kz_l.innerText = `${Ti_v.KuGwz} ${Ti_v.Va}`;

		// let JiTra_vbg = `Hre1_Dru__ChyKeDru( '${Ti_v.Vy}' );`;
		// Kz_l.setAttribute( "onclick", JiTra_vbg );
		// Kz_z.style.width=55;
		Kz_l.className = 'HriNeTi WaDru_Ka';
		Kz_l.value = Ti_v.Vy;

		TaKeDru_l.appendChild( Kz_l );
	});

	//@@@
	// SELECT DEFAULT
	TaKeDru_l.selectedIndex = Ko.KwiYz_l.KeDru_wu;
	Hre1_Dru__ChyKeDru( Ko.KwiYz_l.KeDru_vsg );
}


//=====================================
// USR
//=====================================
//-------------------------------------------------
// CHG USER
//-------------------------------------------------
function JeKeDy_JeChy()
{
	const TaKeDy_l = document.getElementById( 'TaKeDy' );

	if( TaKeDy_l.selectedIndex >= 0 )
	{
		Ko.KwiYz__KeDy_wu = TaKeDy_l.selectedIndex;
		Hrz4_Bu__KwiYz__Fy();

		// CHG LANG
		Hre1_Dru__ChyKeDru( Ko.KwiYz_l.KeDru_vsg );

		// SELECT FEATURES
		Hrz4_Bu__ChyNeKu( null, 0 );
	}

	SmaSme( "USR:", TaKeDy_l.value, TaKeDy_l.selectedIndex  );

	//@@@
	// NAME/PWD
	// Turn SECURITY on/off
	// ( TaKeDy_l.value );
	// Check Answer to QUERY


	//@@@
	// SET GUI

}

//-------------------------------------------------
// ERASE USER LAUNCH CFGs
//-------------------------------------------------
function Hrz4_Bu__TaKeDy__Chi()
{
	// localStorage.removeItem(  );


}

//-------------------------------------------------
// DEFAULTS ALL USER LAUNCH CFGs
//-------------------------------------------------
function Hrz4_Bu__TaKeDy__ChyDe()
{
	localStorage.clear();
	//
}

//-------------------------------------------------
// LOAD USERS
//-------------------------------------------------
function Hrz4_Bu__TaKeDy__Fy()
{
	Ko.KwiYz__KeDy_wu = 0;

	//@@@
	// FILE AVAIL USER ENTRIES
	const TaKeDy_l = document.getElementById( 'TaKeDy' );
	Hri3_Ne__Ta_ChyStz( TaKeDy_l );

	SaNo__TaKeDy_l =
	[
		  { Va: "Guest", Gwz: "üë§", Che: false }
		, { Va: "Ghost", Gwz: "üëª", Che: false }
		, { Va: "Kiosk", Gwz: "üé∞", Che: false }
		, { Va: "Pro", Gwz: "üßë‚Äçüíª", Che: true }
	];

	SaNo__TaKeDy_l.forEach( function ( Ti_v, Vx_wu )
	{
		//SmaSme( "------ Vx_wu:", Vx_wu, Ti_v.Va );

		//&&&
		// ADD BTN
		const Kz_l = document.createElement( 'option' );
		Kz_l.innerText = `${Ti_v.Gwz} ${Ti_v.Va}`;

		Kz_l.className = 'HriNeTi WaDru_Ka';
		Kz_l.value = Ti_v.Va;

		TaKeDy_l.appendChild( Kz_l );
	});
}

//=====================================
// END
//=====================================
//==============================================
// GUI ELEMENTS
//==============================================


//=====================================
// DRAW_2D_PTRN
//=====================================
function Hry_DriBrz( MxVa_vsg, KuPo_l, KwzPo_l, KwaPo_l )
{
	//@@@
	// 1/4
	// CANVAS RESIZE
	const Mx_l = document.getElementById( MxVa_vsg );
	if( !Mx_l ) return;

	Mx_l.width = Mx_l.clientWidth;
	Mx_l.height = Mx_l.clientHeight;

	const Sx_l = Mx_l.getContext("2d");
	if( !Sx_l )return;

	//@@@
	// 2/4
	// PRINT GRID
	Sx_l.scale( 1.0, 1.0 );
	Sx_l.beginPath();
	Sx_l.fillStyle = KuPo_l;
	Sx_l.fillRect( 0, 0, Mx_l.width, Mx_l.height );

	//@@@
	// 3/4
	// INNER GRID
	Sx_l.strokeStyle = KwzPo_l
	Sx_l.lineWidth = 1;
	const Kwz__TiGy_wuk = 32;

	// Draw vertical lines
	for (let x = 0; x <= Mx_l.width; x += Kwz__TiGy_wuk )
	{
		Sx_l.beginPath();
		Sx_l.moveTo(x, 0);
		Sx_l.lineTo(x, Mx_l.height);
		Sx_l.stroke();
	}

	// Draw horizontal lines
	for (let y = 0; y <= Mx_l.height; y += Kwz__TiGy_wuk )
	{
		Sx_l.beginPath();
		Sx_l.moveTo(0, y);
		Sx_l.lineTo(Mx_l.width, y);
		Sx_l.stroke();
	}

	//@@@
	// 4/4
	// OUTER GRID
	Sx_l.strokeStyle = KwaPo_l;
	Sx_l.lineWidth = 2;
	const Kwa__TiGy_wuk = 128;

	// Draw vertical lines
	for (let x = 0; x <= Mx_l.width; x += Kwa__TiGy_wuk )
	{
		Sx_l.beginPath();
		Sx_l.moveTo( x, 0 );
		Sx_l.lineTo( x, Mx_l.height );
		Sx_l.stroke();
	}

	// Draw horizontal lines
	for (let y = 0; y <= Mx_l.height; y += Kwa__TiGy_wuk )
	{
		Sx_l.beginPath();
		Sx_l.moveTo(0, y);
		Sx_l.lineTo( Mx_l.width, y);
		Sx_l.stroke();
	}

}

//==============================================
// USR_AVATAR__LOAD
//==============================================
function KeDy__MySaPy( e )
{
	const SaPy_vksg = SaPy_vvsg[ e ];
	document.getElementById( "Ne00_KeDy03__NiJaPo_q" ).innerText = SaPy_vksg;
}


//==============================================
// CFG_LOAD
// WRT_GUI_w_STOR_DATA
//==============================================
function KoKwiYz_My()
{
	//---------------------------------
	// GUI PREFS
	//---------------------------------

	//@@@
	// Ne00__WHO
	const TaKeDy_l = document.getElementById( 'TaKeDy' );
	TaKeDy_l.selectedIndex = Ko.KwiYz__KeDy_wu;
	// TaKeDy_l.value = Ko.KwiYz_l.KeDy_vsg;


	document.getElementById("Ne00_KeDy08__SmzKz__Sma_vsg").disabled = false;

	const NiJaPo__Ta_l = document.getElementById("Ne00_KeDy03__NiJaPo__Ta_l");
	Hri3_Ne__Ta_ChyStz( NiJaPo__Ta_l );
	for( let e = 0; e< SaPy_vvsg.length; e++ )
	{
		//&&&
		// ADD BTN

		const Kz_l = document.createElement( 'span' );
		Kz_l.className = 'NiJaPo_Va';
		Kz_l.onclick = function() { KeDy__MySaPy( e ); }

		Kz_l.innerText = SaPy_vvsg[ e ];
		NiJaPo__Ta_l.appendChild( Kz_l );
	}

	// SET AVATAR;
	document.getElementById( "Ne00_KeDy03__NiJaPo_q" ).innerText = SaPy_vvsg[ 41 ];


	//@@@
	// Ne01__NODE
	document.getElementById( 'Ne01_Ko04__KoDz_YoHo_y' ).value = Ko.KwiYz_l.Ne01_Ko04__KoDz_YoHo_y;


	//@@@
	// Ne02__AUDIO
	document.getElementById( 'Ne02_Hru00__MxPeHoVu' ).value = Ko.KwiYz_l.Ne02_Hru00__MxPeHoVu_q;
	document.getElementById( 'Ne02_Hru00__MxPeVu' ).value = Ko.KwiYz_l.Ne02_Hru00__MxPeVu_sa;

	//@@@
	// Ne03__VISUAL
	document.getElementById( 'Ne03_Hry02__HriKe_y' ).checked = Ko.KwiYz_l.Ne03_Hry02__HriKe_y;


}

//==============================================
// CFG_SAVE
// STOR_DATA_w_GUI_CHGS
//==============================================
function KoKwiYz_Chy()
{
	//---------------------------------
	// SESSION CFG
	//---------------------------------

	//@@@
	// Ne00__WHO
	const TaKeDy_l = document.getElementById( 'TaKeDy' );
	Ko.KwiYz__KeDy_wu = TaKeDy_l.selectedIndex;
	Ko.KwiYz_l.KeDy_vsg = TaKeDy_l.value;

	//@@@
	// Ne01__NODE
	Ko.KwiYz_l.Ne01_Ko04__KoDz_YoHo_y_y = document.getElementById( 'Ne01_Ko04__KoDz_YoHo_y' ).value;

	//@@@
	// Ne02__AUDIO
	Ko.KwiYz_l.Ne02_Hru00__MxPeHoVu_q = document.getElementById( 'Ne02_Hru00__MxPeHoVu' ).value;
	Ko.KwiYz_l.Ne02_Hru00__MxPeVu_sa = document.getElementById( 'Ne02_Hru00__MxPeVu' ).value;


	//@@@
	// Ne03__VISUAL
	Ko.KwiYz_l.Ne03_Hry02__HriKe_y = false; // document.getElementById( 'Ne03_Hry02__HriKe_y' ).value;


	//@@@
	// SYNC
	Hrz4_Bu__KwiYz__FeChy();
}

//==============================================
// RESIZE_00 FAIL
//==============================================
function HryMx00_KeMeTrx()
{
	//---------------------------------
	// VIEWS
	//---------------------------------
	const Ku00_k = document.getElementById('Ku00_KeMeKwi');
	const Ku01_k = document.getElementById('Ku01_KeMeTrx');
	const Ku02_k = document.getElementById('Ku02_KeMeBri');

	Ku00_k.style.display = 'none';
	Ku01_k.style.display = 'block';
	Ku02_k.style.display = 'none';

	//---------------------------------
	// CANVAS
	//---------------------------------
	Hry_DriBrz( 'MxPo_Trx',  "#FF1111", "#BB9999", "#DDBBBB" );

	//---------------------------------
	// MSG
	//---------------------------------
	const TrxBz_k = document.getElementById('TrxBz');
	const TrxKa_k = document.getElementById('TrxKa');

	TrxBz_k.innerText = KoSy__KeDru_l.BriDz_VaSy_vsg + " " + KoSy__KeDru_l.TrxBz_vsg + BriDzSa__Da_vsg;
	TrxKa_k.innerText = Module.Trx_vsg;
}


//=====================================
// RESIZE_01 LAUNCH_CFG
//=====================================
function HryMx01_KeMeKwi()
{
	//---------------------------------
	// VIEWS
	//---------------------------------
	const Ku00_k = document.getElementById('Ku00_KeMeKwi');
	const Ku01_k = document.getElementById('Ku01_KeMeTrx');
	const Ku02_k = document.getElementById('Ku02_KeMeBri');

	Ku00_k.style.display = 'block';
	Ku01_k.style.display = 'none';
	Ku02_k.style.display = 'none';

	//---------------------------------
	// CANVAS
	//---------------------------------
	const TaPo_v =
	[
		// GRAFPAPER:
		"#EEEEFF", "#AAAAFF", "#8888FF"
		// BLUEPRINT:
		, "#8888BB", "#9999CC", "#BBBBEE"
		// YELLOWGRAF
		, "#BBBB77", "#7777EE", "#777777"
		// PURPLE
		, "#993399", "#999999", "#CCCCCC"

		// PINE
		, "#447744", "#339933", "#55BB55"
		// ORANGE
		, "#DD9933", "#7777EE", "#777777"
		// CHARCOAL
		, "#555555", "#888888", "#AAAAAA"
		// DARK
		, "#000000", "#555555", "#888888"
	];

	// INDEX[ 8 ] by 3
	// const FePo_k = 5 * 3;
	const FePo_k = ( BriDzSa__Da_wuk & 7 ) * 3;
	Hry_DriBrz( 'MxPo_Kwi', TaPo_v[ FePo_k + 0 ],TaPo_v[ FePo_k + 1 ],TaPo_v[ FePo_k + 2 ] );

	//---------------------------------
	// SETUP GUI
	//---------------------------------
	KoKwiYz_My();

	//@@@
	// LOG
	SmaSme( "[GUI] KwiYz_My:", Ko.KwiYz_l );
}


//==============================================
// RESIZE_02 LIFE
//==============================================
function HryMx02_KeMeBri()
{
	//---------------------------------
	// VIEWS
	//---------------------------------
	const Ku00_k = document.getElementById('Ku00_KeMeKwi');
	const Ku01_k = document.getElementById('Ku01_KeMeTrx');
	const Ku02_k = document.getElementById('Ku02_KeMeBri');

	Ku00_k.style.display = 'none';
	Ku01_k.style.display = 'none';
	Ku02_k.style.display = 'block';

	//---------------------------------
	// CANVAS
	// Leave to 'WG'
	//---------------------------------
	//const MxPo_Bri_l = document.getElementById('MxPo_Bri');
	// if( !MxPo_Bri_l )return;
}

//==============================================
// TEK_TAB as SECTION
// CHANGE VISIBLE
//==============================================
function Hrz4_Bu__ChyNeKu( Vx_wu )
{
	const HriNzVa_v = document.getElementsByClassName( "HriNzVa" );
	const NeKuJy_v = document.getElementsByClassName( "NeKuJy" );
	if( ( Vx_wu > HriNzVa_v.length ) || ( Vx_wu < 0 ) || ( HriNzVa_v.length !== NeKuJy_v.length )) { return;}

	//@@@
	// SELECT MENU
	for (i = 0; i < HriNzVa_v.length; i++)
	{
		HriNzVa_v[i].className = ( Vx_wu === i ) ? "HriNzVa WaDru_Bz HriNzVa_Se" : "HriNzVa WaDru_Bz";
	}

	//@@@
	// SHOW/HIDE SECTIONS
	for (i = 0; i < NeKuJy_v.length; i++)
	{
		NeKuJy_v[i].style.display = ( Vx_wu === i ) ? "grid" : "none";
	}
}

//==============================================
// RUN LIFE
// via LAUNCH BTN
//==============================================
function Tra_KeMeBri()
{
	HryMx02_KeMeBri();

	//!!!
	// VISUAL
	// if different now, must redo WG
	//!!!

	// const Cha__YzVi_q =  document.getElementById( 'WG' ).value;
	//const Cha__YzVi_q = 0;
	const Cha__YzVi_q = Ko.KwiYz_l.Ne03_Hry04__SmzYz_q;
	if( Cha__YzVi_q !== Ko.KwiYz_l.Ne03_Hry04__SmzYz_q )
	{
		Ko.KwiYz_l.Ne03_Hry04__SmzYz_q = Cha__YzVi_q;

		// Restart WG
		const SaWG_l = Ko.SySmz_v[ SyVx.WG_qk ];
		SaWG_l.KaSmz_l.destroy();
	}

	KoKwiYz_Chy();

	//---------------------------------
	// LAUNCH HERE
	//---------------------------------

	//@@@
	// ECOSYS PLAY
	SmaSme( "[LAUNCH] User:", Ko.KwiYz_l.KeDy_vsg, " NEVER_PAUSE:", Ko.KwiYz_l.Ne01_Ko04__KoDz_YoHo_y_y );
	if( KoDz__YzYa_y() )
	{
		SmaSme( "[LAUNCH] ACTIVE via Resume" );

		//&&&
		// LAUNCH SERVICES that REQUIRE a 'click'
		KoDz__YaFx();
		//&&&
		// PAUSE so 'RESUME' triggers
		KoDz__YzChy( BriYz.Yo_qk );
		//&&&
		// RESUME Update
		KoDz__YuChy();
	}
}

//==============================================
// RESIZE
//==============================================
function KoDz_GyHa()
{
	//@@@
	// MxPo^SCREEN
	SmaSme( "GyHa: ", window.innerWidth, window.innerHeight, " Legible Px/Em: ", Ko.em2px_wfk );

	//@@@
	// UPDATE MODE
	( KoDz__YzYa_y() ) ? HryMx01_KeMeKwi() : ( KoDz__YzTrx_y() ? HryMx00_KeMeTrx() : HryMx02_KeMeBri() );

	//@@@
	// EM SIZE
	Ko.em2px_wfk = Number(window.getComputedStyle(document.body).getPropertyValue('font-size').match(/\d+/)[0]);
}

//==============================================
// END
//==============================================
//==============================================
// SYSLIFE
//==============================================

//==============================================
// JSON_RD^ToKz_My
//==============================================
async function Hra6_Ku__ToKz_My__vJSON( ChaKuTu_vsg, ToKzVa_vsg )
{
	let KuTu_vbg = BriDz__Mx_KuTu_vsg + ChaKuTu_vsg + ToKzVa_vsg;
	SmaSme( "FILE seeking JSON: " + KuTu_vbg );
	try
	{
		const Smx_k = await fetch( KuTu_vbg, { headers: { Accept: 'application/json' } } );
		const ToKz_v = await Smx_k.json();
		//SmaSme( ToKz_v );
		return ToKz_v;
	}
	catch ( e ) { MoDzTrx( KoSy__KeDru_l.TrxJy__SuKz_GriHo_vsg + " @ " + ToKzVa_vsg + " --> " + e ); }
	return null;
};

//==============================================
// TXT_RD^ToKz_My
//==============================================
async function Hra6_Ku__ToKz_My__vsg( ChaKuTu_vsg, ToKzVa_vsg )
{
	let KuTu_vbg = BriDz__Mx_KuTu_vsg + ChaKuTu_vsg + ToKzVa_vsg;
	//SmaSme( "FILE seeking TEXT: " + KuTu_vbg );
	try
	{
		const Smx_k = await fetch( KuTu_vbg );
		const ToKz_v = await Smx_k.text();
		// SmaSme( ToKz_v );
		return ToKz_v;
	}
	catch ( e ) { MoDzTrx( KoSy__KeDru_l.TrxJy__SuKz_GriHo_vsg + " @ " + ToKzVa_vsg + " --> " + e ); }
	return null;
};

//==============================================
// BLOB_RD^ToKz_My
//==============================================
async function Hra6_Ku__ToKz_My__vBLOB( ChaKuTu_vsg, ToKzVa_vsg )
{
	let KuTu_vbg = BriDz__Mx_KuTu_vsg + ChaKuTu_vsg + ToKzVa_vsg;
	SmaSme( "FILE seeking BLOB: " + KuTu_vbg );
	try
	{
		const Smx_k = await fetch( KuTu_vbg );
		const ToKz_v = await Smx_k.blob();
		return ToKz_v;
	}
	catch ( e ) { MoDzTrx( KoSy__KeDru_l.TrxJy__SuKz_GriHo_vsg + " @ " + ToKzVa_vsg + " --> " + e ); }
	return null;
};

//==============================================
// BLOB_WRT^ToKz_Chy
//==============================================
async function Hra6_Ku__ToKz_ChyBLOB(blob, filename)
{
    const a = document.createElement('a');
    a.href = URL.createObjectURL(blob);
    a.download = filename;
    document.body.appendChild(a);
    a.click();
    a.remove();
}

//==============================================
// BUF_RD^ToKz_My
//==============================================
async function Hra6_Ku__ToKz_My__vBUF( ChaKuTu_vsg, ToKzVa_vsg )
{
	let KuTu_vbg = BriDz__Mx_KuTu_vsg + ChaKuTu_vsg + ToKzVa_vsg;
	SmaSme( "FILE seeking BUFFER: " + KuTu_vbg );
	try
	{
		const Smx_k = await fetch( KuTu_vbg );
		const ToKz_v = await Smx_k.arrayBuffer();
		return ToKz_v;
	}
	catch ( e ) { MoDzTrx( KoSy__KeDru_l.TrxJy__SuKz_GriHo_vsg + " @ " + ToKzVa_vsg + " --> " + e ); }
	return null;
};


//==============================================
// IDB STOR
//==============================================

//---------------------------------------------------
// IDB INIT
//---------------------------------------------------
const IDB_Ko_l = new Promise((resolve, reject) =>
{
	// IDB NAME & VER #
	const Da_wuk = 1;
	const request = indexedDB.open('handle', Da_wuk );

	// CALLED when we change VER# above
	request.onupgradeneeded = ( e ) =>
	{
		const db = event.target.result;
		db.createObjectStore( 'handles', { keyPath: 'id' } );
	};

	request.onsuccess = ( e ) =>
	{
		// SmaSme("IDB_Good\n");
		resolve( e.target.result );
	};

	request.onerror = ( e ) =>
	{
		SmaTrx( e );
		reject( e.target.error);
	};
});


//---------------------------------------------------
// IDB Chy
//---------------------------------------------------
/* Saves a directory handle to the database.
 * @param {FileSystemDirectoryHandle} ToKzVy  - The directory handle to save.
 * @returns {Promise<void>} A promise that resolves when the handle is saved.
 */
//async function
const IDB_ToKzVy__Chy = (Va, ToKzVy) =>
{
	return new Promise((resolve, reject) =>
	{
		IDB_Ko_l.then((db) =>
		{
			const transaction = db.transaction(['handles'], 'readwrite');
			const store = transaction.objectStore( 'handles' );
			const request = store.put({id: Va, handle: ToKzVy});

			request.onsuccess = () =>
			{
				SmaSme("IDB Handle Saved\n");
				resolve();
			}
			request.onerror = () =>
			{
				SmaSme("IDB Handle Failed\n");
				reject( request.error );
			}
		});
	});
};

//---------------------------------------------------
// IDB My
//---------------------------------------------------
// Retrieves the last saved folder handle from the database.
// @returns {Promise<FileSystemDirectoryHandle|undefined>}
// A promise that resolves with the folder handle or undefined if not found.
//
const IDB_ToKzVy__My = ( Va ) =>
{
	return new Promise((resolve, reject) =>
	{
		IDB_Ko_l.then((db) =>
		{
			const transaction = db.transaction(['handles'], 'readonly');
			const store = transaction.objectStore('handles');
			const request = store.get(Va);

			request.onsuccess = ( e ) =>
			{
				SmaSme("IDB Handle Found\n" + e.target.result );
				resolve( e.target.result?.handle );
			}

			request.onerror = () =>
			{
				SmaSme("IDB Handle UNK\n");
				reject(request.error);
			}
		});
	});
};


//==============================================
// END
//==============================================
//----------------------------
// SYS_CFG^KoYz
//----------------------------
const BriYz = Object.freeze
({
	HxHo_qk: 0
	, Trx_qk: 1
	, Cho_qk: 2
	, Che_qk: 3

	, Ya_qk: 4
	, Ye_qk: 5
	, Yo_qk: 6
	, Yi_qk: 7
});

//==============================================
// SERV SETUP
//==============================================
function SySmz__BriYz_ChyYi( Sa_l ){ Sa_l.BriYz_q = BriYz.Yi_qk; }
function SySmz__BriYz_ChyTrx( Sa_l ){ Sa_l.BriYz_q = BriYz.Trx_qk; }

function SySmz__YaFz_v( Ji_k ){ return{ Ji: Ji_k, BriYz_q: BriYz.Ya_qk }; }
function SySmz__YaFx_v( Sa_l ){ Sa_l.BriYz_q = BriYz.Ye_qk; return Sa_l; }
function SySmz__BriYz__Ye_y( Sa_l ){ return ( Sa_l && ( Sa_l.BriYz_q !== undefined ) && ( Sa_l.BriYz_q === BriYz.Ye_qk )); }

const SyVx = Object.freeze
({
	//----------------------------------------------------------
	// SERV_REQ
	//----------------------------------------------------------
	CFG_qk: 0
	, TAK_qk: 1
	, FS_qk: 2
	, TRU_qk: 3

	// Hra7_Ta^FMT
	, STRM_qk: 4
	, FNT_qk: 5

	// Hry^VIS
	, WG_qk: 6
	, GLF_qk: 7

	// Hra4_Bru^NET
	, NET_qk: 8

	// Hra6_Ku^GATE
	, SHAR_qk: 9
	, PAY_qk: 10
	, CAL_qk: 11

	// Hra5_Ka^CHIP
	, USB_qk: 12
	, GPS_qk: 777

	// Hra0_Ko^COMPUTER
	, ENRG_qk: 777

	// Hru^AUD
	, WA_qk: 777
	, HEAR_qk: 777
	, SAY_qk: 777

	// Hry^VIS
	, XR_qk: 13
	, GLES_qk: 777
	, SCRN_qk: 777


	//----------------------------------------------------------
	// SERV_OPT
	//----------------------------------------------------------
	, LANG_qk: 777
	, ZSTD_qk: 777
	, AVATAR_qk: 777
	, TONE_qk: 777

	, WT_qk: 777
	, ML_qk: 777
	, MPLYR_qk: 777
	, GEN_qk: 777


	//----------------------------------------------------------
	// SERV_CNT
	//----------------------------------------------------------
	, DoFo_wuk: 9
	, SmiFo_wuk: 0
});

const SyVx__GryFo_wuk = SyVx.DoFo_wuk + SyVx.SmiFo_wuk;
const SuKz__GryFo_wuk = 10;

//==============================================
// SERV_ADD^ChaSy
//==============================================
async function Hrz7_Kru__ChaSySmz( SyJy_vsg, ToKz_vsg, SyTu_vsg, VaDy_vsg, SySmz__Kri_yk, Yz_l )
{
	//@@@
	// ECOSYS_GOOD
	if( KoDz__YzTrx_y() ) return;

	const VaSy_vsg = SyTu_vsg + VaDy_vsg;
	const Do_yk = ( SyTu_vsg === "Do" );

	//@@@
	// IF NOT ALREADY LOADED!
	if( !window[ VaSy_vsg ] )
	{
		const JS_k = await import( BriDz__Mx_KuTu_vsg + "Mx07__SuSmi_WEBPG/SuSmi01__JS/" + ( Do_yk ? "JS02_Do" : ( "JS03_Swi/Swi" + VaDy_vsg ) ) + "/" + SyJy_vsg + "__" + ToKz_vsg + "__" + VaSy_vsg + ".js" );
		// SmaSme( "SERV-MODULE", JS_k );
	}

	//@@@
	// AWAIT BEGIN SERV_ADD
	const SyVx_wuk = SyVx[ VaDy_vsg + "_qk" ];
	// SmaSme( "--- SERV_FyGri [", SyVx_wuk, "]" );

	//&&&
	// Need available for ERR below
	const Sy_l = await window[ VaSy_vsg ].BriYa( Yz_l );
	if( Sy_l )
	{
		Ko.SySmz_v[ SyVx_wuk ] = Sy_l;

		//$$$
		// LOG
		SmaSme( "--- SERV_Cha [", SyVx_wuk, "]: ", Sy_l.Ji.VaSy, " = ", Sy_l, "KoYz ", Ko.Dz__Yz_q );

		//$$$
		// OBJ_REPORT
		// if( Sy_l.Ji.SmaYz ){ Sy_l.Ji.SmaYz( Sy_l ); }
	}

	//!!!
	// IF ANYTHING ERR'D, Then Release Us
	if( KoDz__YzTrx_y())
	{
		Hrz7_Kru__ChiSySmz( SyVx_wuk );
		const VaVx_vsg = VaDy_vsg + " #" + SyVx_wuk;
		// &&&
		// REQ --> FAIL means ERR
		if( SySmz__Kri_yk )
		{
			MoDzTrx( KoSy__KeDru_l.TrxJy__SySmz_GriHo_vsg + VaVx_vsg );
		}
		//&&&
		// XTNDED --> FAIL means ALERT
		else
		{
			SmaDre( KoSy__KeDru_l.Dre__SySmz_GriHo_vsg + VaVx_vsg );
		}
	}
}


//==============================================
// SERV_REMOVE^ChiSy
//==============================================
function Hrz7_Kru__ChiSySmz( SyVx_wuk )
{
	const Sy_l = Ko.SySmz_v[ SyVx_wuk ];
	if( !Sy_l ) return;

	SmaSme( "--- SERV_Chi[", SyVx_wuk, "]: ", Sy_l.Ji.VaSy, " = ", Sy_l );

	if( Sy_l.Ji.BriYi ){ Sy_l.Ji.BriYi( Sy_l ); }

	Ko.SySmz_v[ SyVx_wuk ] = null;
}

//==============================================
// END
//==============================================
//==============================================
// SYSLIFE
//==============================================
//==============================================
// STATUS
//==============================================

//@@@
// SAFE CHANGE (never overwrite ERR)
function KoDz__YzChy( Yz_k )
{
	if( Ko.Dz__Yz_q === BriYz.Trx_qk ) return;
	Ko.Dz__Yz_q = Yz_k;
}

//@@@
// IF_ERR
function KoDz__YzTrx_y()
{
	return ( Ko.Dz__Yz_q === BriYz.Trx_qk );
}

function KoDz__YzYa_y()
{
	return ( Ko.Dz__Yz_q === BriYz.Ya_qk );
}

function KoDz__YzYe_y()
{
	return ( Ko.Dz__Yz_q === BriYz.Ye_qk );
}

function KoDz__YzYo_y()
{
	return ( Ko.Dz__Yz_q === BriYz.Yo_qk );
}

//==============================================
// CONTENT_LOAD
//==============================================
function KoDz__SuKz_Mi(e)
{
	SmaSme( "+++ DOM Content Loaded" );
	SmaSme( e );

}

//==============================================
// END^Yi
//==============================================
function KoDz__Yi( )
{
	//@@@
	// STATUS
	if( Ko.Dz__Yz_q === BriYz.Yi_qk ) return;
	KoDz__YzChy( BriYz.Yi_qk );

	//@@@
	// END ENGINE
	if( _Hrz5_Ki__BriSmz__Yi ){	_Hrz5_Ki__BriSmz__Yi(); }

	//@@@
	// END SERV
	for( let Vx_wu = Ko.SySmz_v.length - 1; Vx_wu >= 0; Vx_wu-- )
	{
		Hrz7_Kru__ChiSySmz( Vx_wu );
	};
}

//==============================================
// BEGIN^Ya
//==============================================
async function KoDz__YaFz()
{
	//@@@
	// CONDITION
	if( Ko.Dz__Yz_q === BriYz.Ya_qk ) return;
	KoDz__YzChy( BriYz.Ya_qk );


	//@@@
	// CLNs
	Ko.KwiYz_l = {};
	// Declare 'fixed array' uses ZEROs, must fill  null
	Ko.SuKz_v = new Array( SuKz__GryFo_wuk ).fill( null );
	Ko.SySmz_v = new Array( SyVx__GryFo_wuk ).fill( null );


	//@@@
	// CFG
	//@@@

	// TIME_BEGAN
	Ko.BriYa_GiDri_df = performance.now();
	// BROWSER_VER
	await Hrz3_Bz__VaDa();
	// USER
	Hrz4_Bu__TaKeDy__Fy();
	// LAUNCH_CFG
	Hrz4_Bu__KwiYz__Fy();
	// CULTURE
	Hre1_Dru__BriYa();
	// GUI VALUES
	HryMx01_KeMeKwi();
	// GUI SELECT
	Hrz4_Bu__ChyNeKu( 0 );

	//@@@
	// BOOT

	//&&&
	// RESIZE
	window.addEventListener( "resize", KoDz_GyHa );
	// window.Ko.Trx_GyHa = setInterval( KoDz_GyHa, 1000 );

	//&&&
	// POSTURE
	if( DoJi_yk( navigator, "devicePosture" ))
	{
		navigator.devicePosture.onchange = () =>
		{
			// folded (applies to laptop/book postures)
			// folded-over
			// continuous (applies to flat, tablet, or even seamless curved displays)
			SmaSme( "[DEV] Posture:" + navigator.devicePosture.type );
		};
	}

	//&&&
	// LOADS
	window.addEventListener( "DOMContentLoaded", KoDz__SuKz_Mi );


	//@@@
	// SERV_REQ
	const SySmz__Kri_yk = true;
	const Kri__SySmz_v =
	[
		Hrz7_Kru__ChaSySmz( "Hrz4_Bu", "BriDzYz", "Do", "CFG", SySmz__Kri_yk, { YzTi_wu: "0" } )
		, Hrz7_Kru__ChaSySmz( "Hre1_Dru", "KeDruPy", "Do", "TAK", SySmz__Kri_yk, { Si_KeDru: "en" } )
		, Hrz7_Kru__ChaSySmz( "Hra6_Ku", "KoToKz", "Do", "FS", SySmz__Kri_yk, { VaDyFy: "true" } )
		, Hrz7_Kru__ChaSySmz( "Hrx4_Che", "MoDxGri", "Do", "TRU", SySmz__Kri_yk, { YzTi_wu: "0" } )

		, Hrz7_Kru__ChaSySmz( "Hra7_Ta", "ToMi", "Do", "STRM", SySmz__Kri_yk, { YzTi_wu: "0" } )
		, Hrz7_Kru__ChaSySmz( "Hre1_Dru", "WaDru", "Do", "FNT", SySmz__Kri_yk, { YzTi_wu: "0" } )
		, Hrz7_Kru__ChaSySmz( "Hry5_Smz", "WzMx", "Do", "WG", SySmz__Kri_yk, { YzVi_q: Ko.KwiYz_l.Ne03_Hry04__SmzYz_q } )
		, Hrz7_Kru__ChaSySmz( "Hry1_Brz", "KeDru", "Do", "GLF", SySmz__Kri_yk, { Gy_wu: 512 } )

		, Hrz7_Kru__ChaSySmz( "Hra4_Bru", "ToDry", "Do", "NET", SySmz__Kri_yk, { YzTi_wu: "0" } )
		, Hrz7_Kru__ChaSySmz( "Hra6_Ku", "SuDu", "Do", "SHAR", SySmz__Kri_yk, { YzTi_wu: "0" } )
		, Hrz7_Kru__ChaSySmz( "Hra6_Ku", "SpeDry", "Do", "PAY", SySmz__Kri_yk, { YzTi_wu: "0" } )
		, Hrz7_Kru__ChaSySmz( "Hra6_Ku", "SaNoJe", "Do", "CAL", SySmz__Kri_yk, { YzTi_wu: "0" } )

		//, Hrz7_Kru__ChaSySmz( "Hr", "", "Do", "ABC", SySmz__Kri_yk, { YzTi_wu: "0" } )
		//, Hrz7_Kru__ChaSySmz( "Hr", "", "Do", "ABC", SySmz__Kri_yk, { YzTi_wu: "0" } )
		//, Hrz7_Kru__ChaSySmz( "Hr", "", "Do", "ABC", SySmz__Kri_yk, { YzTi_wu: "0" } )
		//, Hrz7_Kru__ChaSySmz( "Hr", "", "Do", "ABC", SySmz__Kri_yk, { YzTi_wu: "0" } )

	];
	// SYNC_PNT
	const Kri__SySmzCha__Smx_k = await Promise.all( Kri__SySmz_v );
	// SmaSme( "SERV REQ", Kri__SySmzCha__Smx_k );
	if( !Kri__SySmzCha__Smx_k ){ return; }

	//@@@
	// SERV_OPT
	// Do NOT await Promises;
	const SySmz__HoKri_yk = false;

	// DoGLES
	//Hrz7_Kru__ChaSySmz( "Hry5_Smz", "BzMe", "Do", "GLES", "Hry5_Smz", SySmz__HoKri_yk, { YzTi_wu: "0" } );


	//@@@
	// FNT
	// const FNT00_l = await DoFNT.Hrz7_Kru__ChaWaDru( "Final Frontier Old Style", "url(" + BriDz__Mx_KuTu_vsg + "Mx01__SuKz_MEDIA/SuKz04_WaDru__FONT/WaDru02__FinalFrontier.ttf )" );
	// const FNT01_l = await DoFNT.Hrz7_Kru__ChaWaDru( "Raleway", "url(" + BriDz__Mx_KuTu_vsg + "Mx01__SuKz_MEDIA/SuKz04_WaDru__FONT/ ??? .ttf )" );


	//@@@
	// ENGINE LAUNCH
	_Hrz5_Ki__BriSmz__Ya();
}

//==============================================
// BEGIN^Ya
//==============================================
async function KoDz__YaFx( )
{
	//@@@
	// SERV_OPT
	const SySmz__HoKri_yk = false;

	// DoXR
	if( Ko.KwiYz_l.Ne03_Hry02__HriKe_y ) { Hrz7_Kru__ChaSySmz( "Hri2_Ke", "BzMe", "Do", "XR", SySmz__HoKri_yk, { YzTi_wu: "0" } ); }

	// DoAUD
	//Hrz7_Kru__ChaSySmz( "Hru5_Smz", "MxPe", "Do", "AUD", SySmz__HoKri_yk, { YzTi_wu: "0" } );

	// DoCARD ( CONTACT CARDS )
	// , Hrz7_Kru__ChaSySmz( "Hra6_Ku", "SaNoKe", "Do", "CARD", SySmz__HoKri_yk, { YzTi_wu: "0" } )

	// LGTs/Humidifiers
	//, Hrz7_Kru__ChaSySmz( "Hra5_Ka", "KzGwe", "Do", "USB", SySmz__HoKri_yk, { YzTi_wu: "0" } )

	// BATTERY/POWER?
	//, Hrz7_Kru__ChaSySmz( "Hra0_Ko", "BriDzSpe", "Do", "ENRG", SySmz__HoKri_yk, { YzTi_wu: "0" } )

	// TRACK LOCALE
	//, Hrz7_Kru__ChaSySmz( "Hra1_Mz", "GeFy", "Do", "GPS", SySmz__HoKri_yk, { YzTi_wu: "0" } )

	//
	//, Hrz7_Kru__ChaSySmz( "Hr", "", "Do", "ABC", SySmz__HoKri_yk, { YzTi_wu: "0" } )

}

//==============================================
// PAUSE^Yo
//==============================================
function KoDz__YoChy()
{
	//@@@
	// ECOSYS_GOOD
	if( KoDz__YzTrx_y() || KoDz__YzYo_y() || Ko.KwiYz_l.Ne01_Ko04__KoDz_YoHo_y_y ) return;

	//&&&
	// STATUS
	KoDz__YzChy( BriYz.Yo_qk );

	//&&&
	// BROADCAST PAUSE
	_Hrz5_Ki__BriSmz__Yo();
	Ko.SySmz_v.forEach( function ( Ti_v )
	{
		if( SySmz__BriYz__Ye_y( Ti_v ) && Ti_v.Ji.BriYo ){ Ti_v.Ji.BriYo( Ti_v ); }
	});
}

//==============================================
// UPDATE^Ye
//==============================================
function KoDz__YuChy()
{
	//@@@
	// ECOSYS_GOOD
	if( KoDz__YzTrx_y() || KoDz__YzYe_y()  || KoDz__YzYa_y() ) return;

	//&&&
	// BROADCAST RESUME
	Ko.SySmz_v.forEach( function( Ti_v )
	{
		if( SySmz__BriYz__Ye_y( Ti_v ) && Ti_v.Ji.BriYu ){ Ti_v.Ji.BriYu( Ti_v); }
	});
	_Hrz5_Ki__BriSmz__Yu();

	//&&&
	// STATUS
	KoDz__YzChy( BriYz.Ye_qk );
	Ko.BriYe_GiDri_df = performance.now();
	requestAnimationFrame( KoDz__Ye );
}


//==============================================
// UPD^Ye
// minimal precision of 1 millisecond
//==============================================
function KoDz__Ye( Gi )
{
	//@@@
	// ECOSYS_GOOD
	if( !KoDz__YzYe_y() ) return;


	//@@@
	// TIMER UPDATE 1sec
	const Gry__GiDri_dfk = ( performance.now() - Ko.BriYa_GiDri_df );
	if( Ko.YeFo_wu % 60 == 0 )
	{
		const MxPo_Bri_l = document.getElementById("MxPo_Bri");
		Ko.YeWi_df = ( Gry__GiDri_dfk - Ko.BriYe_GiDri_df ) / 60.0;
		Ko.BriYe_GiDri_df = Gry__GiDri_dfk;

		//&&&
		// HEADER (Fixed)
		let GiFe_vsg = new Date();
		Module.Sma__KeMe_Bz
		(
			KoSy__KeDru_l.BriDz_VaSy_vsg + " [ " + BriDzSa__Da_vsg + " ]"
			+ " Mode: " + ( window.Ko.Hx_SyDx_vsg ? window.Ko.Hx_SyDx_vsg : "???" )
			+ " @ " + GiFe_vsg.getHours().toString().padStart(2,"0") + ":" + GiFe_vsg.getMinutes().toString().padStart(2,"0") + ":"  + GiFe_vsg.getSeconds().toString().padStart(2,"0")
		);


		//&&&
		// FOOTER (Dynamic)
		const Gry__GiPa_dfk = Gry__GiDri_dfk / 1000.0;

		Module.Sma__KeMe_Bo
		(
			" "
			// KoSy__KeDru_l.BriDz_VaSy_vsg
			// + " YeFo: " + Ko.YeFo_wu
			+ " RES[ " + MxPo_Bri_l.width + "px, " + MxPo_Bri_l.height + "px ]"
			+ " DPR: " + window.devicePixelRatio.toFixed(1)

			// + " Ps: " + ( DoJi_yk( navigator, "devicePosture" ) ? navigator.devicePosture.type : " ")

			+ " " + Math.floor( Gry__GiPa_dfk / 60.0 ).toString().padStart( 3,"0") + "m " + Math.floor( Gry__GiPa_dfk % 60 ).toString().padStart(2,"0") + "s"
		);
	}
	Ko.YeFo_wu++;

	//@@@
	// SIM_UPD
	_Hrz5_Ki__BriSmz__Ye();


	//@@@
	// TEK-SERVS UPDATE ALL
	Ko.SySmz_v.forEach( function ( Ti_v )
	{
		if( SySmz__BriYz__Ye_y( Ti_v ) && Ti_v.Ji.BriYe ){ Ti_v.Ji.BriYe( Ti_v, Gi ); }
	});


	//@@@
	// LOOP FOREVER
	requestAnimationFrame( KoDz__Ye );
}

//=====================================
// LOAD APP ENGINE
//=====================================
var BriDz_Fz_js = document.createElement("script");
BriDz_Fz_js.src = "Mx07__SuSmi_WEBPG/SuSmi06__BIN/KoKri__BriDz" + ( Ko.WASM64_yk ? 64:32 ) + ".js";
document.head.appendChild(BriDz_Fz_js);

//=====================================
// END
//=====================================
//=====================================
// UTIL
//=====================================

//----------------------------------------------
function DoJi_yk( _Do_l, _Ji_vsg )
// NOTE: _Ji_vsg MUST be STRING
//----------------------------------------------
{
	try
	{
		const Fy_yk = ( ( _Do_l ) && ( _Ji_vsg in _Do_l ) && ( _Do_l[ _Ji_vsg ] !== 'null' ) && ( _Do_l[_Ji_vsg ] !== 'undefined' ) );
		return Fy_yk;
	}
	catch( e )
	{
		// SmaDre( "OBJ Property Fail:", _Do_l, _Ji_vsg );
		return false;
	}
}

//----------------------------------------------
// DBG FILE LINE
// @returns {string} filename and line number separated by a colon
// Only on V8 Chrome via CallSite
// Other choices here:
// https://v8.dev/docs/stack-trace-api#customizing-stack-traces
//
//----------------------------------------------
const Hrz7_Kru__ToKzVa_Gwx = () =>
//----------------------------------------------
{
	const oldStackTrace = Error.prepareStackTrace;
    try
	{
		// eslint-disable-next-line handle-callback-err
        Error.prepareStackTrace = (err, structuredStackTrace) => structuredStackTrace;
        Error.captureStackTrace(this);

		//@@@
		// POP STK 1
        // const callSite = this.stack.find( line => line.getFileName().indexOf('/logger/') < 0 );
        const callSite = this.stack[ 1 ];

		// SmaSme( "CS", callSite );
		if( !DoJi_yk( callSite, "getFileName" ) || !DoJi_yk( callSite, "getFunctionName" ) ){ return "-?-"; }

        return callSite.getFunctionName() + " @ " + callSite.getFunctionName() + ":" + callSite.getLineNumber();
    }
	finally
	{
        Error.prepareStackTrace = oldStackTrace;
    }
};


//=====================================
// IFRAME EXPERIMENTS
// NotApplicable via CORS
//=====================================
/*
var SmeKz_l = document.createElement("iframe");
SmeKz_l.id = "LNK"
SmeKz_l.class = "SmeKz"

SmeKz_l.src = "WzSme.html";
//SmeKz_l.src = "https://www.openstreetmap.org/export/embed.html?bbox=-0.004017949104309083%2C51.47612752641776%2C0.00030577182769775396%2C51.478569861898606&amp;layer=mapnik";

//SmeKz_l.src = "https://weather.gov";
//SmeKz_l.src = "https://powerourpeople.com";

document.body.appendChild( SmeKz_l );
*/
		/* .SmeKz
		{
			display: block;
			position: absolute;
			margin: 0;
			padding: none;

			left: 1.5em;
			top: 1.5em;
			width: 512;
			height: 512;
			z-index: 2;
		} */

/*
//	<iframe id="LNK" width="512" height="512" style="position: relative; z-index: 2;" src="index.html" </iframe>

"iframe refused to connect" issue, you can check the X-Frame-Options and Content Security Policy headers

X-Frame-Options
DENY: The site does not allow any domain to embed it.
SAMEORIGIN: Only the same origin can embed the site.
ALLOW-FROM: Only specified origins can embed the site.
Content Security Policy (CSP)
The CSP may include directives like frame-ancestors 'none', which blocks all iframe embedding.

*/

//=====================================
// END
//=====================================

const BriDzSa__Da_vsg = "LAB_v0.1083"; 
 const BriDz__Mx_KuTu_vsg = "/"; 

//==============================================
// CORE MSGS
//==============================================
const KoKeDru =
{
	//@@@
	// MSG
	BriDz_VaSy_vsg: "MicroCosm"

	, BriDz_KiMiFe_vsg: "Engine Downloading"
	, BriDz_KiMiFi_vsg: "Engine Complete"


	//@@@@
	// WARN
	, Dre__SySmz_GriHo_vsg: "Optional Service Fail: "

	//@@@
	// ERROR
	, TrxBz_vsg: "Tech FAIL: "
	, TrxKrx_vsg: "Please try a different Browser or Device"

	, TrxJy__CheFyHo_CORS_vsg: "Security Fail: No CORS Found"
	, TrxJy00__HrxCheHo__CORS_vsg: "WAITING: Engaging HTTPS CORS in order to run under Security Policies."
	, TrxJy01__HrzMoHo__WASM_vsg: "NO Web Assembly Support!"
	, TrxJy02__MoDzStxGru_vsg: "Only *1* Webpage Allowed"

	, TrxJy__SySmz_GriHo_vsg: "Required Service Fail:"
	, TrxJy__SuKz_GriHo_vsg: "Required Content Fail:"

};


//-------------------------------------------------
// LANG/COUNTRY BEGIN
//-------------------------------------------------
//
// Vy: CODE
// Va: Local Name
// So: Reference English
// KuGwz: Flag as Emoji
//-------------------------------------------------
const Hre1_Dru__Gra_v = [
	// { "Vy": "af", "Va": "Afrikaans", "KuGwz": "ðŸ‡¿ðŸ‡¦", "So": "Afrikaans", "ToKz": "af" },
	// { "Vy": "am", "Va": "áŠ áˆ›áˆ­áŠ›", "KuGwz": "ðŸ‡ªðŸ‡¹", "So": "Amharic", "ToKz": "am" },
	// { "Vy": "ar", "Va": "Ø§Ù„Ø¹Ø±Ø¨ÙŠØ©", "KuGwz": "ðŸ‡¸ðŸ‡¦", "So": "Arabic", "ToKz": "ar" },
	// { "Vy": "az", "Va": "AzÉ™rbaycan dili", "KuGwz": "ðŸ‡¦ðŸ‡¿", "So": "Azerbaijani", "ToKz": "az" },
	// { "Vy": "be", "Va": "Ð‘ÐµÐ»Ð°Ñ€ÑƒÑÐºÐ°Ñ", "KuGwz": "ðŸ‡§ðŸ‡¾", "So": "Belarusian", "ToKz": "be" },
	// { "Vy": "bg", "Va": "Ð‘ÑŠÐ»Ð³Ð°Ñ€ÑÐºÐ¸", "KuGwz": "ðŸ‡§ðŸ‡¬", "So": "Bulgarian", "ToKz": "bg" },
	// { "Vy": "bn", "Va": "à¦¬à¦¾à¦‚à¦²à¦¾", "KuGwz": "ðŸ‡§ðŸ‡©", "So": "Bengali", "ToKz": "bn" },

	// { "Vy": "ca", "Va": "CatalÃ ", "KuGwz": "ðŸ‡ªðŸ‡¸", "So": "Catalan", "ToKz": "ca" },
	// { "Vy": "cs", "Va": "ÄŒeÅ¡tina", "KuGwz": "ðŸ‡¨ðŸ‡¿", "So": "Czech", "ToKz": "cs" },
	// { "Vy": "da", "Va": "Dansk", "KuGwz": "ðŸ‡©ðŸ‡°", "So": "Danish", "ToKz": "da" },
	// { "Vy": "de", "Va": "Deutsch", "KuGwz": "ðŸ‡©ðŸ‡ª", "So": "German", "ToKz": "de" },
	// { "Vy": "el", "Va": "Î•Î»Î»Î·Î½Î¹ÎºÎ¬", "So": "Greek", "KuGwz": "ðŸ‡¬ðŸ‡·", "ToKz": "el" },

	// en
	{
		"Vy": "en",
		"Va": "English",
		"KuGwz": "ðŸ‡ºðŸ‡¸",
		"So": "English",
		"ToKz": "en"
	},
	{
		"Vy": "en-AU",
		"Va": "English (Australia)",
		"KuGwz": "ðŸ‡¦ðŸ‡º",
		"So": "English",
		"ToKz": "en"
	},
	{
		"Vy": "en-CA",
		"Va": "English (Canada)",
		"KuGwz": "ðŸ‡¨ðŸ‡¦",
		"So": "English",
		"ToKz": "en"
	},
	{
		"Vy": "en-GB",
		"Va": "English (United Kingdom)",
		"KuGwz": "ðŸ‡¬ðŸ‡§",
		"So": "English",
		"ToKz": "en"
	},

	// es
	{
		"Vy": "es",
		"Va": "EspaÃ±ol (EspaÃ±a)",
		"So": "Spanish (Spain)",
		"KuGwz": "ðŸ‡ªðŸ‡¸",
		"ToKz": "es"
	},
	{
		"Vy": "es-419",
		"Va": "EspaÃ±ol (LatinoamÃ©rica)",
		"So": "Spanish (Latin America)",
		"KuGwz": "ðŸŒŽ",
		"ToKz": "es"
	},
	{
		"Vy": "es-US",
		"Va": "EspaÃ±ol (Estados Unidos)",
		"So": "Spanish (United States)",
		"KuGwz": "ðŸ‡ºðŸ‡¸",
		"ToKz": "es"
	}

	// { "Vy": "et", "Va": "Eesti", "KuGwz": "ðŸ‡ªðŸ‡ª", "So": "Estonian", "ToKz": "et" },
	// { "Vy": "eu", "Va": "Euskara", "KuGwz": "ðŸ‡ªðŸ‡¸", "So": "Basque", "ToKz": "eu" },
	// { "Vy": "fa", "Va": "ÙØ§Ø±Ø³ÛŒ", "KuGwz": "ðŸ‡®ðŸ‡·", "So": "Persian", "ToKz": "fa" },
	// { "Vy": "fi", "Va": "Suomi", "KuGwz": "ðŸ‡«ðŸ‡®", "So": "Finnish", "ToKz": "fi" },
	// { "Vy": "fr-CA", "Va": "FranÃ§ais (Canada)", "KuGwz": "ðŸ‡¨ðŸ‡¦", "So": "French", "ToKz": "fr" },
	// { "Vy": "fr-FR", "Va": "FranÃ§ais (France)", "KuGwz": "ðŸ‡«ðŸ‡·", "So": "French", "ToKz": "fr" },
	// { "Vy": "gl", "Va": "Galego", "KuGwz": "ðŸ‡ªðŸ‡¸", "So": "Galician", "ToKz": "gl" },
	// { "Vy": "gu", "Va": "àª—à«àªœàª°àª¾àª¤à«€", "KuGwz": "ðŸ‡®ðŸ‡³", "So": "Gujarati", "ToKz": "gu" },

	// { "Vy": "he", "Va": "×¢×‘×¨×™×ª", "KuGwz": "ðŸ‡®ðŸ‡±", "So": "Hebrew", "ToKz": "he" },
	// { "Vy": "hi", "Va": "à¤¹à¤¿à¤¨à¥à¤¦à¥€", "KuGwz": "ðŸ‡®ðŸ‡³", "So": "Hindi", "ToKz": "hi" },
	// { "Vy": "hr", "Va": "Hrvatski", "KuGwz": "ðŸ‡­ðŸ‡·", "So": "Croatian", "ToKz": "hr" },
	// { "Vy": "hu", "Va": "Magyar", "KuGwz": "ðŸ‡­ðŸ‡º", "So": "Hungarian", "ToKz": "hu" },
	// { "Vy": "hy", "Va": "Õ€Õ¡ÕµÕ¥Ö€Õ¥Õ¶", "KuGwz": "ðŸ‡¦ðŸ‡²", "So": "Armenian", "ToKz": "hy" },
	// { "Vy": "id", "Va": "Indonesia", "KuGwz": "ðŸ‡®ðŸ‡©", "So": "Indonesian", "ToKz": "id" },
	// { "Vy": "is", "Va": "Ãslenska", "KuGwz": "ðŸ‡®ðŸ‡¸", "So": "Icelandic", "ToKz": "is" },
	// { "Vy": "it", "Va": "Italiano", "KuGwz": "ðŸ‡®ðŸ‡¹", "So": "Italian", "ToKz": "it" },
	// { "Vy": "ja", "Va": "æ—¥æœ¬èªž", "KuGwz": "ðŸ‡¯ðŸ‡µ", "So": "Japanese", "ToKz": "ja" },

	// { "Vy": "ka", "Va": "áƒ¥áƒáƒ áƒ—áƒ£áƒšáƒ˜", "KuGwz": "ðŸ‡¬ðŸ‡ª", "So": "Georgian", "ToKz": "ka" },
	// { "Vy": "kk", "Va": "ÒšÐ°Ð·Ð°Ò› Ñ‚Ñ–Ð»Ñ–", "KuGwz": "ðŸ‡°ðŸ‡¿", "So": "Kazakh", "ToKz": "kk" },
	// { "Vy": "km", "Va": "ážáŸ’áž˜áŸ‚ážš", "KuGwz": "ðŸ‡°ðŸ‡­", "So": "Khmer", "ToKz": "km" },
	// { "Vy": "kn", "Va": "à²•à²¨à³à²¨à²¡", "KuGwz": "ðŸ‡®ðŸ‡³", "So": "Kannada", "ToKz": "kn" },
	// { "Vy": "ko", "Va": "í•œêµ­ì–´", "KuGwz": "ðŸ‡°ðŸ‡·", "So": "Korean", "ToKz": "ko" },
	// { "Vy": "ky", "Va": "ÐšÑ‹Ñ€Ð³Ñ‹Ð·Ñ‡Ð°", "KuGwz": "ðŸ‡°ðŸ‡¬", "So": "Kyrgyz", "ToKz": "ky" },
	// { "Vy": "lo", "Va": "àº¥àº²àº§", "KuGwz": "ðŸ‡±ðŸ‡¦", "So": "Lao", "ToKz": "lo" },
	// { "Vy": "lt", "Va": "LietuviÅ³", "KuGwz": "ðŸ‡±ðŸ‡¹", "So": "Lithuanian", "ToKz": "lt" },
	// { "Vy": "lv", "Va": "LatvieÅ¡u", "KuGwz": "ðŸ‡±ðŸ‡»", "So": "Latvian", "ToKz": "lv" },

	// { "Vy": "mk", "Va": "ÐœÐ°ÐºÐµÐ´Ð¾Ð½ÑÐºÐ¸", "KuGwz": "ðŸ‡²ðŸ‡°", "So": "Macedonian", "ToKz": "mk" },
	// { "Vy": "ml", "Va": "à´®à´²à´¯à´¾à´³à´‚", "KuGwz": "ðŸ‡®ðŸ‡³", "So": "Malayalam", "ToKz": "ml" },
	// { "Vy": "mn", "Va": "ÐœÐ¾Ð½Ð³Ð¾Ð»", "KuGwz": "ðŸ‡²ðŸ‡³", "So": "Mongolian", "ToKz": "mn" },
	// { "Vy": "mr", "Va": "à¤®à¤°à¤¾à¤ à¥€", "KuGwz": "ðŸ‡®ðŸ‡³", "So": "Marathi", "ToKz": "mr" },
	// { "Vy": "ms", "Va": "Bahasa Melayu", "KuGwz": "ðŸ‡²ðŸ‡¾", "So": "Malay", "ToKz": "ms" },
	// { "Vy": "ms-MY", "Va": "Bahasa Melayu (Malaysia)", "KuGwz": "ðŸ‡²ðŸ‡¾", "So": "Malay (Malaysia)", "ToKz": "ms" },
	// { "Vy": "my", "Va": "á€—á€™á€¬", "KuGwz": "ðŸ‡²ðŸ‡²", "So": "Burmese", "ToKz": "my" },
	// { "Vy": "ne", "Va": "à¤¨à¥‡à¤ªà¤¾à¤²à¥€", "KuGwz": "ðŸ‡³ðŸ‡µ", "So": "Nepali", "ToKz": "ne" },
	// { "Vy": "nl", "Va": "Nederlands", "KuGwz": "ðŸ‡³ðŸ‡±", "So": "Dutch", "ToKz": "nl" },
	// { "Vy": "no", "Va": "Norsk", "KuGwz": "ðŸ‡³ðŸ‡´", "So": "Norwegian", "ToKz": "no" },

	// { "Vy": "pa", "Va": "à¨ªà©°à¨œà¨¾à¨¬à©€", "KuGwz": "ðŸ‡®ðŸ‡³", "So": "Punjabi", "ToKz": "pa" },
	// { "Vy": "pl", "Va": "Polski", "KuGwz": "ðŸ‡µðŸ‡±", "So": "Polish", "ToKz": "pl" },
	// { "Vy": "pt-BR", "Va": "PortuguÃªs (Brasil)", "KuGwz": "ðŸ‡§ðŸ‡·", "So": "Portuguese (Brazil)", "ToKz": "pt" },
	// { "Vy": "pt-PT", "Va": "PortuguÃªs (Portugal)", "KuGwz": "ðŸ‡µðŸ‡¹", "So": "Portuguese (Portugal)", "ToKz": "pt" },
	// { "Vy": "rm", "Va": "Rumantsch", "KuGwz": "ðŸ‡¨ðŸ‡­", "So": "Romansh", "ToKz": "rm" },
	// { "Vy": "ro", "Va": "RomÃ¢nÄƒ", "KuGwz": "ðŸ‡·ðŸ‡´", "So": "Romanian", "ToKz": "ro" },
	// { "Vy": "ru", "Va": "Ð ÑƒÑÑÐºÐ¸Ð¹", "KuGwz": "ðŸ‡·ðŸ‡º", "So": "Russian", "ToKz": "ru" },

	// { "Vy": "si", "Va": "à·ƒà·’à¶‚à·„à¶½", "KuGwz": "ðŸ‡±ðŸ‡°", "So": "Sinhala", "ToKz": "si" },
	// { "Vy": "sk", "Va": "SlovenÄina", "KuGwz": "ðŸ‡¸ðŸ‡°", "So": "Slovak", "ToKz": "sk" },
	// { "Vy": "sl", "Va": "SlovenÅ¡Äina", "KuGwz": "ðŸ‡¸ðŸ‡®", "So": "Slovenian", "ToKz": "sl" },
	// { "Vy": "sq", "Va": "Shqip", "KuGwz": "ðŸ‡¦ðŸ‡±", "So": "Albanian", "ToKz": "sq" },
	// { "Vy": "sr", "Va": "Ð¡Ñ€Ð¿ÑÐºÐ¸", "KuGwz": "ðŸ‡·ðŸ‡¸", "So": "Serbian", "ToKz": "sr" },
	// { "Vy": "sv", "Va": "Svenska", "So": "Swedish", "KuGwz": "ðŸ‡¸ðŸ‡ª", "ToKz": "sv" },
	// { "Vy": "sw", "Va": "Kiswahili", "KuGwz": "ðŸ‡¹ðŸ‡¿", "So": "Swahili", "ToKz": "sw" },

	// { "Vy": "ta", "Va": "à®¤à®®à®¿à®´à¯", "KuGwz": "ðŸ‡®ðŸ‡³", "So": "Tamil", "ToKz": "ta" },
	// { "Vy": "te", "Va": "à°¤à±†à°²à±à°—à±", "KuGwz": "ðŸ‡®ðŸ‡³", "So": "Telugu", "ToKz": "te" },
	// { "Vy": "th", "Va": "à¹„à¸—à¸¢", "KuGwz": "ðŸ‡¹ðŸ‡­", "So": "Thai", "ToKz": "th" },
	// { "Vy": "tl", "Va": "Filipino", "KuGwz": "ðŸ‡µðŸ‡­", "So": "Filipino", "ToKz": "tl" },
	// { "Vy": "tr", "Va": "TÃ¼rkÃ§e", "KuGwz": "ðŸ‡¹ðŸ‡·", "So": "Turkish", "ToKz": "tr" },

	// { "Vy": "uk", "Va": "Ð£ÐºÑ€Ð°Ñ—Ð½ÑÑŒÐºÐ°", "KuGwz": "ðŸ‡ºðŸ‡¦", "So": "Ukrainian", "ToKz": "uk" },
	// { "Vy": "ur", "Va": "Ø§Ø±Ø¯Ùˆ", "KuGwz": "ðŸ‡µðŸ‡°", "So": "Urdu", "ToKz": "ur" },
	// { "Vy": "vi", "Va": "Tiáº¿ng Viá»‡t", "KuGwz": "ðŸ‡»ðŸ‡³", "So": "Vietnamese", "ToKz": "vi" },

	// { "Vy": "zh", "Va": "ä¸­æ–‡ï¼ˆç®€ä½“ï¼‰", "KuGwz": "ðŸ‡¨ðŸ‡³", "So": "Chinese (Simplified)", "ToKz": "zh" },
	// { "Vy": "zh-HK", "Va": "ä¸­æ–‡ï¼ˆé¦™æ¸¯ï¼‰", "KuGwz": "ðŸ‡­ðŸ‡°", "So": "Chinese (Hong Kong)", "ToKz": "zh" },
	// { "Vy": "zh-TW", "Va": "ä¸­æ–‡ï¼ˆç¹é«”ï¼‰", "KuGwz": "ðŸ‡¹ðŸ‡¼", "So": "Chinese (Traditional)", "ToKz": "zh" },
	// { "Vy": "zu", "Va": "Zulu", "KuGwz": "ðŸ‡¿ðŸ‡¦", "So": "Zulu", "ToKz": "zu" },
];

//-------------------------------------------------
// LANG/COUNTRY END
//-------------------------------------------------
//==============================================
// STARTUP
//==============================================

//==============================================
// LOGS
// Skipped usual 8 layers for minimal JS
//==============================================
function SmaSme(){ var args = Array.prototype.slice.call(arguments); console.log.apply(console, args); }
function SmaDre(){ var args = Array.prototype.slice.call(arguments); console.warn.apply(console, args); }
function SmaTrx(){ var args = Array.prototype.slice.call(arguments); console.error.apply(console, args); }

//==============================================
// SECURITY
//==============================================

//@@@
// CORS must RUN FIRST
SmaSme( "Web_Security[ CORS: " + (window.crossOriginIsolated ?  "âœ…ðŸ˜€" : "âŒðŸ˜ž" ) + " ]" );
if( !window.crossOriginIsolated )
{
	// MSG should display @ DOM
	MoDzTrx( Ko.KeDru.TrxJy00__HrxCheHo__CORS_vsg );
}
// KoYz_Hry();


//==============================================
// WASM64
//==============================================

//@@@
// WASM64 preferred
let WASM64_yk = false;
try
{
	// WASM64_yk = false;
	WASM64_yk = WebAssembly.validate(new Uint8Array([0,97,115,109,1,0,0,0,5,3,1,4,1]));
}
catch(e)
{
	// WebAssembly is not supported at all
	SmaTrx( 'No Web Assembly: ' + e);
	MoDzTrx( Ko.KeDru.TrxJy01__HrzMoHo__WASM_vsg );
}

SmaSme( "Web_Assembly[ " + ( WASM64_yk ? "64" : "32" ) + "bit:" + ( WASM64_yk ? "âœ…ðŸ˜€" : "âŒðŸ˜ž") + " ]" );


//==============================================
// DOM
//==============================================

//@@@
// DOM STARTUP
document.addEventListener('readystatechange', function()
{
	// if (document.readyState === 'interactive')
	// {
	// 	SmaSme( "- WebPage_DOM Interactive" );
	// }
	if (document.readyState === 'complete')
	{
		SmaSme( "- WebPage_DOM Fully_Loaded" );
	}
});

//==============================================
// MODULE INTERFACE
//==============================================
var Module =
{
	// ERR STATUS
	Trx_vsg: null,
	// REQ: Input
	canvas: document.getElementById('MxPo_De'),
	// REQ: load
	totalDependencies: 0,

	//@@@
	// EMCC NOTIFY
	// Define how notification messages from Emscripten are displayed via Module.print attribute.
	'print': function ( Sma_vsg ) { SmaSme( 'Sma> ' + Sma_vsg ); },
	'printErr': function ( Sma_vsg ) { SmaSme( 'Trx> ' + Sma_vsg ); },
	'onAbort': function ( Sma_vsg ) { MoDzTrx( 'BriDzYi> ' + Sma_vsg ); },

	//@@@
	// RUN when WASM_LOADED
	onRuntimeInitialized: function()
	{
        // SmaSme( "WASM module is ready" );
		KoDz__Ya();
		MoDz__DzStxGru();

    },

	//@@@
	// HEADER BAR
	Sma__BriDzYz__Bz( Sma_vsg )
	{
		let BriDzYz__Bz_l = document.getElementById('BriDzYz__Bz');
		BriDzYz__Bz_l.innerHTML = "|> "+ ( Sma_vsg );
	},

	//@@@
	// FOOTER BAR
	Sma__BriDzYz__Bo( Sma_vsg )
	{
		let BriDzYz__Bo_l = document.getElementById('BriDzYz__Bo');
		BriDzYz__Bo_l.innerHTML = "|> " + ( Sma_vsg );
	},

	//@@@
	// LOAD
	monitorRunDependencies(left)
	{
		this.totalDependencies = Math.max(this.totalDependencies, left);
		Module.Sma__BriDzYz__Bz( left ? ( KoKeDru.BriDz_KiMiFe_vsg + ' (' + (this.totalDependencies - left) + '/' + this.totalDependencies + ')') : KoKeDru.BriDz_KiMiFi_vsg );
	},

};


//==============================================
// ERR
//==============================================

//----------------------------
function MoDzTrx( Trx_vsg )
//----------------------------
{
	//@@@
	// CFG
	// If already 'Err' exit
	if( Module.Trx_vsg ) return;
	Module.Trx_vsg = Trx_vsg;

	KoDz__YzChy( BriYz.Trx_qk );

	//@@@
	// ERR MSGBARS

	//&&&
	// HEADER (Fixed)
	var Bz_vsg = KoKeDru.TrxBz_vsg + " [" + ( window.Ko.Hx_SyDx_vsg ? window.Ko.Hx_SyDx_vsg : "???" ) + " " + BriDzSa__Da_vsg + "] " + KoKeDru.TrxKrx_vsg;
	Module.Sma__BriDzYz__Bz( Bz_vsg );

	//&&&
	// FOOTER (Dynamic)
	var Bo_vsg = KoKeDru.TrxBz_vsg + Trx_vsg;
	Module.Sma__BriDzYz__Bo( Bo_vsg );


	//&&&
	// DBG
	SmaSme( "*STK_TRACE:%s", jsStackTrace() );

	// POST for DBG
	// console.error( Bo_vsg );

	// Skip MSGBOX
	// alert( Bo_vsg );

	// DISPLAY ERR
	KoYz_Hry();

	// STOP INTERVALS
	// if( window.Ko.Trx_GyHa  ){ clearInterval( window.Ko.Trx_GyHa ); }

	// SERV closes All Else
	KoDz__Yi();
}


//----------------------------
// JS_ERR
window.onerror = (e) =>
//----------------------------
{
	const Trx_vsg = ( JSON.stringify( e ) );
	/*
	// ERR_TYPES
	if (e instanceof TypeError)
	{
		// statements to handle TypeError exceptions
	}
	else if (e instanceof RangeError)
	{
		// statements to handle RangeError exceptions
	}
	else if (e instanceof EvalError)
	{
		// statements to handle EvalError exceptions
	}
	else
	{
		// statements to handle any unspecified exceptions
		//logMyErrors(e); // pass exception object to error handler
	}
	*/

	MoDzTrx( Trx_vsg );
}


//==============================================
// TEST_VALID
//==============================================
function MoDzTrx__NxHo_y( Va, Kri_y )
{
	// SmaSme( "NxHo: ---> " + Va );
	if( !Kri_y )
	{
		MoDzTrx( "ERR: " + Va + " @ " + Kri_y );
		return true;
	}
	return false;
}


//==============================================
// ONE APP only
// PREVENT MULTI_TAB
//==============================================
async function MoDz__DzStxGru()
{
	if( !window.BroadcastChannel )
	{
		SmaSme('!!! Unknown if Duplicate Tab.');
		return;
	}

	// STORE TIME by SESSION
	const Sa_KoGi_k = (new Date()).getTime();
	sessionStorage.setItem('KoGi', Sa_KoGi_k);

	// TAB-CONNECTIONS = Broadcast Type
//	var BCHN_l = new BroadcastChannel('tab-connections');
	var BCHN_l = new BroadcastChannel('MoDz__DzStxGru');

	//@@@
	//SEND MSG
	// Compare Time
	BCHN_l.postMessage('MxVy:KoGi');

	//@@@
	// RECV MSG
	BCHN_l.onmessage = function( e )
	{
		// Split by Colon
		var PKT_k = e.data.split(':');

		if( PKT_k[0] == 'KrzVy' )
		{
			// If Newer; Error on Self
			if( Sa_KoGi_k > parseInt( PKT_k[1] ))
			{
				SmaSme('!!! FAIL Duplicate Tab.');
				BCHN_l = null;
				MoDzTrx( KoKeDru.TrxJy02__MoDzStxGru_vsg );
			}
			else
			{
				SmaSme('!!! First Tab.');
			}
		}
		else if( PKT_k[0] == 'MxVy' )
		{
			// SmaSme('Send Time to Test if Duplicate Tab.');
			BCHN_l.postMessage( 'KrzVy:' + Sa_KoGi_k );
		}
	}
}


//==============================================
// END
//==============================================
//==============================================
// DISPLAY MSG
//==============================================
function KoYz_Hry()
{
	//---------------------------------
	// DEFAULT DISPLAY
	//---------------------------------
	const MxPo_De_l = document.getElementById('MxPo_De');
	if( !MxPo_De_l )return;

	const MxPo_De_GyGx = MxPo_De_l.clientWidth;
	const MxPo_De_GyGa = MxPo_De_l.clientHeight;

	//---------------------------------
	// IMPASS DISPLAY
	//---------------------------------
	const MxPo_Kwa_l = document.getElementById('MxPo_Kwa');
	if( !MxPo_Kwa_l )return;

		// MxPo_Kwa_l.className = 'HriDx MxPo';
		// MxPo_Kwa_l.id = 'MxPo_Kwa';

		MxPo_Kwa_l.clientWidth = MxPo_De_GyGx;
		MxPo_Kwa_l.clientHeight = MxPo_De_GyGa;
		MxPo_Kwa_l.width = MxPo_De_GyGx;
		MxPo_Kwa_l.height = MxPo_De_GyGa;

		// CONTEXT
		const Sx_l = MxPo_Kwa_l.getContext("2d");
		if( !Sx_l )return;

	//---------------------------------
	// FLIP CANVAS
	//---------------------------------
	MxPo_Kwa_l.style.display = 'block';
	MxPo_De_l.style.display = 'none';


	//---------------------------------
	// BLUE PRINT GRID
	//---------------------------------
	Sx_l.scale( 1.0, 1.0 );
	Sx_l.beginPath();

	// BG
	Sx_l.fillStyle = "#6666CC";
	Sx_l.fillRect(0, 0, MxPo_Kwa_l.width, MxPo_Kwa_l.height);

	// INNER GRID
	Sx_l.strokeStyle = "#8888CC";
	Sx_l.lineWidth = 1;

	TiGy_wf = 32;

	// Draw vertical lines
	for (let x = 0; x <= MxPo_Kwa_l.width; x += TiGy_wf )
	{
		Sx_l.beginPath();
		Sx_l.moveTo(x, 0);
		Sx_l.lineTo(x, MxPo_Kwa_l.height);
		Sx_l.stroke();
	}

	// Draw horizontal lines
	for (let y = 0; y <= MxPo_Kwa_l.height; y += TiGy_wf )
	{
		Sx_l.beginPath();
		Sx_l.moveTo(0, y);
		Sx_l.lineTo(MxPo_Kwa_l.width, y);
		Sx_l.stroke();
	}

	// OUTER GRID
	Sx_l.strokeStyle = "#9999CC";
	Sx_l.lineWidth = 2;

	TiGy_wf = 128;

	// Draw vertical lines
	for (let x = 0; x <= MxPo_Kwa_l.width; x += TiGy_wf )
	{
		Sx_l.beginPath();
		Sx_l.moveTo(x, 0);
		Sx_l.lineTo(x, MxPo_Kwa_l.height);
		Sx_l.stroke();
	}

	// Draw horizontal lines
	for (let y = 0; y <= MxPo_Kwa_l.height; y += TiGy_wf )
	{
		Sx_l.beginPath();
		Sx_l.moveTo(0, y);
		Sx_l.lineTo(MxPo_Kwa_l.width, y);
		Sx_l.stroke();
	}

	//---------------------------------
	// MSG
	//---------------------------------

	Sx_l.beginPath();

	// USES System Fonts, not local
	Sx_l.font = "2em Impact";
	//Sx_l.font = "3em Raleway";
	// Sx_l.font = "3em FoundationTitlesHand";
	// Sx_l.font = "4em Final Frontier Old Style";


	Sx_l.textAlign = "center";
	Sx_l.direction = "inherit";
	Sx_l.fillStyle = "#FFFFFFFF";

	const CTR_Ga_wu = MxPo_Kwa_l.height / 2;
	const WaHa_l = Sx_l.measureText( KoKeDru.TrxBz_vsg );
	const OFS_Ga_wu = Math.ceil( WaHa_l.fontBoundingBoxAscent + WaHa_l.fontBoundingBoxDescent + 2 ) / 2;

	Sx_l.fillText( KoKeDru.TrxBz_vsg, MxPo_Kwa_l.width / 2, CTR_Ga_wu - OFS_Ga_wu );
	Sx_l.fillText( Module.Trx_vsg, MxPo_Kwa_l.width / 2, CTR_Ga_wu + OFS_Ga_wu );

	// OUTLINE
	Sx_l.lineWidth = 1;
	Sx_l.strokeStyle = "#000040";
	Sx_l.strokeText( KoKeDru.TrxBz_vsg, MxPo_Kwa_l.width / 2, CTR_Ga_wu - OFS_Ga_wu );
	Sx_l.strokeText( Module.Trx_vsg, MxPo_Kwa_l.width / 2, CTR_Ga_wu + OFS_Ga_wu );

}


//=====================================
// END
//=====================================
//==============================================
// SYSLIFE
//==============================================

//==============================================
// JSON_ADD^Cha
//==============================================
async function Hrz7_Kru__ToKz_vJSON( ChaKuTu_vsg, ToKzVa_vsg )
{
	let KuTu_vbg = BriDz__Mx_KuTu_vsg + ChaKuTu_vsg + ToKzVa_vsg;
	SmaSme( "FILE seeking JSON: " + KuTu_vbg );
	try
	{
		const Smx_k = await fetch( KuTu_vbg, { headers: { Accept: 'application/json' } } );
		const ToKz_v = await Smx_k.json();
		//SmaSme( ToKz_v );
		return ToKz_v;
	}
	catch ( e ) { MoDzTrx( KoKeDru.TrxJy__SuKz_GriHo_vsg + " @ " + ToKzVa_vsg + " --> " + e ); }
	return null;
};

//==============================================
// TXT_ADD^Cha
//==============================================
async function Hrz7_Kru__ToKz_vsg( ChaKuTu_vsg, ToKzVa_vsg )
{
	let KuTu_vbg = BriDz__Mx_KuTu_vsg + ChaKuTu_vsg + ToKzVa_vsg;
	//SmaSme( "FILE seeking TEXT: " + KuTu_vbg );
	try
	{
		const Smx_k = await fetch( KuTu_vbg );
		const ToKz_v = await Smx_k.text();
		// SmaSme( ToKz_v );
		return ToKz_v;
	}
	catch ( e ) { MoDzTrx( KoKeDru.TrxJy__SuKz_GriHo_vsg + " @ " + ToKzVa_vsg + " --> " + e ); }
	return null;
};

//==============================================
// BLOB_ADD^Cha
//==============================================
async function Hrz7_Kru__ToKz_vBLOB( ChaKuTu_vsg, ToKzVa_vsg )
{
	let KuTu_vbg = BriDz__Mx_KuTu_vsg + ChaKuTu_vsg + ToKzVa_vsg;
	SmaSme( "FILE seeking BLOB: " + KuTu_vbg );
	try
	{
		const Smx_k = await fetch( KuTu_vbg );
		const ToKz_v = await Smx_k.blob();
		return ToKz_v;
	}
	catch ( e ) { MoDzTrx( KoKeDru.TrxJy__SuKz_GriHo_vsg + " @ " + ToKzVa_vsg + " --> " + e ); }
	return null;
};

//==============================================
// BUF_ADD^Cha
//==============================================
async function Hrz7_Kru__ToKz_vBUF( ChaKuTu_vsg, ToKzVa_vsg )
{
	let KuTu_vbg = BriDz__Mx_KuTu_vsg + ChaKuTu_vsg + ToKzVa_vsg;
	SmaSme( "FILE seeking BUFFER: " + KuTu_vbg );
	try
	{
		const Smx_k = await fetch( KuTu_vbg );
		const ToKz_v = await Smx_k.arrayBuffer();
		return ToKz_v;
	}
	catch ( e ) { MoDzTrx( KoKeDru.TrxJy__SuKz_GriHo_vsg + " @ " + ToKzVa_vsg + " --> " + e ); }
	return null;
};


//==============================================
// IDB STOR
//==============================================

//---------------------------------------------------
// IDB
//---------------------------------------------------
const IDB_Ko_l = new Promise((resolve, reject) =>
{
	// IDB NAME
	const request = indexedDB.open('handle', 1);

	request.onupgradeneeded = (event) =>
	{
		const db = event.target.result;
		db.createObjectStore('handles', {keyPath: 'id'});
	};

	request.onsuccess = (event) =>
		{
		console.log("IDB_Good\n");
		resolve(event.target.result);
	};

	request.onerror = (event) => {
		console.error(event);
		reject(event.target.error);
	};
});


//---------------------------------------------------
// Chy
//---------------------------------------------------
/* Saves a directory handle to the database.
 * @param {FileSystemDirectoryHandle} ToKzVy  - The directory handle to save.
 * @returns {Promise<void>} A promise that resolves when the handle is saved.
 */
//async function
const IDB_ToKzVy__Chy = (Va, ToKzVy) =>
{
	return new Promise((resolve, reject) => {
		IDB_Ko_l.then((db) => {
			const transaction = db.transaction(['handles'], 'readwrite');
			const store = transaction.objectStore('handles');
			const request = store.put({id: Va, handle: ToKzVy});

			request.onsuccess = () => {
				console.log("IDB Handle Saved\n");
				resolve();
			}
			request.onerror = () => {
				console.log("IDB Handle Failed\n");
				reject(request.error);
			}
		});
	});
};

//---------------------------------------------------
// My
//---------------------------------------------------
/**
 * Retrieves the last saved folder handle from the database.
 * @returns {Promise<FileSystemDirectoryHandle|undefined>} A promise that resolves with the folder handle or undefined if not found.
 */
const IDB_ToKzVy__My = (Va) =>
{
	return new Promise((resolve, reject) =>
	{
		IDB_Ko_l.then((db) =>
		{
			const transaction = db.transaction(['handles'], 'readonly');
			const store = transaction.objectStore('handles');
			const request = store.get(Va);

			request.onsuccess = (event) =>
			{
				console.log("IDB Handle Found\n" + event.target.result);
				resolve(event.target.result?.handle);
			}

			request.onerror = () =>
			{
				console.log("IDB Handle UNK\n");
				reject(request.error);
			}
		});
	});
};


//==============================================
// END
//==============================================
//==============================================
// SYSLIFE
//==============================================


//==============================================
// END
//==============================================
//----------------------------
// SYS_CFG^KoYz
//----------------------------
const BriYz = Object.freeze
({
	HxHo_qk: 0
	, Trx_qk: 1
	, Yz_qk: 2
	, Ya_qk: 3
	, Ye_qk: 4
	, Yo_qk: 5
	, Yi_qk: 6
});

//==============================================
// SERV SETUP
//==============================================
function SySmz__YaFz_v( Ji_k ){ return{ Ji: Ji_k, BriYz_q: BriYz.Ya_qk }; }
function SySmz__YaFx_v( Sa_l ){ Sa_l.BriYz_q = BriYz.Ye_qk; return Sa_l; }
function SySmz__KrzYe_y( Sa_l ){ return ( Sa_l && ( Sa_l.BriYz_q !== undefined ) && ( Sa_l.BriYz_q === BriYz.Ye_qk )); }

const SyVx = Object.freeze
({
	//----------------------------------------------------------
	// SERV_REQ
	//----------------------------------------------------------
	CFG_qk: 0
	, TAK_qk: 1
	, FS_qk: 2
	, TRU_qk: 3

	// Hra5_Ka^COMZ
	, SNS_qk: 4
	, GPS_qk: 777
	, ENRG_qk: 777

	// Hra4_Bru^NET
	, WRTC_qk: 777
	, LNK_qk: 777
	, SHARE_qk: 777
	, PAY_qk: 777

	// Hra7_Ta^FMT
	, STRM_qk: 5
	, FNT_qk: 777

	// Hru^AUD
	, WA_qk: 777
	, HEAR_qk: 777
	, SAY_qk: 777
	, HEAR_qk: 777

	// Hry^VIS
	, WG_qk: 6
	, GLF_qk: 7
	, XR_qk: 777
	, GLES_qk: 777
	, SCRN_qk: 777

	//----------------------------------------------------------
	// SERV_OPT
	//----------------------------------------------------------
	, LANG_qk: 777
	, ZSTD_qk: 777
	, AVATAR_qk: 777
	, TONE_qk: 777

	, WT_qk: 777
	, ML_qk: 777
	, MPLYR_qk: 777
	, GEN_qk: 777


	//----------------------------------------------------------
	// SERV_CNT
	//----------------------------------------------------------
	, DoFo_wuk: 8
	, SmiFo_wuk: 0
});

const SyVx__GryFo_wuk = SyVx.DoFo_wuk + SyVx.SmiFo_wuk;
const SuKz__GryFo_wuk = 8;

//==============================================
// SERV_ADD^ChaSy
//==============================================
async function Hrz7_Kru__ChaSySmz( SyTu_vsg, VaDy_vsg, SyJy_vsg, ToKz_vsg, SySmz__Kri_yk, Yz_l )
{
	//@@@
	// ECOSYS_GOOD
	if( KoDz__YzTrx_y() ) return;
	const VaSy_vsg = SyTu_vsg + VaDy_vsg;
	const Do_yk = ( SyTu_vsg === "Do" );

	//@@@
	// IF NOT ALREADY LOADED!
	if( !window[ VaSy_vsg ] )
	{
		const JS_k = await import( BriDz__Mx_KuTu_vsg + "Mx07__SuSmi_WEBPG/SuSmi01__JS/" + ( Do_yk ? "JS02_Do" : ( "JS03_Swi/Swi" + VaDy_vsg ) ) + "/" + SyJy_vsg + "__" + ToKz_vsg + "__" + VaSy_vsg + ".js" );
		// SmaSme( "SERV-MODULE", JS_k );
	}

	//@@@
	// AWAIT BEGIN SERV_ADD
	const Sy_l = await window[ VaSy_vsg ].BriYa( Yz_l );
	if( Sy_l )
	{
		const SyVx_wuk = SyVx[ VaDy_vsg + "_qk" ];
		Ko.SySmz_v[ SyVx_wuk ] = Sy_l;

		//$$$
		// LOG
		SmaSme( "+++ SERV_Cha[", SyVx_wuk, "]: ", Sy_l.Ji.VaSy, " = ", Sy_l, "KoYz ", Ko.Yz_q );

		//$$$
		// OBJ_REPORT
		// if( Sy_l.Ji.SmaYz ){ Sy_l.Ji.SmaYz( Sy_l ); }
	}

	//!!!
	// IF ANYTHING ERR'D, Then Release Us
	if( KoDz__YzTrx_y())
	{
		Hrz7_Kru__ChiSySmz( SyVx_wuk );
		const VaVx_vsg = VaDy_vsg + " #" + SyVx_wuk;
		// &&&
		// REQ --> FAIL means ERR
		if( SySmz__Kri_yk )
		{
			MoDzTrx( KoKeDru.TrxJy__SySmz_GriHo_vsg + VaVx_vsg );
		}
		//&&&
		// XTNDED --> FAIL means ALERT
		else
		{
			SmaDre( KoKeDru.Dre__SySmz_GriHo_vsg + VaVx_vsg );
		}
	}
}


//==============================================
// SERV_REMOVE^ChiSy
//==============================================
function Hrz7_Kru__ChiSySmz( SyVx_wuk )
{
	const Sy_l = Ko.SySmz_v[ SyVx_wuk ];
	if( !Sy_l ) return;

	SmaSme( "--- SERV_Chi[", SyVx_wuk, "]: ", Sy_l.Ji.VaSy, " = ", Sy_l );

	if( Sy_l.Ji.BriYi ){ Sy_l.Ji.BriYi( Sy_l ); }

	Ko.SySmz_v[ SyVx_wuk ] = null;
}

//==============================================
// END
//==============================================
//==============================================
// SYSLIFE
//==============================================

//----------------------------
// SYSTEM SERVICE_GOVERNOR
//----------------------------
var Ko =
{
	// UPD
	YeFo_wu: 0
	, BriYa_GiDri_df: 0

	// CLNs
	// Declare 'fixed array' uses ZEROs, must fill  null
	, SySmz_v: [ SyVx__GryFo_wuk ].fill( null )
	, SuKz_v: [SuKz__GryFo_wuk].fill( null )
};
window.Ko = Ko;


//==============================================
// STATUS
//==============================================

//@@@
// SAFE CHANGE (never overwrite ERR)
function KoDz__YzChy( Yz_k )
{
	if( Ko.Yz_q === BriYz.Trx_qk ) return;
	Ko.Yz_q = Yz_k;
}

//@@@
// IF_ERR
function KoDz__YzTrx_y()
{
	return ( Ko.Yz_q === BriYz.Trx_qk );
}


//==============================================
// CONTENT_LOAD
//==============================================
function KoDz__SuKz_Mi(e)
{
	SmaSme( "+++ DOM Content Loaded" );
	SmaSme( e );

}

//==============================================
// RESIZE
//==============================================
function KoDz_GyHa()
{
	//@@@
	// MxPo
	// SCREEN
	const MxPo_De_l = document.getElementById("MxPo_De");

	const MxPo_De_GyGx = MxPo_De_l.clientWidth;
	const MxPo_De_GyGa = MxPo_De_l.clientHeight;

	if( MxPo_De_l.width !== MxPo_De_GyGx || MxPo_De_l.height !== MxPo_De_GyGa )
	{
		MxPo_De_l.width = MxPo_De_GyGx;
		MxPo_De_l.height = MxPo_De_GyGa;
		SmaSme( "GyHa: " + MxPo_De_l.width + ", " + MxPo_De_l.height );
	}

	// UPDATE STATUS if not ERR
	// MxPo_Kwa_l.style.display = "none";

}


//==============================================
// END^Yi
//==============================================
function KoDz__Yi( )
{
	//@@@
	// STATUS
	if( Ko.Yz_q === BriYz.Yi_qk ) return;
	KoDz__YzChy( BriYz.Yi_qk );

	//@@@
	// END ENGINE
	if( _Hrz5_Ki__BriSmz__Yi ){	_Hrz5_Ki__BriSmz__Yi(); }

	//@@@
	// END SERV
	for( let Vx_wu = Ko.SySmz_v.length - 1; Vx_wu >= 0; Vx_wu-- )
	{
		Hrz7_Kru__ChiSySmz( Vx_wu );
	};
}

//==============================================
// BEGIN^Ya
//==============================================
async function KoDz__Ya( )
{
	//@@@
	// CONDITION
	if( Ko.Yz_q === BriYz.Ya_qk ) return;
	KoDz__YzChy( BriYz.Ya_qk );

	//@@@
	// TIME_BEGAN
	Ko.BriYa_GiDri_df = performance.now();

	//@@@
	// BOOT

	//&&&
	// RESIZE
	window.addEventListener( "resize", KoDz_GyHa );
	// window.Ko.Trx_GyHa = setInterval( KoDz_GyHa, 1000 );

	//&&&
	// LOADS
	window.addEventListener( "DOMContentLoaded", KoDz__SuKz_Mi );


	//@@@
	// SERV_REQ
	const SySmz__Kri_yk = true;
	const Kri__SySmz_v =
	[
		Hrz7_Kru__ChaSySmz( "Do", "CFG", "Hrz4_Bu", "BriDzYz", SySmz__Kri_yk, { SmzYz: "0" } )
		, Hrz7_Kru__ChaSySmz( "Do", "TAK", "Hre1_Dru", "KeDruPy", SySmz__Kri_yk, { Si_KeDru: "en" } )
		, Hrz7_Kru__ChaSySmz( "Do", "FS", "Hra6_Ku", "KoToKz", SySmz__Kri_yk, { VaDyFy: "true" } )
		, Hrz7_Kru__ChaSySmz( "Do", "GLF", "Hry1_Brz", "KeDru", SySmz__Kri_yk, { Gy_wu: 512 } )

		, Hrz7_Kru__ChaSySmz( "Do", "SNS", "Hra1_Mz", "JaMi", SySmz__Kri_yk, { SmzYz: "0" } )
		, Hrz7_Kru__ChaSySmz( "Do", "STRM", "Hra7_Ta", "ToMi", SySmz__Kri_yk, { SmzYz: "0" } )
		, Hrz7_Kru__ChaSySmz( "Do", "WG", "Hry5_Smz", "WzMx", SySmz__Kri_yk, { KaVy: "0" } )
		, Hrz7_Kru__ChaSySmz( "Do", "TRU", "Hrx4_Che", "MoDxGri", SySmz__Kri_yk, { KaVy: "0" } )

		// Hrz7_Kru__ChaSySmz( "Do", "FNT", "Hr_", "?", , SySmz__Kri_yk, { SmzYz: "0" } );
		//Hrz7_Kru__ChaSySmz( "Do", "", "Hr_", "?", "Do?", SySmz__Kri_yk, { SmzYz: "0" } );
		//Hrz7_Kru__ChaSySmz( "Do", "", "Hr_", "?", "Do?", SySmz__Kri_yk, { SmzYz: "0" } );
	];

	const Kri__SySmzCha__Smx_k = await Promise.all( Kri__SySmz_v );
	// SmaSme( "SERV REQ", Kri__SySmzCha__Smx_k );


	//@@@
	// SERV_OPT
	const SySmz__HoKri_yk = false;
	// DoXR
	//Hrz7_Kru__ChaSySmz( "Do", "", "Hri2_Ke", "BzMe", "DoXR", SySmz__HoKri_yk, { SmzYz: "0" } );
	// DoGLES
	//Hrz7_Kru__ChaSySmz( "Do", "", "Hry5_Smz", "BzMe", "DoGLES", SySmz__HoKri_yk, { SmzYz: "0" } );


	//@@@
	// FNT
	// const FNT_l = await Hrz7_Kru__ChaWaDru( "Final Frontier Old Style", "url(" + BriDz__Mx_KuTu_vsg + "Mx01__SuKz_MEDIA/SuKz04_WaDru__FONT/WaDru02__FinalFrontier.ttf )" );


	//@@@
	// ENGINE LAUNCH
	_Hrz5_Ki__BriSmz__Ya();

	//&&&
	// SET PAUSED & TOGGLE PLAY
	KoDz__YzChy( BriYz.Yo_qk );
	KoDz__YoChyDry();
}


//==============================================
// PAUSE^Yo or RESUME^Yu
//==============================================
function KoDz__YoChyDry()
{
	//@@@
	// ECOSYS_GOOD
	if( KoDz__YzTrx_y() ) return;

	//@@@
	// SHOW GPU CANVAS
	const MxPo_De_l = document.getElementById( "MxPo_De" );
	if( !MxPo_De_l )return;
	const MxPo_Kwa_l = document.getElementById( "MxPo_Kwa" );
	if( !MxPo_Kwa_l )return;
	MxPo_Kwa_l.style.display = "none";
	MxPo_De_l.style.display = "block";


	//@@@
	// PAUSE if updating
	if( Ko.Yz_q === BriYz.Ye_qk )
	{
		//&&&
		// STATUS
		KoDz__YzChy( BriYz.Yo_qk );

		//&&&
		// BROADCAST PAUSE
		_Hrz5_Ki__BriSmz__Yo();
		Ko.SySmz_v.forEach( function ( Ti_v )
		{
			if( SySmz__KrzYe_y( Ti_v ) && Ti_v.Ji.BriYo ){ Ti_v.Ji.BriYo( Ti_v ); }
		});
	}

	//@@@
	// RESUME if paused
	else if( Ko.Yz_q === BriYz.Yo_qk )
	{
		//&&&
		// BROADCAST RESUME
		Ko.SySmz_v.forEach( function( Ti_v )
		{
			if( SySmz__KrzYe_y( Ti_v ) && Ti_v.Ji.BriYu ){ Ti_v.Ji.BriYu( Ti_v); }
		});
		_Hrz5_Ki__BriSmz__Yu();

		//&&&
		// STATUS
		KoDz__YzChy( BriYz.Ye_qk );
		requestAnimationFrame( KoDz__Ye );
	}
}

//==============================================
// UPD^Ye
// minimal precision of 1 millisecond
//==============================================
function KoDz__Ye( Gi )
{
	//@@@
	// ECOSYS_GOOD
	// No Err or Not-Update State Allowed
	if( ( KoDz__YzTrx_y() ) || ( Ko.Yz_q !== BriYz.Ye_qk )) return;


	//@@@
	// TIMER UPDATE
	// const Gry__GiPa_wf = ( performance.now() - performance.timeOrigin ) / 1000.0;
	const Gry__GiPa_wf = ( performance.now() - Ko.BriYa_GiDri_df ) / 1000.0;
	// Date().toLocaleString()  = full date/time/tz
	if( Ko.YeFo_wu % 60 == 0 )
	{
		const MxPo_De_l = document.getElementById("MxPo_De");

		//&&&
		// HEADER (Fixed)
		Module.Sma__BriDzYz__Bz
		(
			KoKeDru.BriDz_VaSy_vsg + " [ " + BriDzSa__Da_vsg + " ]"
			+ " Mode: " + ( window.Ko.Hx_SyDx_vsg ? window.Ko.Hx_SyDx_vsg : "???" )
			+ " @ " + "Date_Time"
		);

		//&&&
		// FOOTER (Dynamic)
		Module.Sma__BriDzYz__Bo
		(
			KoKeDru.BriDz_VaSy_vsg
			+ " " + Math.floor( Gry__GiPa_wf / 60.0 ).toString().padStart( 3,"0") + "m " + Math.floor( Gry__GiPa_wf % 60 ).toString().padStart(2,"0") + "s"
			+ " YeFo: " + Ko.YeFo_wu
			+ " Screen[ " + MxPo_De_l.width + "px, " + MxPo_De_l.height + "px ] DPR: " + window.devicePixelRatio
		);
	}
	Ko.YeFo_wu++;


	if( Ko.YeFo_wu % 60 == 44 )
	{
		const SaGLF_l = Ko.SySmz_v[ SyVx.GLF_qk ];
		const SaWG_l = Ko.SySmz_v[ SyVx.WG_qk ];

		//SmaSme( "CHECK: ", SaWG_l.BriYz_q, SaGLF_l.BriYz_q );

		if( SySmz__KrzYe_y( SaWG_l ) && SySmz__KrzYe_y( SaGLF_l ) )
		{
			//@@@
			// TXT
			SaGLF_l.Ji.Hre7_Me__KeDru_Ha( SaGLF_l, "ðŸ‘½ðŸ‘¾ðŸš€", 0, 0 );
			SaGLF_l.Ji.Hre7_Me__KeDru_Ha( SaGLF_l, "Fps: " + Ko.YeFo_wu, 0, 128 );
			SaGLF_l.Ji.Hre7_Me__KeDru_Ha( SaGLF_l, "ðŸ›¸ Evt: ", 0, 256 );
			SaGLF_l.Ji.Hre7_Me__KeDru_Ha( SaGLF_l, "Log: ", 0, 384 );


			// Canvas ( SVG or TXT )
			SaWG_l.Ji.KiCho_JaKz( SaWG_l, 0, 0, 0, 512, 512, SaGLF_l.WzPo_l );

			// Camera
			//SaWG_l.Ji.KiCho_JaKz( SaWG_l, 512, 0, 0, 512, 512, SaGLF_l.WzPo_l );

			// Image
			if( Ko.SuKz_v[ 0 ] )
			{ SaWG_l.Ji.KiCho_JaKz( SaWG_l, 0, 512, 0, 512, 450, Ko.SuKz_v[ 0 ] ); }

			// Video
			SaWG_l.Ji.KiCho_JaKz( SaWG_l, 512, 512, 0, 512, 512, SaGLF_l.WzPo_l );

		}
	}


	//@@@
	// ENGINE_SYNC
	_Hrz5_Ki__BriSmz__Ye();



	//@@@
	// TEK-SERVS UPDATE ALL
	Ko.SySmz_v.forEach( function ( Ti_v )
	{
		if( SySmz__KrzYe_y( Ti_v ) && Ti_v.Ji.BriYe ){ Ti_v.Ji.BriYe( Ti_v, Gi ); }
	});


	//@@@
	// LOOP FOREVER
	requestAnimationFrame( KoDz__Ye );
}


//=====================================
// LOAD APP ENGINE
//=====================================
var BriDz_Fz_js = document.createElement("script");
BriDz_Fz_js.src = "Mx07__SuSmi_WEBPG/SuSmi06__BIN/KoKri__BriDz" + ( WASM64_yk ? 64:32 ) + ".js";
document.head.appendChild(BriDz_Fz_js);


//=====================================
// END
//=====================================

const BriDzSa__Da_vsg = "PUB_v0.232"; 
 const BriDzSa__Da_wuk = "232"; 
 const BriDz__Mx_KuTu_vsg = "https://powerourpeople.com/"; 

//==============================================
// TEK_MSG_BEGIN
//
// !!!
// the FEW msgs that might occur before we load a localized language
// !!!
//==============================================
const KoSy__KwiGru_KeDru_l =
{
	//@@@
	// REPLACED after LAUNCH
	// once culture loaded
	BriDz_VaSy_vsg: "MicroCosm"
	, TrxBz_vsg: "Tech FAIL: "
	, TrxKrx_vsg: "Please try a different Browser or Computer"

	//@@@
	// POSSIBLE USE ONLY ON STARTUP
	// No need to replace later
	, BriDz_KiMiFe_vsg: "Tech Loading"
	
	, TrxJy00__HrxCheHo__CORS_vsg: "Security Fail: No HTTPS CORS Found to run Security Policies."
	, TrxJy01__HrzMoHo__WASM_vsg: "Web Assembly not Supported: Try a different Browser"
	, TrxJy02__MoDzStxGru_vsg: "Only *1* Webpage Allowed at a time"
};


//==============================================
// TEK_MSG_END
//==============================================
//==============================================
// LANG/COUNTRY BEGIN
//==============================================
const Hre1_Dru__ToKz_v =
[
	// DEFAULT SRC
	"en"

	, " ar" // 0
	, " bg" // 1
	, " bn" // 2
	, " cs" // 3
	, " da" // 4
	, " de" // 5
	, " el" // 6
	, " es-ES" // 7
	, " es-419" // 8
	, " fi" // 9
	, " fr-CA" // 10
	, " fr-FR" // 11
	, " he" // 12
	, " hi" // 13
	, " hr" // 14
	, " hu" // 15
	, " id" // 16
	, " it" // 17
	, " ja" // 18
	, " kn" // 19
	, " ko" // 20
	, " lt" // 21
	, " mr" // 22
	, " nl" // 23
	, " no" // 24
	, " pl" // 25
	, " pt-BR" // 26
	, " pt-PT" // 27
	, " ro" // 28
	, " ru" // 29
	, " sk" // 30
	, " sl" // 31
	, " sv" // 32
	, " ta" // 33
	, " te" // 34
	, " th" // 35
	, " tr" // 36
	, " uk" // 37
	, " vi" // 38
	, " zh" // 39
	, " zh-HK" // 40
	, " zh-TW" // 41

];


//-------------------------------------------------
//
// Vy: CODE
// Va: Local Name
// So: Reference English
// KuGwz: Flag as Emoji
//-------------------------------------------------
const Hre1_Dru__Gra_v =
[

	//=================================================================
	// GENERIC ENGLISH
	{
		"Vy": "en",
		"Va": "U.N. English",
		"KuGwz": "ðŸŒ",
		"So": "U.N. English",
		"ToKz": "en"
	},

	//=================================================================

	{ "Vy": "af", "Va": "Afrikaans", "KuGwz": "ðŸ‡¿ðŸ‡¦", "So": "Afrikaans", "ToKz": "af" },
	{ "Vy": "am", "Va": "áŠ áˆ›áˆ­áŠ›", "KuGwz": "ðŸ‡ªðŸ‡¹", "So": "Amharic", "ToKz": "am" },
	{ "Vy": "ar", "Va": "Ø§Ù„Ø¹Ø±Ø¨ÙŠØ©", "KuGwz": "ðŸ‡¸ðŸ‡¦", "So": "Arabic", "ToKz": "ar" },
	{ "Vy": "az", "Va": "AzÉ™rbaycan dili", "KuGwz": "ðŸ‡¦ðŸ‡¿", "So": "Azerbaijani", "ToKz": "az" },
	{ "Vy": "be", "Va": "Ð‘ÐµÐ»Ð°Ñ€ÑƒÑÐºÐ°Ñ", "KuGwz": "ðŸ‡§ðŸ‡¾", "So": "Belarusian", "ToKz": "be" },
	{ "Vy": "bg", "Va": "Ð‘ÑŠÐ»Ð³Ð°Ñ€ÑÐºÐ¸", "KuGwz": "ðŸ‡§ðŸ‡¬", "So": "Bulgarian", "ToKz": "bg" },
	{ "Vy": "bn", "Va": "à¦¬à¦¾à¦‚à¦²à¦¾", "KuGwz": "ðŸ‡§ðŸ‡©", "So": "Bengali", "ToKz": "bn" },

	{ "Vy": "ca", "Va": "CatalÃ ", "KuGwz": "ðŸ‡ªðŸ‡¸", "So": "Catalan", "ToKz": "ca" },
	{ "Vy": "cs", "Va": "ÄŒeÅ¡tina", "KuGwz": "ðŸ‡¨ðŸ‡¿", "So": "Czech", "ToKz": "cs" },
	{ "Vy": "da", "Va": "Dansk", "KuGwz": "ðŸ‡©ðŸ‡°", "So": "Danish", "ToKz": "da" },
	{ "Vy": "de", "Va": "Deutsch", "KuGwz": "ðŸ‡©ðŸ‡ª", "So": "German", "ToKz": "de" },
	{ "Vy": "el", "Va": "Î•Î»Î»Î·Î½Î¹ÎºÎ¬", "So": "Greek", "KuGwz": "ðŸ‡¬ðŸ‡·", "ToKz": "el" },


	//=================================================================
	// en
	{
		"Vy": "en",
		"Va": "English",
		"KuGwz": "ðŸ‡ºðŸ‡¸",
		"So": "English",
		"ToKz": "en"
	},
	{
		"Vy": "en-AU",
		"Va": "English (Australia)",
		"KuGwz": "ðŸ‡¦ðŸ‡º",
		"So": "English",
		"ToKz": "en"
	},
	{
		"Vy": "en-CA",
		"Va": "English (Canada)",
		"KuGwz": "ðŸ‡¨ðŸ‡¦",
		"So": "English",
		"ToKz": "en"
	},
	{
		"Vy": "en-GB",
		"Va": "English (United Kingdom)",
		"KuGwz": "ðŸ‡¬ðŸ‡§",
		"So": "English",
		"ToKz": "en"
	},

	//=================================================================
	// es
	{
		"Vy": "es-ES",
		"Va": "EspaÃ±ol (EspaÃ±a)",
		"So": "Spanish (Spain)",
		"KuGwz": "ðŸ‡ªðŸ‡¸",
		"ToKz": "es-ES"
	},
	{
		"Vy": "es-419",
		"Va": "EspaÃ±ol (LatinoamÃ©rica)",
		"So": "Spanish (Latin America)",
		"KuGwz": "ðŸŒŽ",
		"ToKz": "es-419"
	},
	{
		"Vy": "es-US",
		"Va": "EspaÃ±ol (Estados Unidos)",
		"So": "Spanish (United States)",
		"KuGwz": "ðŸ‡ºðŸ‡¸",
		"ToKz": "es-419"
	},

	//=================================================================


	{ "Vy": "et", "Va": "Eesti", "KuGwz": "ðŸ‡ªðŸ‡ª", "So": "Estonian", "ToKz": "et" },
	{ "Vy": "eu", "Va": "Euskara", "KuGwz": "ðŸ‡ªðŸ‡¸", "So": "Basque", "ToKz": "eu" },
	{ "Vy": "fa", "Va": "ÙØ§Ø±Ø³ÛŒ", "KuGwz": "ðŸ‡®ðŸ‡·", "So": "Persian", "ToKz": "fa" },
	{ "Vy": "fi", "Va": "Suomi", "KuGwz": "ðŸ‡«ðŸ‡®", "So": "Finnish", "ToKz": "fi" },
	{ "Vy": "fr-CA", "Va": "FranÃ§ais (Canada)", "KuGwz": "ðŸ‡¨ðŸ‡¦", "So": "French", "ToKz": "fr-CA" },
	{ "Vy": "fr-FR", "Va": "FranÃ§ais (France)", "KuGwz": "ðŸ‡«ðŸ‡·", "So": "French", "ToKz": "fr-FR" },
	{ "Vy": "gl", "Va": "Galego", "KuGwz": "ðŸ‡ªðŸ‡¸", "So": "Galician", "ToKz": "gl" },
	{ "Vy": "gu", "Va": "àª—à«àªœàª°àª¾àª¤à«€", "KuGwz": "ðŸ‡®ðŸ‡³", "So": "Gujarati", "ToKz": "gu" },

	{ "Vy": "he", "Va": "×¢×‘×¨×™×ª", "KuGwz": "ðŸ‡®ðŸ‡±", "So": "Hebrew", "ToKz": "he" },
	{ "Vy": "hi", "Va": "à¤¹à¤¿à¤¨à¥à¤¦à¥€", "KuGwz": "ðŸ‡®ðŸ‡³", "So": "Hindi", "ToKz": "hi" },
	{ "Vy": "hr", "Va": "Hrvatski", "KuGwz": "ðŸ‡­ðŸ‡·", "So": "Croatian", "ToKz": "hr" },
	{ "Vy": "hu", "Va": "Magyar", "KuGwz": "ðŸ‡­ðŸ‡º", "So": "Hungarian", "ToKz": "hu" },
	{ "Vy": "hy", "Va": "Õ€Õ¡ÕµÕ¥Ö€Õ¥Õ¶", "KuGwz": "ðŸ‡¦ðŸ‡²", "So": "Armenian", "ToKz": "hy" },
	{ "Vy": "id", "Va": "Indonesia", "KuGwz": "ðŸ‡®ðŸ‡©", "So": "Indonesian", "ToKz": "id" },
	{ "Vy": "is", "Va": "Ãslenska", "KuGwz": "ðŸ‡®ðŸ‡¸", "So": "Icelandic", "ToKz": "is" },
	{ "Vy": "it", "Va": "Italiano", "KuGwz": "ðŸ‡®ðŸ‡¹", "So": "Italian", "ToKz": "it" },
	{ "Vy": "ja", "Va": "æ—¥æœ¬èªž", "KuGwz": "ðŸ‡¯ðŸ‡µ", "So": "Japanese", "ToKz": "ja" },

	{ "Vy": "ka", "Va": "áƒ¥áƒáƒ áƒ—áƒ£áƒšáƒ˜", "KuGwz": "ðŸ‡¬ðŸ‡ª", "So": "Georgian", "ToKz": "ka" },
	{ "Vy": "kk", "Va": "ÒšÐ°Ð·Ð°Ò› Ñ‚Ñ–Ð»Ñ–", "KuGwz": "ðŸ‡°ðŸ‡¿", "So": "Kazakh", "ToKz": "kk" },
	{ "Vy": "km", "Va": "ážáŸ’áž˜áŸ‚ážš", "KuGwz": "ðŸ‡°ðŸ‡­", "So": "Khmer", "ToKz": "km" },
	{ "Vy": "kn", "Va": "à²•à²¨à³à²¨à²¡", "KuGwz": "ðŸ‡®ðŸ‡³", "So": "Kannada", "ToKz": "kn" },
	{ "Vy": "ko", "Va": "í•œêµ­ì–´", "KuGwz": "ðŸ‡°ðŸ‡·", "So": "Korean", "ToKz": "ko" },
	{ "Vy": "ky", "Va": "ÐšÑ‹Ñ€Ð³Ñ‹Ð·Ñ‡Ð°", "KuGwz": "ðŸ‡°ðŸ‡¬", "So": "Kyrgyz", "ToKz": "ky" },
	{ "Vy": "lo", "Va": "àº¥àº²àº§", "KuGwz": "ðŸ‡±ðŸ‡¦", "So": "Lao", "ToKz": "lo" },
	{ "Vy": "lt", "Va": "LietuviÅ³", "KuGwz": "ðŸ‡±ðŸ‡¹", "So": "Lithuanian", "ToKz": "lt" },
	{ "Vy": "lv", "Va": "LatvieÅ¡u", "KuGwz": "ðŸ‡±ðŸ‡»", "So": "Latvian", "ToKz": "lv" },

	{ "Vy": "mk", "Va": "ÐœÐ°ÐºÐµÐ´Ð¾Ð½ÑÐºÐ¸", "KuGwz": "ðŸ‡²ðŸ‡°", "So": "Macedonian", "ToKz": "mk" },
	{ "Vy": "ml", "Va": "à´®à´²à´¯à´¾à´³à´‚", "KuGwz": "ðŸ‡®ðŸ‡³", "So": "Malayalam", "ToKz": "ml" },
	{ "Vy": "mn", "Va": "ÐœÐ¾Ð½Ð³Ð¾Ð»", "KuGwz": "ðŸ‡²ðŸ‡³", "So": "Mongolian", "ToKz": "mn" },
	{ "Vy": "mr", "Va": "à¤®à¤°à¤¾à¤ à¥€", "KuGwz": "ðŸ‡®ðŸ‡³", "So": "Marathi", "ToKz": "mr" },
	{ "Vy": "ms", "Va": "Bahasa Melayu", "KuGwz": "ðŸ‡²ðŸ‡¾", "So": "Malay", "ToKz": "ms" },
	{ "Vy": "ms-MY", "Va": "Bahasa Melayu (Malaysia)", "KuGwz": "ðŸ‡²ðŸ‡¾", "So": "Malay (Malaysia)", "ToKz": "ms" },
	{ "Vy": "my", "Va": "á€—á€™á€¬", "KuGwz": "ðŸ‡²ðŸ‡²", "So": "Burmese", "ToKz": "my" },
	{ "Vy": "ne", "Va": "à¤¨à¥‡à¤ªà¤¾à¤²à¥€", "KuGwz": "ðŸ‡³ðŸ‡µ", "So": "Nepali", "ToKz": "ne" },
	{ "Vy": "nl", "Va": "Nederlands", "KuGwz": "ðŸ‡³ðŸ‡±", "So": "Dutch", "ToKz": "nl" },
	{ "Vy": "no", "Va": "Norsk", "KuGwz": "ðŸ‡³ðŸ‡´", "So": "Norwegian", "ToKz": "no" },

	{ "Vy": "pa", "Va": "à¨ªà©°à¨œà¨¾à¨¬à©€", "KuGwz": "ðŸ‡®ðŸ‡³", "So": "Punjabi", "ToKz": "pa" },
	{ "Vy": "pl", "Va": "Polski", "KuGwz": "ðŸ‡µðŸ‡±", "So": "Polish", "ToKz": "pl" },
	{ "Vy": "pt-BR", "Va": "PortuguÃªs (Brasil)", "KuGwz": "ðŸ‡§ðŸ‡·", "So": "Portuguese (Brazil)", "ToKz": "pt-BR" },
	{ "Vy": "pt-PT", "Va": "PortuguÃªs (Portugal)", "KuGwz": "ðŸ‡µðŸ‡¹", "So": "Portuguese (Portugal)", "ToKz": "pt-PT" },
	{ "Vy": "rm", "Va": "Rumantsch", "KuGwz": "ðŸ‡¨ðŸ‡­", "So": "Romansh", "ToKz": "rm" },
	{ "Vy": "ro", "Va": "RomÃ¢nÄƒ", "KuGwz": "ðŸ‡·ðŸ‡´", "So": "Romanian", "ToKz": "ro" },
	{ "Vy": "ru", "Va": "Ð ÑƒÑÑÐºÐ¸Ð¹", "KuGwz": "ðŸ‡·ðŸ‡º", "So": "Russian", "ToKz": "ru" },

	{ "Vy": "si", "Va": "à·ƒà·’à¶‚à·„à¶½", "KuGwz": "ðŸ‡±ðŸ‡°", "So": "Sinhala", "ToKz": "si" },
	{ "Vy": "sk", "Va": "SlovenÄina", "KuGwz": "ðŸ‡¸ðŸ‡°", "So": "Slovak", "ToKz": "sk" },
	{ "Vy": "sl", "Va": "SlovenÅ¡Äina", "KuGwz": "ðŸ‡¸ðŸ‡®", "So": "Slovenian", "ToKz": "sl" },
	{ "Vy": "sq", "Va": "Shqip", "KuGwz": "ðŸ‡¦ðŸ‡±", "So": "Albanian", "ToKz": "sq" },
	{ "Vy": "sr", "Va": "Ð¡Ñ€Ð¿ÑÐºÐ¸", "KuGwz": "ðŸ‡·ðŸ‡¸", "So": "Serbian", "ToKz": "sr" },
	{ "Vy": "sv", "Va": "Svenska", "So": "Swedish", "KuGwz": "ðŸ‡¸ðŸ‡ª", "ToKz": "sv" },
	{ "Vy": "sw", "Va": "Kiswahili", "KuGwz": "ðŸ‡¹ðŸ‡¿", "So": "Swahili", "ToKz": "sw" },

	{ "Vy": "ta", "Va": "à®¤à®®à®¿à®´à¯", "KuGwz": "ðŸ‡®ðŸ‡³", "So": "Tamil", "ToKz": "ta" },
	{ "Vy": "te", "Va": "à°¤à±†à°²à±à°—à±", "KuGwz": "ðŸ‡®ðŸ‡³", "So": "Telugu", "ToKz": "te" },
	{ "Vy": "th", "Va": "à¹„à¸—à¸¢", "KuGwz": "ðŸ‡¹ðŸ‡­", "So": "Thai", "ToKz": "th" },
	{ "Vy": "tl", "Va": "Filipino", "KuGwz": "ðŸ‡µðŸ‡­", "So": "Filipino", "ToKz": "tl" },
	{ "Vy": "tr", "Va": "TÃ¼rkÃ§e", "KuGwz": "ðŸ‡¹ðŸ‡·", "So": "Turkish", "ToKz": "tr" },

	{ "Vy": "uk", "Va": "Ð£ÐºÑ€Ð°Ñ—Ð½ÑÑŒÐºÐ°", "KuGwz": "ðŸ‡ºðŸ‡¦", "So": "Ukrainian", "ToKz": "uk" },
	{ "Vy": "ur", "Va": "Ø§Ø±Ø¯Ùˆ", "KuGwz": "ðŸ‡µðŸ‡°", "So": "Urdu", "ToKz": "ur" },
	{ "Vy": "vi", "Va": "Tiáº¿ng Viá»‡t", "KuGwz": "ðŸ‡»ðŸ‡³", "So": "Vietnamese", "ToKz": "vi" },

	{ "Vy": "zh", "Va": "ä¸­æ–‡ï¼ˆç®€ä½“ï¼‰", "KuGwz": "ðŸ‡¨ðŸ‡³", "So": "Chinese (Simplified)", "ToKz": "zh" },
	{ "Vy": "zh-HK", "Va": "ä¸­æ–‡ï¼ˆé¦™æ¸¯ï¼‰", "KuGwz": "ðŸ‡­ðŸ‡°", "So": "Chinese (Hong Kong)", "ToKz": "zh-HK" },
	{ "Vy": "zh-TW", "Va": "ä¸­æ–‡ï¼ˆç¹é«”ï¼‰", "KuGwz": "ðŸ‡¹ðŸ‡¼", "So": "Chinese (Traditional)", "ToKz": "zh-TW" },
	{ "Vy": "zu", "Va": "Zulu", "KuGwz": "ðŸ‡¿ðŸ‡¦", "So": "Zulu", "ToKz": "zu" }
];


//==============================================
// LANG/COUNTRY END
//==============================================
//==============================================
// CORE MSGS
//==============================================
const SaPy_vvsg=
[
	'ðŸ‘¤','ðŸ‘»','ðŸŽ°','ðŸ§‘â€ðŸ’»'

	,'ðŸ‘½ï¸','ðŸ‘¾','ðŸ¤–','ðŸ—¿'

	,'ðŸ˜Œ','ðŸ˜Ž','ðŸ˜ƒ','ðŸ¤£'
	,'ðŸ˜‰','ðŸ˜','ðŸ¤©','ðŸ˜˜','ðŸ¤ª'

	,'ðŸ¤¬','ðŸ‘¿','ðŸ’€','â˜ ï¸','ðŸ¤¡','ðŸ‘¹','ðŸ‘º'

	,'ðŸµ','ðŸ¶','ðŸº','ðŸ¦Š','ðŸ¦','ðŸ±','ðŸ¦','ðŸ¯','ðŸ¼'
	,'ðŸ®','ðŸ·','ðŸ­','ðŸ°','ðŸ»','ðŸ¨','ðŸ´','ðŸ¦‰','ðŸ¸'
	,'ðŸ§','ðŸ³','ðŸ¬','ðŸŸï¸','ðŸ¦‘','ðŸ¦€'

	,'ðŸ¦‹','ðŸ','ðŸž','ðŸ¦—','ðŸ•·ï¸','ðŸ¦‡','ðŸ','ðŸ›'

	,'ðŸ¦ ','ðŸ¦•','ðŸ¦–','ðŸ¦„','ðŸ²'

	,'â­ï¸','ðŸŒ€','ðŸŒˆ','â¤ï¸â€','ðŸŽµ','ðŸŽ¶'

	,'âš½ï¸','âš¾ï¸','ðŸ¥Ž','ðŸ€','ðŸ','ðŸˆ','ðŸ‰'

	,'ðŸ›','âš›ï¸','ðŸ•‰ï¸','âœ¡ï¸','â˜¸ï¸','â˜¯ï¸','âœï¸','â˜¦ï¸','â˜ªï¸','â˜®ï¸'
	,'â™ˆï¸','â™‰ï¸','â™Šï¸','â™‹ï¸','â™Œï¸','â™ï¸','â™Žï¸','â™ï¸','â™ï¸','â™‘ï¸','â™’ï¸','â™“ï¸','â›Ž'
];

//-------------------------------------------------
// LANG/COUNTRY END
//-------------------------------------------------
//==============================================
// CORE MSGS
//==============================================

//==============================================
// LAUNCH_CFG VERSION
// Triggers a Reset
//==============================================
const KoSy__KwiYz__Da_wuk = 1;


//-------------------------------------------------
// LAUNCH_PREF for GUI
const NeJy = Object.freeze
//-------------------------------------------------
({
	Ho_qk: 0

	, KuTz_qk: 1 // Domain Space
	, KuNz_qk: 2 // Section Space
	, KuNe_qk: 3 // Input Space

	, VaTz_qk: 4 // Section Heading
	, VaNz_qk: 5 // Topic Label
	, VaNe_qk: 6 // Input Label
	, VaTo_qk: 7 // Info Label

	, HyHo_qk: 8 // Checkbox
	, Tra_qk: 9 // Btn
	, NiHu_qk: 10 // Radiogroup
	, VxBra_qk: 14 // Slider

	, KeDru_qk: 11 // Text or Pwd Edit
	, TaVa_qk: 13 // List (selection text)
	, JaPo_qk: 14 // Img
	, TaJaPo_qk: 15 // Img Grid

	, YiKuTz_qk: 16 // End Domain
	, YiKuNz_qk: 17 // End Topics
	, YiKuNe_qk: 18 // End Input
});


const Kwi00__TaNe_v=
[
	//=========================================
	// { Va: "NOTE", Gwz: "EMOJI", Vy: "ID", Jy: "Type", Dx: "Style", Tra: "Use", Se:"Focus as Tab Index" }
	// #ï¸âƒ£ *ï¸âƒ£ 0ï¸âƒ£ 1ï¸âƒ£ 2ï¸âƒ£ 3ï¸âƒ£ 4ï¸âƒ£ 5ï¸âƒ£ 6ï¸âƒ£ 7ï¸âƒ£ 8ï¸âƒ£ 9ï¸âƒ£
	//
	//=========================================

	//=========================================
	// 0
	//=========================================
	{ Va: "Name", Vy: "ID", Jy: NeJy.Tra_qk, Dx: "", Tra: "", Se: "0" }

	//=========================================
	// 1
	//=========================================


	//=========================================
	// 2
	//=========================================


	//=========================================
	// 3
	//=========================================


	//=========================================
	// 4
	//=========================================

	//=========================================
	// 5
	//=========================================

	//=========================================
	// 6
	//=========================================

];

//-------------------------------------------------
// LANG/COUNTRY END
//-------------------------------------------------
//==============================================
// STARTUP
//==============================================

//----------------------------
// SYS_CFG^KoYz
//----------------------------
const BriYz = Object.freeze
({
	HxHo_qk: 0
	, Trx_qk: 1
	, Cho_qk: 2
	, Che_qk: 3

	, Ya_qk: 4
	, Ye_qk: 5
	, Yo_qk: 6
	, Yi_qk: 7
});


//----------------------------
// SYSTEM LOG
//----------------------------
// ONLY SAVE last 64 log lines
const SmaBraHi_wuk = 64;
const SmaViKa_wuk = ( SmaBraHi_wuk - 1 );


//----------------------------
// SYSTEM SERVICE_GOVERNOR
//----------------------------
let Ko =
{
	//@@@
	// BOOT
	WASM64_yk: false
	, Trx_vsg: null

	//@@@
	// LOG
	// Sma_vvsg
	, SmaFe_wu: 0
	, Sma_vvsg: [ SmaBraHi_wuk ].fill( null )

	//@@@
	// NODE

	// MOBILE
	, Hrz3_By__KaGeSpu_y: false
	, Hrz3_By__VaDe_vsg: "Unknown OS"
	, Hrz3_By__Gwz_vsg: "GLOBAL"

	, Hrz4_Bu__VaDe_vsg: "Unknown Browser"

	// CPU
	, KaBz__Gwz_vsg: "CHECK"
	, KaBz__VaDe_vsg: "unknown"
	// GPU
	, KaBx__Gwz_vsg: "CHECK"
	, KaBx__VaDe_vsg: "unknown"
	// NPU
	, KaBa__Gwz_vsg: "DISABLE"
	, KaBa__VaDe_vsg: "none"


	//@@@
	// SERV
	// Setup @ KoDz__YaFz
	, Ji_v: {}

	//@@@
	// CFG
	// by User
	, TaKeDy_l: {}


	//@@@
	// TIME
	, MoDzYa__GiDri_duk: 0
	, BriYa_GiDri_df: 0.0
	, BriYe_GiDri_df: 0.0
	, YeWi_df: 0.0
	, YeFo_wu: 0
};
window.Ko = Ko;


//==============================================
// LOGS
// Skipped usual 8 layers for minimal JS
//==============================================
// 'arguments object' is a builtin Array -like object.
// Array.prototype.slice.call(arguments) converts *array-like* 'arguments' to a TRUE array 'ARG_v:
// function LOG(){ let ARG_v = Array.prototype.slice.call(arguments); console.log.apply(console, ARG_v); }

//----------------------------------
const SmaJy_vsg =
//----------------------------------
[
	// LOG ICONS:
	// Sy, Je, Dre, Trx
	'ðŸ¤–', 'âœ…', 'ðŸ˜•','ðŸ¤¯'
	// 'âš™ï¸', 'â„¹ï¸', 'âš ï¸', 'ðŸš«'
];

//----------------------------------
function SmaTro_vsg( SmaJy_wu, ARG_v )
//----------------------------------
{
	//@@@
	// FILTER by TAG before collapsing ARG into String?
	// if( ARG_v[0] === "[CFG]" ) return;

	//@@@
	// PAD '3' digits
	const Me_vsg = SmaJy_vsg[ SmaJy_wu ] + Ko.SmaFe_wu.toString().padStart( 3, "0" ) + " âž¡ï¸ " + ARG_v.join( ' ' );

	// Increment line & wrap as valid entry
	const SmaFe_wuk = (( Ko.SmaFe_wu ) & SmaViKa_wuk );
	++Ko.SmaFe_wu;

	Ko.Sma_vvsg[ SmaFe_wuk ] = Me_vsg;
	return Me_vsg
}

//----------------------------------
// LOG by AUDIENCE
//----------------------------------
function SmaSy(){ let ARG_v = Array.prototype.slice.call(arguments); console.log( SmaTro_vsg( 0, ARG_v ) );}
function SmaJe(){ let ARG_v = Array.prototype.slice.call(arguments); console.log( SmaTro_vsg( 1, ARG_v ) );}
function SmaDre(){ let ARG_v = Array.prototype.slice.call(arguments); console.warn( SmaTro_vsg( 2, ARG_v ) );}
function SmaTrx(){ let ARG_v = Array.prototype.slice.call(arguments); console.error( SmaTro_vsg( 3, ARG_v ) );}

function SmaGwxHu(){ SmaJe( "[" + this.VaDy_vsg + "]----------------------------------" ); }
function SmaGwxDe(){ SmaJe( "[" + this.VaDy_vsg + "]=============================" ); }
function SmaGwxHi(){ SmaJe( "[" + this.VaDy_vsg + "]################################" ); }

//----------------------------------
// OBJ CONSOLE
function SmaDBG()
//----------------------------------
{
	let ARG_v = Array.prototype.slice.call(arguments);
	console.log.apply(console, ARG_v);
}

//----------------------------------
// OBJ LOG
function SmaKzFu( Kz_k )
//----------------------------------
{
	Object.keys( Kz_k ).forEach( _Va => { SmaDBG( _Va ); });
	Object.values( Kz_k ).forEach( _Vu => { SmaDBG( _Vu ); });
}

//==============================================
// REPORT__IF_INVALID
//==============================================
function SmaSy__NxHo_y( Va, Kri_y )
{
	if( !Kri_y )
	{
		SmaSy( Va + " @ " + Kri_y );
		return true;
	}
	return false;
}


//==============================================
// WINDOW__ERR
//==============================================
window.onerror = (e) =>
{
	const Trx_vsg = ( JSON.stringify( e ) );

	// LOG ERR
	SmaDBG( e );

	// ERR_TYPES
	/*
	if(e instanceof TypeError)
	{
		// statements to handle TypeError exceptions
	}
	else if(e instanceof RangeError)
	{
		// statements to handle RangeError exceptions
	}
	else if(e instanceof EvalError)
	{
		// statements to handle EvalError exceptions
	}
	else
	{
		// statements to handle any unspecified exceptions
	}
	*/

	MoDzTrx( Trx_vsg );
}

//==============================================
// BOOTUP
//
// !!!
// NOTE: Errors must be saved to show later
// !!!
//
//==============================================
function MoDz__BOOT()
{
	//----------------------------------
	// SECURITY
	//----------------------------------

	//@@@
	// CORS must RUN FIRST
	SmaSy( "[LAUNCH] Web_Security via CORS: " + (window.crossOriginIsolated ?  "âœ…ðŸ˜€" : "âŒðŸ˜ž" ) );
	if( !window.crossOriginIsolated )
	{
		// MSG should display @ DOM
		// SmaTrx( "[LAUNCH] No CORS Security" );
		Ko.Trx_vsg = ( KoSy__KwiGru_KeDru_l.TrxJy00__HrxCheHo__CORS_vsg );
	}

	//----------------------------------
	// WASM64 preferred
	//----------------------------------
	try
	{
		//$$$
		// TEST PURPOSES?
		// Ko.WASM64_yk = false;
		Ko.WASM64_yk = WebAssembly.validate(new Uint8Array([0,97,115,109,1,0,0,0,5,3,1,4,1]));
	}
	catch(e)
	{
		// WebAssembly is not supported at all
		// SmaTrx( "[LAUNCH] No Web Assembly:", e );
		Ko.Trx_vsg = ( KoSy__KwiGru_KeDru_l.TrxJy01__HrzMoHo__WASM_vsg );
	}

	Ko.KaBx__TiFo_wuk = navigator.hardwareConcurrency;
	SmaSy( "[LAUNCH] Web_Assembly: " + ( Ko.WASM64_yk ? "64" : "32" ) + "bit:" + ( Ko.WASM64_yk ? "âœ…ðŸ˜€" : "ðŸ†—ðŸ˜") + " CPUs:", Ko.KaBx__TiFo_wuk );

	//----------------------------------
	// DOM STARTUP
	//----------------------------------
	document.addEventListener( 'readystatechange', function()
	{
		// if(document.readyState === 'interactive')
		// {
		// 	SmaSy( "[LAUNCH] WebPage_DOM Interactive" );
		// }

		if(document.readyState === 'complete')
		{
			SmaSy( "[LAUNCH] Web_DOM Fully_Loaded" );
		}
	});

	//----------------------------------
	// RESIZE
	//----------------------------------
	window.addEventListener( "resize", KoDz_GyHa );
}

//!!!
// RUN FIRST
MoDz__BOOT();


//==============================================
// MODULE INTERFACE for EMSCRIPTEN ENGINE
//==============================================
// MUST BE "var"
var Module =
{
	// ERR STATUS
	Trx_vsg: null,
	// REQ: Input
	canvas: document.getElementById('MxPo_Bri'),
	// REQ: load
	totalDependencies: 0,

	//@@@
	// EMCC NOTIFY
	// Define how notification messages from Emscripten are displayed via Module.print attribute.
	'print': function ( Sma_vsg ) { SmaJe( "[MSG]" + Sma_vsg ); },
	'printErr': function ( Sma_vsg ) { SmaTrx( "[ERR]" + Sma_vsg ); },
	'onAbort': function ( Sma_vsg ) { MoDzTrx( "[ABORT]" + Sma_vsg ); },


	//@@@
	// RUN when WASM_LOADED
	onRuntimeInitialized: function()
	{
        // SmaSy( "WASM module is ready" );
		if( Ko.Trx_vsg )
		{
			// IF WE FAILED ABOVE, we have to wait until we get here
			//  to SHOW ERR screen, so we must save and 'clear' the existing error
			// so it won't be ignored.
			const Trx_vsg = Ko.Trx_vsg;
			Ko.Trx_vsg = null;
			MoDzTrx( Trx_vsg );
			return;
		}
		KoDz__YaFz();
		MoDz__DzStxGru();
    },

	//@@@
	// HEADER BAR
	Sma__KeMe_Bz( Sma_vsg )
	{
		let DzYz__Bz_l = document.getElementById('KeMe_Bz');
		DzYz__Bz_l.innerHTML = "|> "+ ( Sma_vsg );
	},

	//@@@
	// FOOTER BAR
	Sma__KeMe_Bo( Sma_vsg )
	{
		let DzYz__Bo_l = document.getElementById('KeMe_Bo');
		DzYz__Bo_l.innerHTML = "|> " + ( Sma_vsg );
	},

	//@@@
	// LOAD
	monitorRunDependencies( left )
	{
		// NO NEED TO REPORT CURRENTLY
		this.totalDependencies = Math.max(this.totalDependencies, left);
		Module.Sma__KeMe_Bo( left ? ( KoSy__KwiGru_KeDru_l.BriDz_KiMiFe_vsg + ' (' + (this.totalDependencies - left) + '/' + this.totalDependencies + ')') : " " );

	},

};


//==============================================
// ERR
//==============================================

//----------------------------
function MoDzTrx( Trx_vsg )
//----------------------------
{
	//@@@
	// CFG
	// If already 'Err' exit
	if( Ko.Trx_vsg ) return;

	Ko.Trx_vsg = Trx_vsg;
	KoDz__YzChy( BriYz.Trx_qk );


	//@@@
	// ERR MSGBARS

	//&&&
	// HEADER (Fixed)
	// Err Alert, Build Version,
	const Bz_vsg = KoSy__KwiGru_KeDru_l.TrxBz_vsg + " [" + ( Ko.Hx_SyDx_vsg ? Ko.Hx_SyDx_vsg : "???" ) + " " + BriDzSa__Da_vsg + "] ";

	//&&&
	// FOOTER (Dynamic)
	// Please Quit + Err Msg
	const Bo_vsg = KoSy__KwiGru_KeDru_l.TrxKrx_vsg + " " + Trx_vsg;

	//&&&
	// GUI MSGBARS
	Module.Sma__KeMe_Bz( Bz_vsg );
	Module.Sma__KeMe_Bo( Bo_vsg );

	//&&&
	// DBG
	SmaTrx( "[FAIL]", Bo_vsg );
	SmaTrx( "[FAIL] *STK_TRACE*:", jsStackTrace() );

	// POST for DBG
	// console.error( Bo_vsg );

	// Skip MSGBOX
	// alert( Bo_vsg );

	// DISPLAY ERR
	HryMx01_KeMeTrx();

	//$$$
	// REFRESH @ INTERVALS
	// Unneeded
	// Ko.Trx_GyHa = setInterval( KoDz_GyHa, 2000 );
	// if( Ko.Trx_GyHa  ){ clearInterval( Ko.Trx_GyHa ); }

	// SERV closes All Else
	KoDz__Yi();
}


//==============================================
// FAIL__IF_INVALID
//==============================================
function MoDzTrx__NxHo_y( Va, Kri_y )
{
	// SmaSy( "NxHo: ---> " + Va );
	if( !Kri_y )
	{
		MoDzTrx( "[FAIL]: " + Va + " @ " + Kri_y );
		return true;
	}
	return false;
}


//==============================================
// ONE APP only
// PREVENT MULTI_TAB
//==============================================
async function MoDz__DzStxGru()
{
	if( !window.BroadcastChannel )
	{
		SmaJe( "[LAUNCH] !!! Unknown if Duplicate Tab." );
		return;
	}

	// STORE TIME by SESSION
	Ko.MoDzYa__GiDri_duk = (new Date()).getTime();
	sessionStorage.setItem( 'KoGi', Ko.MoDzYa__GiDri_duk );

	// TAB-CONNECTIONS = Broadcast Type
	let BCHN_l = new BroadcastChannel( "MoDz__DzStxGru" );

	//@@@
	//SEND MSG
	// Compare Time
	BCHN_l.postMessage( "MxVy:KoGi" );

	//@@@
	// RECV MSG
	BCHN_l.onmessage = function( e )
	{
		// Split by Colon
		let PKT_k = e.data.split(':');

		if( PKT_k[0] == "KrzVy" )
		{
			// If Newer; Error on Self
			if( Ko.MoDzYa__GiDri_duk > parseInt( PKT_k[1] ))
			{
				SmaTrx( "[LAUNCH] !!! FAIL Duplicate Tab" );
				BCHN_l = null;
				MoDzTrx( KoSy__KwiGru_KeDru_l.TrxJy02__MoDzStxGru_vsg );
			}
			else
			{
				SmaTrx( "[LAUNCH] First Tab" );
			}
		}
		else if( PKT_k[0] == "MxVy" )
			{
				// SmaSy('Send Time to Test if Duplicate Tab.');
				BCHN_l.postMessage( "KrzVy:" + Ko.MoDzYa__GiDri_duk );
			}
		}
	}

//=====================================
// NODE & CPU
//=====================================
function Hrz3_By__FyTo()
{
	const NODE_vksg = navigator.userAgent.toUpperCase();

	SmaSy( "[LAUNCH] Node:", NODE_vksg );

	//@@@
	// BACKUP
	if( navigator.userAgentData )
	{
		Ko.Hrz3_By__VaDe_vsg = navigator.userAgentData.platform;
		//MOBILE = navigator.userAgentData.mobile;
		//
		// FAIL on Ko.KaBz__VaDe_vsg as it doesn't match below
		// navigator.userAgentData.getHighEntropyValues( ["architecture", "platformVersion"])
		// .then( ua =>
		// {
		// 	// Ko.KaBz__VaDe_vsg = ua.architecture;
		// 	// VER = ua.platformVersion;
		// } );
	}

	//@@@
	// MATCH OS
	if( NODE_vksg.includes( "LINUX" ) || NODE_vksg.includes( "X11" ) || NODE_vksg.includes( "WAYLAND" ) )
	{
		Ko.Hrz3_By__Gwz_vsg = "LNX";
		Ko.Hrz3_By__VaDe_vsg = "Linux";
	}
	else if( NODE_vksg.includes( "IPAD" ) )
	{
		Ko.Hrz3_By__Gwz_vsg = "IOS";
		Ko.Hrz3_By__VaDe_vsg = "iPadOS";

		Ko.KaBz__Gwz_vsg = "ARM";
		Ko.KaBz__VaDe_vsg = "ARM64";

		Ko.Hrz3_By__KaGeSpu_y = true;
	}
	else if( NODE_vksg.includes( "IPHONE" ) )
	{
		Ko.Hrz3_By__Gwz_vsg = "IOS";
		Ko.Hrz3_By__VaDe_vsg = "iOS";

		Ko.KaBz__Gwz_vsg = "ARM";
		Ko.KaBz__VaDe_vsg = "ARM64";

		Ko.Hrz3_By__KaGeSpu_y = true;
	}
	else if( NODE_vksg.includes( "MAC" ) )
	{
		Ko.Hrz3_By__Gwz_vsg = "MAC";
		Ko.Hrz3_By__VaDe_vsg = "Mac";

		Ko.KaBz__Gwz_vsg = "ARM";
		Ko.KaBz__VaDe_vsg = "ARM64";
	}
	else if( NODE_vksg.includes( "WINDOWS" ) )
	{
		Ko.Hrz3_By__Gwz_vsg = "WIN";
		Ko.Hrz3_By__VaDe_vsg = "Windows";
	}

	//&&&
	// MOST ANDROID shows LINUX in platform so MUST COME AFTER!
	if( NODE_vksg.includes( "ANDROID" ) )
	{
		Ko.Hrz3_By__Gwz_vsg = "DRD";
		Ko.Hrz3_By__VaDe_vsg = "Android";

		// Default CPU in case not listed
		Ko.KaBz__Gwz_vsg = "ARM";
		Ko.KaBz__VaDe_vsg = "ARM64";

		// Mobile
		Ko.Hrz3_By__KaGeSpu_y = true;
	}


	//@@@
	// CPU
	if( NODE_vksg.includes( "X86_64" ) || NODE_vksg.includes( "X64" ) )
	{
		Ko.KaBz__Gwz_vsg = "INTEL";
		Ko.KaBz__VaDe_vsg = "X64";
	}
	else if( NODE_vksg.includes( "ARM" ) || NODE_vksg.includes( "AARCH" ) )
	{
		Ko.KaBz__Gwz_vsg = "ARM";
		Ko.KaBz__VaDe_vsg = "ARM64";
	}
	else if( NODE_vksg.includes( "RISCV" ) || NODE_vksg.includes( "RISC-V" ) )
	{
		Ko.KaBz__Gwz_vsg = "RISCV";
		Ko.KaBz__VaDe_vsg = "RISC-V";
	}

}

//=====================================
// BROWSER VERSION (Browser & App )
//=====================================
async function Hrz4_Bu__FyTo()
{
	//@@@
	// SEARCH

	// USR AGENT
	const HrzByHx_vsg = navigator.userAgent;
	//SmaSy( "[CFG] HrzByHx:", HrzByHx_vsg );

	// /i IGNORE CASE
	// Matches "Name/Ver", "Name", "Ver" for 3 strings in 'match-Array' result
	let Ni_vsg = HrzByHx_vsg.match(/(chrome|safari|firefox|msie|trident(?=\/))\/?\s*(\d+\.\d+)/i) || [];
	// SmaSy( Ni_vsg );

	// CHILD of CHROME
	let NiNo_vsg = HrzByHx_vsg.match(/(OPR|Edg|OculusBrowser|SamsungBrowser(?=\/))\/?\s*(\d+\.\d+)/i) || [];

	// CLONE name & version#
	if( NiNo_vsg[2] ){ Ni_vsg = NiNo_vsg; }


	// ELSE UNKNOWN
	Ni_vsg = Ni_vsg[2] ? [ Ni_vsg[1], Ni_vsg[2] ] : [ navigator.appName, navigator.appVersion, '-?' ];

	//@@@
	// FORMAT

	// DETECT
	if( (navigator.brave && await navigator.brave.isBrave() || false) ){ Ni_vsg[ 0 ] = "Brave"; }

	// REPLACE
	Ni_vsg[ 0 ] = Ni_vsg[ 0 ].replace( /edg/i, "Edge" );
	Ni_vsg[ 0 ] = Ni_vsg[ 0 ].replace( /opr/i, "Opera" );
	Ni_vsg[ 0 ] = Ni_vsg[ 0 ].replace( /OculusBrowser/i, "Meta" );
	Ni_vsg[ 0 ] = Ni_vsg[ 0 ].replace( /SamsungBrowser/i, "Samsung" );


	// STORE
	Ko.Hrz4_Bu__VaDe_vsg = Ni_vsg[ 0 ];
	Ko.Hrz4_Bu__Da_wfk = parseFloat( Ni_vsg[ 1 ] );
	if( isNaN( Ko.Hrz4_Bu__Da_wfk ) ){ Ko.Hrz4_Bu__Da_wfk = 0.0; }

	SmaJe( "[LAUNCH] HrzBy_VaDa", Ko.Hrz4_Bu__VaDe_vsg, "||", Ko.Hrz4_Bu__Da_wfk );
	// NOT WELL SUPPORTED 2026
	// if( navigator.userAgentData && navigator.userAgentData.brands )
	// { SmaJe(  "[LAUNCH] BRAND:", navigator.userAgentData.brands ); }
}

//==============================================
// END
//==============================================
//==============================================
// CFG
//==============================================

//==============================================
// CFG_WRITE_DEFAULT for ONE USER
//==============================================
function Hrz4_Bu__KwiYz__ChyDe( Va_vksg, NiJaPo_wuk, KeDru_wuk )
{
	const KwiYz_k = Ko.TaKeDy_l.KwiYz_v[ Ko.TaKeDy_l.KeDy_wu ];

	//---------------------------------
	// Ne00__WHO
	//---------------------------------
	if( Va_vksg  !== null )
		{ KwiYz_k.KeDy_vsg = Va_vksg; }

	if( KeDru_wuk === -1 )
	{
		KwiYz_k.KeDru_wu = Hre1_Dru__KeDru_VaFyVx_wu( navigator.language );
	}
	else if( KeDru_wuk !== null )
	{
		KwiYz_k.KeDru_wu = KeDru_wuk;
	}

	if( NiJaPo_wuk !== null )
	{ KwiYz_k.NiJaPo_wu = NiJaPo_wuk; }

	KwiYz_k.Ne01_KeDy06__TraChe_y = false;


	//---------------------------------
	// Ne01__NODE
	//---------------------------------


	//---------------------------------
	// Ne02__AUDIO
	//---------------------------------

	// MUTE
	KwiYz_k.Ne02_Hru__MxPeHo_y = true;
	// VOLUME
	KwiYz_k.Ne02_Hru__MxPeVu_sa = 1.0;

	//!!!
	// METHOD
	// MOBILE
	if( Ko.Hrz3_By__KaGeSpu_y )
	{
		// KwiYz_k.Ne02_Hru0__
	}
	// DESKTOP
	else
	{
	}


	//---------------------------------
	// Ne03__VISUAL
	//---------------------------------

	KwiYz_k.Ne03_Hry02__HriKe_y = false;


	//!!!
	// METHOD
	// MOBILE
	if( Ko.Hrz3_By__KaGeSpu_y )
	{
		KwiYz_k.Ne03_Hry06__SmzYz_q = 0;
		KwiYz_k.Ne03_Hry07__GyBraHi_bu = 0;
	}
	// DESKTOP
	else
	{
		KwiYz_k.Ne03_Hry06__SmzYz_q = 1;
		KwiYz_k.Ne03_Hry07__GyBraHi_bu = 1;
		// "Ne03_Hry06__SmzYz_vsg" Method
		// "Ne03_Hry08__TyGy_vsg" Detail
	}


	//@@@
	// NODE
	KwiYz_k.Ne04_Ko04__KoDz_YoHo_y = true;
	//KwiYz_k.Ne04_Ko04__KoDz_YoHo_y = false;


}

//==============================================
// SELECT WHERE
//==============================================
function Hrz4_Bu__JoChy()
{
	//Ne00_KuNe00__NiJo__Ta_l
	SmaJe( "[CFG] Jo:" );
}

//==============================================
// GUI_SYNC
//==============================================
function Hrz4_Bu__KwiYz__HriNe_MyYy()
{
	SmaJe( "[CFG] GUI_SYNC" );
	const KwiYz_k = Ko.TaKeDy_l.KwiYz_v[ Ko.TaKeDy_l.KeDy_wu ];

	//---------------------------------
	// Ne00__WHO
	//---------------------------------

	//@@@
	// LANG LIST SELECTION
	document.getElementById( "Ne00_KuNe02__NiKeDru__Ta_l" ).selectedIndex = KwiYz_k.KeDru_wu;

	//@@@
	// SET LANG_ICON
	document.getElementById( "Ne00_KuNe02__NiKeDru_q" ).innerText = Hre1_Dru__Gra_v[ KwiYz_k.KeDru_wu ].KuGwz;


	//@@@
	// ADD USR ENTRIES
	{
		const TaKeDy_l = document.getElementById( 'Ne01_KeDy01__NiKeDy__Ta_l' );
		HriNeDe__Ta_ChyStz( TaKeDy_l );

		const SaNo__TaKeDy_l = Ko.TaKeDy_l.KwiYz_v;
		SaNo__TaKeDy_l.forEach( function( Ti_k, Vx_wu )
		{
			// SmaSy( "------ Vx_wu:", Vx_wu, Ti_k.KeDy_vsg );

			//&&&
			// ADD BTN
			const Kz_l = document.createElement( 'option' );
			Kz_l.className = 'HriNeTi WaDru_De';
			Kz_l.innerText = `${SaPy_vvsg[ Ti_k.NiJaPo_wu ]} ${Ti_k.KeDy_vsg }` + ( Vx_wu & 1 ? "ðŸ”’":"ðŸ”“" );
			Kz_l.value = Vx_wu;
			TaKeDy_l.appendChild( Kz_l );
		});

		TaKeDy_l.selectedIndex = Ko.TaKeDy_l.KeDy_wu;
	}

	//@@@
	// USER NAME
	document.getElementById( "Ne01_KeDy00__Nz00_NiKeDy_vsg" ).value = "NOMBraaaaay";

	//@@@
	// SET PROFILE_ICON
	document.getElementById( "Ne01_KeDy03__SaJaPo_q" ).innerText = SaPy_vvsg[ KwiYz_k.NiJaPo_wu ];

	//@@@
	// USE_SECURITY
	const TraChe_yk = KwiYz_k.Ne01_KeDy06__TraChe_y;
	HriNeDe__ChyHyHo( "Ne01_KeDy06__TraChe_y", TraChe_yk );

	//&&&
	// AUTHORIZED
	// EVAL or SAVE ANSWER
	const CheRi_y = false;
	// if Use_Security & Guard_Cool NOT, then Eval_Answer & Disable Others
	const SmxHa_yk = TraChe_yk && !CheRi_y;
	const SmxFo_wu = 0;


	//$$$
	// REPORT
	SmaSy( "[CFG] TraChe:", TraChe_yk, " SmxFo:", SmxFo_wu, " SmxHa:", SmxHa_yk );


	//@@@
	// USER LOCK
	HriNeDe__ChyHryVoHu( "BriDz_TraKwi_vsg", SmxHa_yk );

	// SECURITY AREA
	HriNeDe__ChyHry( "Ne01_KeDy06__CheHaKri", SmxHa_yk );


	//&&&
	// Security Status & Buttons
	HriNeDe__ChyKuHi( "Che00_Krz_vsg", SmxHa_yk );
	HriNeDe__ChyKuHi( "Che01_Chy_vsg", !SmxHa_yk );

	// 3 SCENARIOS ( Need Answers or Ready )
	// âœ–ï¸Incorrect Answer
	HriNeDe__ChyKuHu( "Che02_Trx_vsg", SmxHa_yk && ( SmxFo_wu !== 0 ) );
	// Requires Answer
	HriNeDe__ChyKuHu( "Che03_TraHo_vsg", SmxHa_yk && ( SmxFo_wu === 0 ) );
	// User Ready
	HriNeDe__ChyKuHu( "Che04_TraHy_vsg", !SmxHa_yk );


	//&&&
	// PANELS
	HriNeDe__ChyHryVoHu( "Ne04_Ko_vsg", SmxHa_yk );
	HriNeDe__ChyHryVoHu( "Ne02_Hru_vsg", SmxHa_yk );
	HriNeDe__ChyHryVoHu( "Ne03_Hry_vsg", SmxHa_yk );
	HriNeDe__ChyHryVoHu( "Ne05_Hx_vsg", SmxHa_yk );
	HriNeDe__ChyHryVoHu( "Ne06_Grx_vsg", SmxHa_yk );

	//&&&
	// Name
	HriNeDe__ChyTraHo( "Ne01_KeDy02__VaTre_Sma_vsg", SmxHa_yk );

	//&&&
	// Avatar
	HriNeDe__ChyHryVoHu( "Ne01_KeDy03__SaJaPo__TaJaPo_l", SmxHa_yk );

	//&&&
	// Question-Lock
	HriNeDe__ChyTraHo( "Ne01_KeDy07__MaKz_vsg", SmxHa_yk );
	HriNeDe__ChyTraHo( "Ne01_KeDy07__MaKz__Sma_vsg", SmxHa_yk );

	// Answer-Key
	HriNeDe__ChyTraHo( "Ne01_KeDy08__SmzKz_vsg", SmxHa_yk );
	// SmaSy( "ANSWER: ", document.getElementById("Ne01_KeDy08__SmzKz__Sma_vsg").value );



	//---------------------------------
	// Ne01__NODE
	//---------------------------------
	//@@@
	// Ne04_Ko01__HraBru_Tra_vsg
	document.getElementById( "Ne04_Ko01__HraBru_Tra_y" ).value = KwiYz_k.Ne04_Ko01__HraBru_Tra_y;
	// Ne04_Ko02__SpeVu_vsg
	document.getElementById( "Ne04_Ko02__SpeVu_y" ).value = KwiYz_k.Ne04_Ko02__SpeVu_y;
	// Ne04_Ko03__MzKu_vsg
	document.getElementById( "Ne04_Ko03__MzKu_y" ).value = KwiYz_k.Ne04_Ko03__MzKu_y;
	// Ne04_Ko04__KoDz_YoHo_y
	document.getElementById( "Ne04_Ko04__KoDz_YoHo_y" ).value = KwiYz_k.Ne04_Ko04__KoDz_YoHo_y;


	//---------------------------------
	// Ne02__AUDIO
	//---------------------------------
	//@@@
	// Ne02_Hru__MxPeHo_y
	document.getElementById( "Ne02_Hru__MxPeHo_y" ).value = KwiYz_k.Ne02_Hru__MxPeHo_y;
	// Ne02_Hru__MxPeVo_ba
	document.getElementById( "Ne02_Hru__MxPeVo_ba" ).value = KwiYz_k.Ne02_Hru__MxPeVo_ba;
	// , "Ne02_Hru__MzPe_vsg": "Mic"
	// , "Ne02_Hru__YoHo_vsg": "â™¾ï¸Always Audible"
	// , "Ne02_Hru__SmzYz_vsg": "ðŸ“ŠMethod"
	// , "Ne02_Hru__GyBraHi_vsg": "ðŸ“ˆQuality"

	//---------------------------------
	// Ne03__VISUAL
	//---------------------------------

	//@@@
	// , "Ne03_Hry00__KeDruGy_vsg": "Legible Size"
	// , "Ne03_Hry01__MzPo_vsg": "Camera"
	document.getElementById( "Ne03_Hry02__HriKe_y" ).checked = KwiYz_k.Ne03_Hry02__HriKe_y;
	// , "Ne03_Hry03__MxPoGyHi_vsg": "Fullscreen"
	// , "Ne03_Hry04__MxPoGry_vsg": "All Screens"
	// , "Ne03_Hry05__PoGy_vsg": "HDR"
	// , "Ne03_Hry06__SmzYz_vsg": "Method"
	// , "Ne03_Hry07__GyBraHi_vsg": "Quality"
	// , "Ne03_Hry08__TyGy_vsg": "Detail"


	document.getElementById( "Ne03_Hry02__HriKe_y" ).checked = KwiYz_k.Ne03_Hry02__HriKe_y;


}

//==============================================
// SYS_UPDATE
//==============================================
function Hrz4_Bu__KwiYz__Ko_ChyYe()
{
	SmaSy( "[CFG] SYS_UPDATE" );
	const KwiYz_k = Ko.TaKeDy_l.KwiYz_v[ Ko.TaKeDy_l.KeDy_wu ];

	//---------------------------------
	// Ne00__WHO
	//---------------------------------


	// NAME
	// KwiYz_k.KeDy_vsg = STRING.value;


	//!!!
	// PROFILE
	// Only changes via EVT

	//&&&
	// USE SECURITY
	const Fi__TraChe_yk = KwiYz_k.Ne01_KeDy06__TraChe_y;

	KwiYz_k.Ne01_KeDy06__TraChe_y = document.getElementById( "Ne01_KeDy06__TraChe_y" ).checked;
	if( Fi__TraChe_yk != KwiYz_k.Ne01_KeDy06__TraChe_y )
	{
		SmaJe( "SECURITY CHANGED to ", KwiYz_k.Ne01_KeDy06__TraChe_y );
		// Reload
		Hrz4_Bu__KwiYz__HriNe_MyYy();
	}

	//---------------------------------
	// Ne01__NODE
	//---------------------------------
	KwiYz_k.Ne04_Ko04__KoDz_YoHo_y = document.getElementById( "Ne04_Ko04__KoDz_YoHo_y" ).value;


	//---------------------------------
	// Ne02__AUDIO
	//---------------------------------
	KwiYz_k.Ne02_Hru__MxPeHo_y = document.getElementById( "Ne02_Hru__MxPeHo_y" ).value;
	KwiYz_k.Ne02_Hru__MxPeVo_ba = document.getElementById( "Ne02_Hru__MxPeVo_ba" ).value;

	//document.getElementById( "Ne02_Hru__SmzYz_Ta_l" ).selectedIndex = KwiYz_k.KeDru_wu;

	//---------------------------------
	// Ne03__VISUAL
	//---------------------------------

	KwiYz_k.Ne03_Hry02__HriKe_y = false; // document.getElementById( "Ne03_Hry02__HriKe_y" ).value;

	//document.getElementById( "Ne03_Hry06__SmzYz__Ta_l" ).selectedIndex = KwiYz_k.KeDru_wu;


	//@@@
	// SAVE
	Hrz4_Bu__TaKeDy__ChyGry();
}

//-------------------------------------------------
// USR_PROFILE__EDIT
//-------------------------------------------------
function Hrz4_Bu__KwiYz__SaPy_ChyYe( e )
{
	//@@@
	// SPECIAL UPDATE ( based on CLICK, no 'select' to read )
	const KwiYz_k = Ko.TaKeDy_l.KwiYz_v[ Ko.TaKeDy_l.KeDy_wu ];
	KwiYz_k.NiJaPo_wu = e;

	//@@@
	// SAVE CFG
	Hrz4_Bu__TaKeDy__ChyGry();

	//@@@
	// GUI_SYNC
	Hrz4_Bu__KwiYz__HriNe_MyYy();
}


//=====================================
// END
//=====================================
//=====================================
// CUL BEGIN
//=====================================

//==============================================
// Hre1_Dru CULTURE
//==============================================

//-------------------------------------------------
// LANG TAG into READABLE TEXT
//-------------------------------------------------
function Hre1_Dru__KeDruVy_KeDruVa( Si__KeDruVy_vsg, Se__KeDruVy_vsg )
{
  const displayNames = new Intl.DisplayNames([Se__KeDruVy_vsg], { type: "language" });
  return displayNames.of(Si__KeDruVy_vsg);
}

/*
Te:
	Hre1_Dru__KeDruVy_KeDruVa("ja", "en");      // "Japanese"
	Hre1_Dru__KeDruVy_KeDruVa("zh", "en");      // "Chinese"
	Hre1_Dru__KeDruVy_KeDruVa("zh-Hant", "en"); // "Traditional Chinese"
	Hre1_Dru__KeDruVy_KeDruVa("zh-TW", "en");   // "Chinese (Taiwan)"
	Hre1_Dru__KeDruVy_KeDruVa("en", "ja");      // "è‹±èªž"
*/

//-------------------------------------------------
// CULTURE MATCH LANG STRING to IDs
//-------------------------------------------------
function Hre1_Dru__KeDru_VaFyVx_wu( KeKuMi_vbg )
{
	//-------------------------------------------------
	// LANG/LOCALE
	//-------------------------------------------------
	let Fe__KeDru_lksg = 'en';
	let Fe__KuVa_vbg = "";

	//@@@
	// LANG BASICS
	Fe__KeKu_vbg = KeKuMi_vbg;
	Fe__KeDru_lksg = KeKuMi_vbg.split( "-" )[ 0 ]
	Fe__KuVa_vbg = KeKuMi_vbg.split( "-" )[ 1 ]

	//&&&
	// CHECK LOCALE
	let KeKu_wu = Hre1_Dru__Gra_v.findIndex( ( Ti_l ) => ( Ti_l.Vy === Fe__KeKu_vbg ) );
	// IF NOT LOCALE
	// CHECK just LANG
	if( !KeKu_wu )
	{
		KeKu_wu = Hre1_Dru__Gra_v.findIndex( ( Ti_l ) => ( Ti_l.Vy === Fe__KeDru_lksg ) );
	}

	//&&&
	if( KeKu_wu <= 0 )
	{
		KeKu_wu = 0;
	}

	//!!!
	// LOG MATCH ( used when generating 'Default' users )
	// SmaJe( "[CUL] Src: " + Hre1_Dru__Gra_v[ KeKu_wu ].ToKz + " Locale: " + Fe__KeKu_vbg + " Lang: " + Fe__KeDru_lksg + " Country: " + ( Fe__KuVa_vbg ? Fe__KuVa_vbg : "Global" ) );

	return KeKu_wu;
}

//-------------------------------------------------
// CULTURE LOAD LANG
//-------------------------------------------------
async function Hre1_Dru__KeDru_ChyVx( KeDru_wuk )
{
	const KwiYz_k = Ko.TaKeDy_l.KwiYz_v[ Ko.TaKeDy_l.KeDy_wu ];
	KwiYz_k.KeDru_wu = KeDru_wuk;
	const Dru_l = Hre1_Dru__Gra_v[ KeDru_wuk ];

	//@@@
	// NATIVE_NAMES
	document.getElementById( "Ne00_KuNe02__NiKeDru_q" ).innerText = Dru_l.KuGwz;

	//@@@
	// LANG_FILE
	const KeKu__ToKz_vksg = Dru_l.ToKz;
	let KeDru_l = await Hra7_Ta__ToKzMi_JSON_v( 'SuSmi03__CONTENTS/', `VaFz.${KeKu__ToKz_vksg}` );
	if( !KeDru_l )
	{
		SmaDre( "Cannot load <", KeKu__ToKz_vksg, "> Langugage File so will use U.N. English" );
		//&&&
		// TRY AGAIN 'EN' LTR
		document.body.dir = 'ltr';
		KeDru_l = await Hra7_Ta__ToKzMi_JSON_v( 'SuSmi03__CONTENTS/', `VaFz.en` );
		if( MoDzTrx__NxHo_y( "Cannot load U.N. English Language File", KeDru_l )){ return; }
	}
	Ko.KeDru_l = KeDru_l;

	//@@@
	// TEXT_DIR
	// Set text direction
	const Fe__KeDru_lksg = Dru_l.ToKz;
	const KeDru_RTL_v = [ 'ar', 'he', 'fa', 'es' ];
	if( KeDru_RTL_v.includes( Fe__KeDru_lksg ) )
	{
		document.body.dir = 'rtl';
	}
	else
	{
		document.body.dir = 'ltr';
	}

	//@@@
	// REPLACE CORE LAUNCH-ERR MSGS
	KoSy__KwiGru_KeDru_l.BriDz_VaSy_vsg = KeDru_l.LAUNCH.BriDz_VaSy_vsg;
	KoSy__KwiGru_KeDru_l.TrxBz_vsg = KeDru_l.LAUNCH.TrxBz_vsg;
	KoSy__KwiGru_KeDru_l.TrxKrx_vsg = KeDru_l.LAUNCH.TrxKrx_vsg;


	//@@@
	// SUBMIT BTN
	const HriNe_KwiVu_k = document.getElementById( 'BriDz_TraKwi_vsg' );
	HriNe_KwiVu_k.value = KeDru_l.LABELS.BriDz_TraKwi_vsg;


	//@@@
	// UPDATE LABELS
	Object.entries( KeDru_l.LABELS ).forEach
	(
		function ( [ Vy_vbg, Va_vbg ] )
		{
			//SmaJe( `[CUL] *LABEL MATCH*: ${Vy_vbg}`, Va_vbg );
			let Kz_l = document.getElementById( Vy_vbg );

			if( Kz_l ){ Kz_l.innerText = Va_vbg;	}
			else{ SmaJe( `[CUL] *---------LABEL UNUSED---------*: ${Vy_vbg}` ); }
		}
	);

	//@@@
	// UPDATE USAGE
	SmaDBG( "[CUL] USAGE:", KeDru_l.USAGE );
	// Used ONLY at Runtime via Toggle
	// Object.entries( KeDru_l.USAGE ).forEach
	// (
	// 	function ( [ Vy_vbg, Va_vbg ] )
	// 	{
	// 		let Kz_l = document.getElementById( Vy_vbg );
	// 		//if( Kz_l ){ Kz_l.setAttribute( "data-title", Va_vbg ); }
	// 		//else{ SmaJe( `[CUL] *---------USAGE UNUSED-------------*: ${Vy_vbg}` ); }
	// 	}
	// );


}

//-------------------------------------------------
// DETECT CHANGES in CULTURE
//-------------------------------------------------
function Ne00_KuNe02__NiKeDru__JeChy( KeDru_wuk )
{
	const Ne00_KuNe02__NiKeDru__Ta_l = document.getElementById( 'Ne00_KuNe02__NiKeDru__Ta_l' );
	//SmaJe( "CHG!", Ne00_KuNe02__NiKeDru__Ta_l );
	Hre1_Dru__KeDru_ChyVx( ( KeDru_wuk !== null )? KeDru_wuk : Ne00_KuNe02__NiKeDru__Ta_l.selectedIndex );


	//@@@
	// SAVE CFG
	Hrz4_Bu__TaKeDy__ChyGry();

	//@@@
	// GUI_SYNC
	Hrz4_Bu__KwiYz__HriNe_MyYy();
}


//=====================================
//  CUL END
//=====================================
//=====================================
// USR BEGIN
//=====================================

//-------------------------------------------------
// SECURE_COMPARE
//-------------------------------------------------
function Hrz4_Bu__Che00_Krz__Tra()
{
	SmaDre( "[ROST] SECURE COMPARE" );

}


//-------------------------------------------------
// SECURE_SAVE
//-------------------------------------------------
function Hrz4_Bu__Che01_Chy__Tra()
{
	SmaDre( "[ROST] SECURE SAVE" );

}


//=====================================
// USR SINGLE
//=====================================

//-------------------------------------------------
// ERASE USR
//-------------------------------------------------
function Ne01_KeDy05__Chi_Tra()
{
	const KeDyChi_wu = Ko.TaKeDy_l.KeDy_wu;

	if( Ko.TaKeDy_l.KeDy_wu > 0 ){ Ko.TaKeDy_l.KeDy_wu--; }

	Ko.TaKeDy_l.KwiYz_v = Ko.TaKeDy_l.KwiYz_v.splice( KeDyChi_wu, 1 );

	// IF NONE LEFT, ADD DEFAULTS
	if( Ko.TaKeDy_l.KwiYz_v.length === 0 )
	{
		Hrz4_Bu__TaKeDy__FyGry();
	}
}

//-------------------------------------------------
// ADD USR
//-------------------------------------------------
function Ne01_KeDy04__Cha_Tra( FeCho_yk )
{
	//@@@
	// CREATE
	if( FeCho_yk )
	{
		structuredClone
	}
	//@@@
	// CREATE DEFAULT
	else
	{
		Ko.TaKeDy_l.KwiYz_v.push();
		Hrz4_Bu__KwiYz__ChyDe( "New Name", 0, -1 );
	}

	// CFG_STOR
	Hrz4_Bu__TaKeDy__ChyGry();

	// GUI_SYNC w/ NEW USER NAMES/CFG
	Hrz4_Bu__KwiYz__HriNe_MyYy();
}

//-------------------------------------------------
// CHG USR
//-------------------------------------------------
function Ne01_KeDy01__NiKeDy__JeChy()
{
	//@@@
	// VALID CHOICE
	const TaKeDy_l = document.getElementById( 'Ne01_KeDy01__NiKeDy__Ta_l' );
	if( TaKeDy_l.selectedIndex < 0 ) return;


	//@@@
	// SAVE USER
	Ko.TaKeDy_l.KeDy_wu = TaKeDy_l.selectedIndex;

	//@@@
	// CHG to USR LANG
	const KwiYz_k = Ko.TaKeDy_l.KwiYz_v[ Ko.TaKeDy_l.KeDy_wu ];

	Hre1_Dru__KeDru_ChyVx( KwiYz_k.KeDru_wu );


	//@@@
	// GUI_SYNC w/ USER SETUP
	Hrz4_Bu__KwiYz__HriNe_MyYy();


	//@@@
	// NAME/PWD
	// Turn SECURITY on/off
	// ( TaKeDy_l.value );
	// Check Answer to QUERY


	SmaJe( "[ROST] Chy", TaKeDy_l.value, TaKeDy_l.selectedIndex  );
}


//=====================================
// USR LIST ALL
//=====================================

//-------------------------------------------------
// RE-INSTALL ALL
// WIPES OUT ALL USR LAUNCH CFGs
//-------------------------------------------------
function Hrz4_Bu__TaKeDy_ChxGry()
{
	SmaDre( "[ROST] CLEAR ALL LOCAL STORAGE" );
	localStorage.clear();
	Hrz4_Bu__TaKeDy__ChyTaDe();
}

//-------------------------------------------------
// LOAD USERS DEFAULT GUI
//-------------------------------------------------
function Hrz4_Bu__TaKeDy__ChyTaDe()
{
	// SmaJe( "[ROST] TaKeDy__ChyTaDe" );
	const KeDy__DeFo_wuk = 4;

	// Creates an array of length N, with a unique empty object in each slot
	Ko.TaKeDy_l.KwiYz_v = Array.from( { length: KeDy__DeFo_wuk }, () => ({} ) );

	Ko.TaKeDy_l.Da_wu = KoSy__KwiYz__Da_wuk;

	//@@@
	// GUEST
	Ko.TaKeDy_l.KeDy_wu = 0;
	Hrz4_Bu__KwiYz__ChyDe( "Guest", 0, -1 );


	//@@@
	// GHOST
	Ko.TaKeDy_l.KeDy_wu = 1;
	Hrz4_Bu__KwiYz__ChyDe( "Ghost", 1, -1 );


	//@@@
	// KIOSK
	Ko.TaKeDy_l.KeDy_wu = 2;
	Hrz4_Bu__KwiYz__ChyDe( "Kiosk", 2, -1 );


	//@@@
	// PRO
	Ko.TaKeDy_l.KeDy_wu = 3;
	Hrz4_Bu__KwiYz__ChyDe( "Pro", 3, -1 );


	//@@@
	// INITIAL USER
	Ko.TaKeDy_l.KeDy_wu = 0;

	//@@@
	// GUI_SYNC
	Hrz4_Bu__KwiYz__HriNe_MyYy();

	// CFG_STORE
	Hrz4_Bu__TaKeDy__ChyGry();
}

//-------------------------------------------------
// LOAD LAUNCH CFG
//-------------------------------------------------
function Hrz4_Bu__TaKeDy__FyGry()
{
	//@@@
	// LOAD
	const KwiYz_vsg = localStorage.getItem( "KwiYz_l" );

	// if( KwiYz_vsg )
	if( false )
	{
		Ko.TaKeDy_l = JSON.parse( KwiYz_vsg );

		// IF NO MEMBERS *OR* WRONG VERSION
		if( ( Ko.TaKeDy_l.KwiYz_v.length === 0 ) || ( Ko.TaKeDy_l.Da_wu !== KoSy__KwiYz__Da_wuk ) )
		{
			// FORCE DEFAULT
			Hrz4_Bu__TaKeDy__ChyTaDe();
		}

		SmaDBG( "[ROST] TaKeDy__FyGry:", Ko.TaKeDy_l );
	}
	else
	// FORCE DEFAULT
	{
		Hrz4_Bu__TaKeDy__ChyTaDe();
	}
}

//-------------------------------------------------
// SAVE LAUNCH CFG
//-------------------------------------------------
function Hrz4_Bu__TaKeDy__ChyGry()
{
	localStorage.setItem( "KwiYz_l", JSON.stringify( Ko.TaKeDy_l ) );
	SmaDBG( "[ROST] KwiYz_Chy:", Ko.TaKeDy_l );
}

//=====================================
// USR END
//=====================================
//==============================================
// GUI ELEMENTS
/*
- Using HTML Web PAGE to setup initial CFG ( w/o WG GUI ):
- *However: Already loading WG, so could use GUI or ERR*
- *Given need to invite others and limited time, am continuing HTML for now*

- GUI has
	a) Checkbox: Y or N wq @ KaHyHo, VuHyHo
	b) Slider: 0...to N wu @ Ku07__HriNe
	c) List: scrollable choices vertical or grid 0...Fo wu
	d) Text: utf8 ( Label: HriNeVa, Edit: HriNeVa )
	e) HrButtons: run action ( show tabs, add/remove users, reset-settings, & launch )

- EDIT: TreHy Can be hover-highlighted to show "editable"
*/
//
//==============================================

//==============================================
// FOCUS LAUNCH BTN
//==============================================
function HriNeDe__TraKwi()
{
	//@@@
	// SUBMIT BTN
	const HriNe_KwiVu_k = document.getElementById( "BriDz_TraKwi_vsg" );
	HriNe_KwiVu_k.focus();
}

//==============================================
// GUI EDIT for UNLOCK/LOCK
// SmaSy( "CheChy: ", e.className );
//==============================================

//@@@
// CLN CLEAR
function HriNeDe__Ta_ChyStz( Ta_v )
{
	while ( Ta_v.firstChild )
	{
		Ta_v.removeChild( Ta_v.lastChild );
	}
}

//@@@
// INNER_TEXT
function HriNeDe__ChyVaSy( Vy_vsg, KeDru_vksg )
{
	document.getElementById( Vy_vsg ).innerText = KeDru_vksg;
}

//@@@
// ICON
function HriNeDe__ChyGwz( Vy_vsg, Gwz_vksg )
{
	document.getElementById( Vy_vsg ).className = "JaPo__De GwzDoPo GwzKeDru GwzDo_" + Gwz_vksg;
}

//@@@
// TOGGLE HIDE
function HriNeDe__ChyHryDry( Vy_vsg )
{
	const e = document.getElementById( Vy_vsg );
	// e.hidden = !( e.hidden );
	e.style.display = ( e.style.display === "none") ? "inline-flex" : "none";
}

//@@@
// SHOW/HIDE ELM
function HriNeDe__ChyHry( Vy_vsg, Hry_yk )
{
	const e = document.getElementById( Vy_vsg );
	e.hidden = !Hry_yk;
}

//@@@
// DISPLAY_BLOCK ELM
function HriNeDe__ChyKuHi( Vy_vsg, Ku_yk )
{
	const e = document.getElementById( Vy_vsg );
	e.style.display = Ku_yk ? "block" : "none";
}

//@@@
// DISPLAY_FLEX ELM
function HriNeDe__ChyKuHu( Vy_vsg, Ku_yk )
{
	const e = document.getElementById( Vy_vsg );
	e.style.display = Ku_yk ? "inline-flex" : "none";
}

//@@@
// DISABLE & ACCENT ELM
function HriNeDe__ChyTraHo( Vy_vsg, TraHo_yk )
{
	const e = document.getElementById( Vy_vsg );
	if( TraHo_yk )
	{
		e.disabled = true;
		e.classList.add( "HriNe_TraHo" );
	}
	else
	{
		e.disabled = false;
		e.classList.remove( "HriNe_TraHo" );
	}
}

//@@@
// DISABLE & DIM ELM
function HriNeDe__ChyHryVoHu( Vy_vsg, HryVoHu_yk )
{
	const e = document.getElementById( Vy_vsg );
	if( HryVoHu_yk )
	{
		e.disabled = true;
		e.classList.add( "HriNe_HryHo" );
	}
	else
	{
		e.disabled = false;
		e.classList.remove( "HriNe_HryHo" );
	}
}

//@@@
// CHECKBOX
// RADIOBTN
function HriNeDe__ChyHyHo( Vy_vsg, HyHo_yk )
{
	const e = document.getElementById( Vy_vsg );
	e.checked = HyHo_yk;
}

//=====================================
// SPACETIME FILL by USER
//=====================================
function Hri4_Bu__TaJo_Chy()
{
	const TaJo_l = document.getElementById( "Ne00_KuNe00__NiJo__Ta_l" );
	HriNeDe__Ta_ChyStz( TaJo_l );

	//@@@
	const SaNo__TaJo_l = Ko.TaKeDy_l.KwiYz_v;
	SaNo__TaJo_l.forEach( function( Ti_k, Vx_wu )
	{
		// SmaSy( "------ Vx_wu:", Vx_wu, Ti_k.KeDy_vsg );

		//&&&
		// ADD BTN
		const Kz_l = document.createElement( "option" );
		Kz_l.className = "HriNeTi WaDru_De";
		Kz_l.innerText = `${SaPy_vvsg[ Ti_k.NiJaPo_wu ]} ${Ti_k.KeDy_vsg }`;
		Kz_l.value = Vx_wu;
		TaJo_l.appendChild( Kz_l );
	});

	TaJo_l.selectedIndex = 1;
}


//=====================================
// KEY CTL
//=====================================
function Hri4_Bu__MzBuDru_Je( e )
{
	//@@@
	// ELM ID & TYPE
	const Kz_l = document.activeElement;
	if( Kz_l )
	{
		// SmaJe( "ELM", Kz_l?.id );

	}

	//@@@
	// NAVI
	switch( e.key )
	{
		case( "Enter" ):
	 	case( " " ):
		{
			SmaJe( "IN" );
			break;
		}

		case "Cancel":
		case( "Escape" ):
		{
			Hrz4_Bu__ChyNeKu( 0 );
			break;
		}

		case( "ArrowRight" ):
		{
			SmaJe( "RT" );
		//	Hrz4_Bu__ChyNeKu( 5 );

			break;
		}
		case( "ArrowLeft" ):
		{
			SmaJe( "LF" );
			break;
		}

		case( "0" ):
		case( "1" ):
		case( "2" ):
		case( "3" ):
		case( "4" ):
		case( "5" ):
		case( "6" ):
		case( "7" ):
		case( "8" ):
		case( "9" ):
		{
			SmaJe( "#" + e.key );
			break;
		}
	}// End Switch Key
}

//=====================================
// REMOVE GUI ITEMS
//=====================================
function Hri4_Bu__TaNeDe__ChiKri()
{
	//-------------------------------------------------
	// REMOVE CLNS
	//-------------------------------------------------
	// SPACETIME
	HriNeDe__Ta_ChyStz( document.getElementById("Ne00_KuNe00__NiJo__Ta_l" ) );

	// LANG DROPDOWN LIST
	HriNeDe__Ta_ChyStz( document.getElementById("Ne00_KuNe02__NiKeDru__Ta_l" ) );
	HriNeDe__Ta_ChyStz( document.getElementById("Ne00_KuNe02__KeDru_TaJaPo_l" ) );

	// PROFILE
	HriNeDe__Ta_ChyStz( document.getElementById("Ne01_KeDy03__SaJaPo__TaJaPo_l" ) );

	// AUD
	HriNeDe__Ta_ChyStz( document.getElementById("Ne02_Hru__SmzYz_Ta_l" ) );
	// VIS
	HriNeDe__Ta_ChyStz( document.getElementById("Ne02_Hru__SmzYz_Ta_l" ) );

	//-------------------------------------------------
	// REMOVE KEYMAPPER
	//-------------------------------------------------
	document.removeEventListener( "keydown", Hri4_Bu__MzBuDru_Je );
}

//=====================================
// INIT GUI DEFAULTS
// STATIC ITEMS
//=====================================
async function Hri4_Bu__TaNeDe__ChaKri()
{
	const KwiYz_k = Ko.TaKeDy_l.KwiYz_v[ Ko.TaKeDy_l.KeDy_wu ];

	//-------------------------------------------------
	// OPT
	//-------------------------------------------------

	// ARIA ROLE: https://developer.mozilla.org/en-US/docs/Web/Accessibility/ARIA/Reference/Roles
	// Elm.setAttribute("role", "progressbar");

	Kwi00__TaNe_v.forEach( function( Ti_k, Vx_wu )
	{
		SmaSy( "[GUI]----[OPT]----@:", Vx_wu, Ti_k.Va );


		//@@@
		// ELM ADD TYPE
		switch( Ti_k.Jy )
		{
			// Domain Space
			case NeJy.KuTz_qk:
			{
				break;
			}

		// , KuNz_qk: 2 // Section Space
		// , KuNe_qk: 3 // Input Space

		// , VaTz_qk: 4 // Section Heading
		// , VaNz_qk: 5 // Topic Label
		// , VaNe_qk: 6 // Input Label
		// , VaTo_qk: 7 // Info Label

		// , HyHo_qk: 8 // Checkbox
		// , Tra_qk: 9 // Btn
		// , NiHu_qk: 10 // Radiogroup
		// , VxBra_qk: 14 // Slider

		// , KeDru_qk: 11 // Text or Pwd Edit
		// , TaVa_qk: 13 // List (selection text)
		// , JaPo_qk: 14 // Img
		// , TaJaPo_qk: 15 // Img Grid

		// , YiKuTz_qk: 16 // End Domain
		// , YiKuNz_qk: 17 // End Topics
		// , YiKuNe_qk: 18 // End Input

			case NeJy.Tra_qk:
			{
				break;
			}
		};

	});


	//-------------------------------------------------
	// SPACETIME
	// Changed "per user"
	//-------------------------------------------------
	Hri4_Bu__TaJo_Chy();

	//-------------------------------------------------
	// CULTURE
	//-------------------------------------------------
	//@@@
	// LANG DROPDOWN LIST
	const Ne00_KuNe02__NiKeDru__Ta_l = document.getElementById( "Ne00_KuNe02__NiKeDru__Ta_l" );
	// LANGUAGE PICKER
	const KeDru__TaJaPo_l = document.getElementById("Ne00_KuNe02__KeDru_TaJaPo_l");

	//&&&
	// LIST CLEAR
	HriNeDe__Ta_ChyStz( Ne00_KuNe02__NiKeDru__Ta_l );
	HriNeDe__Ta_ChyStz( KeDru__TaJaPo_l );

	//&&&
	// LIST FILL ENTRIES
	const KeDruGri_v = [ "en", "es" ];

	Hre1_Dru__Gra_v.forEach( function( Ti_k, Vx_wu )
	{
		// SmaSy( "------ Vx_wu:", Vx_wu, Ti_k.Va );

		//&&&
		// CHOOSE LANG DROPDOWN ADD BTNS
		if( KeDruGri_v.includes( Ti_k.ToKz ) )
		{
			const Kz_l = document.createElement( "option" );
			Kz_l.className = "HriNeTi WaDru_Ku";
			Kz_l.innerText = `${Ti_k.KuGwz} ${Ti_k.Va}`;
			Kz_l.value = Ti_k.Vy;

			Ne00_KuNe02__NiKeDru__Ta_l.appendChild( Kz_l );
		}

		//&&&
		// LANG FLAG GRID ADD BTN
		{
			const Kz_l = document.createElement( "div" );

			if( KeDruGri_v.includes( Ti_k.ToKz ) )
			{
				Kz_l.className = "NiJaPo_Va NiJaPo_VaGri WaDru_Ku";
				Kz_l.onclick = function() { Ne00_KuNe02__NiKeDru__JeChy( Vx_wu ); }
			}
			else
			{
				Kz_l.className = "NiJaPo_Va NiJaPo_VaRu WaDru_Ku";
			}

			Kz_l.innerText = Ti_k.KuGwz;

			// LOCALE TOOLTIP
			// const To_l = document.createElement( "div" );
			// To_l.className = "NiJaPo_To WaDru_Ku";
			// To_l.setAttribute( "data-title", Ti_k.Va + "\n" + Ti_k.So );
			// Kz_l.appendChild( To_l );

			KeDru__TaJaPo_l.appendChild( Kz_l );
		}
	});

	//@@@
	// STARTING LANG
	Ne00_KuNe02__NiKeDru__Ta_l.selectedIndex = KwiYz_k.KeDru_wu;
	Hre1_Dru__KeDru_ChyVx( KwiYz_k.KeDru_wu );


	//-------------------------------------------------
	// PROFILE PICKER
	//-------------------------------------------------
	const SaJaPo__TaJaPo_l = document.getElementById("Ne01_KeDy03__SaJaPo__TaJaPo_l");
	HriNeDe__Ta_ChyStz( SaJaPo__TaJaPo_l );

	//@@@
	for( let Vx_wu = 0; Vx_wu< SaPy_vvsg.length; Vx_wu++ )
	{
		//&&&
		// ADD BTN

		const Kz_l = document.createElement( "span" );

		Kz_l.className = "NiJaPo_Va NiJaPo_VaVo";
		Kz_l.onclick = function() { Hrz4_Bu__KwiYz__SaPy_ChyYe( Vx_wu ); }

		Kz_l.innerText = SaPy_vvsg[ Vx_wu ];
		SaJaPo__TaJaPo_l.appendChild( Kz_l );
	}

	//-------------------------------------------------
	// AUD_METHODS
	//-------------------------------------------------
	{
		const TaKeDy_l = document.getElementById( "Ne02_Hru__SmzYz_Ta_l" );
		HriNeDe__Ta_ChyStz( TaKeDy_l );

		//@@@
		const SaNo__TaKeDy_l = Ko.TaKeDy_l.KwiYz_v;
		SaNo__TaKeDy_l.forEach( function( Ti_k, Vx_wu )
		{
			// SmaSy( "------ Vx_wu:", Vx_wu, Ti_k.KeDy_vsg );

			//&&&
			// ADD BTN
			const Kz_l = document.createElement( "option" );
			Kz_l.className = "HriNeTi WaDru_De";
			Kz_l.innerText = `${SaPy_vvsg[ Ti_k.NiJaPo_wu ]} ${Ti_k.KeDy_vsg }` + ( Vx_wu & 1 ? "ðŸ”’":"ðŸ”“" );
			Kz_l.value = Vx_wu;
			TaKeDy_l.appendChild( Kz_l );
		});

		TaKeDy_l.selectedIndex = Ko.TaKeDy_l.KeDy_wu;
	}

	//-------------------------------------------------
	// VIS_METHODS
	//-------------------------------------------------
	{
		const TaKeDy_l = document.getElementById( "Ne03_Hry06__SmzYz__Ta_l" );
		HriNeDe__Ta_ChyStz( TaKeDy_l );

		//@@@
		const SaNo__TaKeDy_l = Ko.TaKeDy_l.KwiYz_v;
		SaNo__TaKeDy_l.forEach( function( Ti_k, Vx_wu )
		{
			// SmaSy( "------ Vx_wu:", Vx_wu, Ti_k.KeDy_vsg );

			//&&&
			// ADD BTN
			const Kz_l = document.createElement( "option" );
			Kz_l.className = "HriNeTi WaDru_De";
			Kz_l.innerText = `${SaPy_vvsg[ Ti_k.NiJaPo_wu ]} ${Ti_k.KeDy_vsg }` + ( Vx_wu & 1 ? "ðŸ”’":"ðŸ”“" );
			Kz_l.value = Vx_wu;
			TaKeDy_l.appendChild( Kz_l );
		});

		TaKeDy_l.selectedIndex = Ko.TaKeDy_l.KeDy_wu;
	}

	//-------------------------------------------------
	// LABELS
	//-------------------------------------------------

	//@@@
	// APP VERSION
	HriNeDe__ChyVaSy( "BriDzSa__Da", BriDzSa__Da_vsg );

	//@@@
	// OS
	HriNeDe__ChyVaSy( "Hrz3_By__VaDe", Ko.Hrz3_By__VaDe_vsg );
	// UNEEDED: + ( Ko.Hrz3_By__KaGeSpu_y ? " Mobile" : " Stationary" ) );
	HriNeDe__ChyGwz( "Hrz3_By__Gwz", Ko.Hrz3_By__Gwz_vsg );

	//@@@
	// BROWSER
	HriNeDe__ChyVaSy( "Hrz4_Bu__VaDe", Ko.Hrz4_Bu__VaDe_vsg + ": v" + Ko.Hrz4_Bu__Da_wfk );

	//@@@
	// CHIPS
	HriNeDe__ChyVaSy( "KaBz__VaDe", Ko.KaBz__VaDe_vsg );
	HriNeDe__ChyGwz( "KaBz__Gwz", Ko.KaBz__Gwz_vsg );

	HriNeDe__ChyVaSy( "KaBx__VaDe", Ko.KaBx__VaDe_vsg );
	HriNeDe__ChyGwz( "KaBx__Gwz", Ko.KaBx__Gwz_vsg );

	HriNeDe__ChyVaSy( "KaBa__VaDe", Ko.KaBa__VaDe_vsg );
	HriNeDe__ChyGwz( "KaBa__Gwz", Ko.KaBa__Gwz_vsg );


	//-------------------------------------------------
	// KEY CTLS
	//-------------------------------------------------
	document.addEventListener( "keydown", Hri4_Bu__MzBuDru_Je );
}

//=====================================
// USR END
//=====================================
//==============================================
// STAGE
//==============================================


//=====================================
// DRAW_2D_HEX
//=====================================

//---------------------------------
// HEX CONST
//---------------------------------
const TAU_wfk = 2. * Math.PI;
const GwxFo_wuk = 6;
const GoKwu_wfk = TAU_wfk / GwxFo_wuk;
const GwxZiStaFo_wuk = 3;
const GoSti_wfk = TAU_wfk / GwxZiStaFo_wuk;

//---------------------------------
function HrySxDe__ChyHEX( Sx_l, x, y, r, KuPo_l, KwzPo_l, KwaPo_l, NOTCH_yk )
//---------------------------------
{
	//@@@
	// SHRINK RADIUS
	r *= 0.95;

	//@@@
	// 6 SIDES
	Sx_l.lineWidth = 3.5;
	Sx_l.strokeStyle = KwaPo_l;

	Sx_l.beginPath();
	for( let i = 0; i < GwxFo_wuk; i++)
	{
		Sx_l.lineTo( x + r * Math.cos( GoKwu_wfk * i ), y + r * Math.sin( GoKwu_wfk * i ) );
	}
	Sx_l.closePath();

	Sx_l.fillStyle = KuPo_l;
  	Sx_l.fill();

  	Sx_l.stroke();

	//@@@
	// NOTCHES
	if( NOTCH_yk )
	{
		const n = r * 0.9;

		Sx_l.strokeStyle = KwaPo_l;
		Sx_l.lineWidth = 1.5;

		Sx_l.beginPath();
		let i = GwxFo_wuk;
		while( i > 0 )
		{
			i--;
			const GoFz_wfk = -GoKwu_wfk * i;
			Sx_l.moveTo( x + n * Math.cos( GoFz_wfk ), y + n * Math.sin( GoFz_wfk ) );

			i--;
			const GoFx_wfk = -GoKwu_wfk * i;
			Sx_l.lineTo( x + n * Math.cos( GoFx_wfk ), y + n * Math.sin( GoFx_wfk ) );
		}
		Sx_l.closePath();
	  	Sx_l.stroke();

	}
	else
	//@@@
	// CUBE INNER LINES
	{
		Sx_l.strokeStyle = KwzPo_l;
		Sx_l.lineWidth = 1.5;
		for( let i = 0; i < GwxZiStaFo_wuk; i++)
		{
			Sx_l.beginPath();
			Sx_l.moveTo( x, y ); Sx_l.lineTo( x + r * Math.cos( GoSti_wfk * i), y + r * Math.sin( GoSti_wfk * i) );
			Sx_l.closePath();
			Sx_l.stroke();
		}
	}
}

//---------------------------------
function HrySxDe__ChyHEXGRID( Sx_l, GxGy_wfk, GaGy_wfk, r, KuPo_l, KwzPo_l, KwaPo_l, NOTCH_yk )
//---------------------------------
{
	const BiGy_wfk = r * ( Math.sin( GoKwu_wfk ));
	const KaGy_wfk = r * (1 + Math.cos( GoKwu_wfk ));

	// Use
	const KwxGy_wfk = r;
	const GxYi_wfk = GxGy_wfk + KwxGy_wfk;
	const GaYi_wfk = GaGy_wfk + KwxGy_wfk;
	const KeDru_GxZo_wfk = r / 3.0;
	const KeDru_GaZo_wfk = r / 2.0;


	let v = 0;
	let GaFe_wf = -KwxGy_wfk;

  	while( GaFe_wf < GaYi_wfk )
	{
		let x = -KwxGy_wfk;
		let h = 0;

		let y = GaFe_wf;
		while( x < GxYi_wfk )
		{
			//@@@
			// INNER FILL & EDGES
			HrySxDe__ChyHEX( Sx_l, x, y, r, KuPo_l, KwzPo_l, KwaPo_l, NOTCH_yk );

			//@@@
			// TEXT DBG
			// if( false )
			{
				Sx_l.font = "16px sans-serif";
				Sx_l.textAlign = "center";
				Sx_l.fillStyle = KwaPo_l;

				if( NOTCH_yk )
				{
					Sx_l.fillText( "(" + h.toString().padStart( 2, "0" )  + "," + v.toString().padStart( 2, "0" ) + ")", x, y );
				}
				else
				{
					Sx_l.save();
					Sx_l.translate( x, y );
					Sx_l.rotate( TAU_wfk / 54.0 );

					Sx_l.fillText( h.toString().padStart( 2, "0" )  + "," + v.toString().padStart( 2, "0" ), KeDru_GxZo_wfk, KeDru_GaZo_wfk );

					Sx_l.restore();
				}
			}

			//@@@
			// NEXT HEX
			x += KaGy_wfk;
			y += (( -1) ** h ) * BiGy_wfk;
			h++;
    	}
		v++;

 		GaFe_wf += 2. * BiGy_wfk;
  	}
}

//=====================================
// DRAW_2D_PTRN
//=====================================
function Hry_DriBrz( MxVa_vsg, NOTCH_yk, KuPo_l, KwzPo_l, KwaPo_l )
{
	//@@@
	// 1/4
	// CANVAS RESIZE
	const Mx_l = document.getElementById( MxVa_vsg );
	if( !Mx_l ) return;

	const KuGy_wfk = window.devicePixelRatio;
	Mx_l.width = KuGy_wfk * Mx_l.clientWidth;
	Mx_l.height = KuGy_wfk * Mx_l.clientHeight;

	//@@@
	// CTX
	// 2/4
	const Sx_l = Mx_l.getContext("2d");
	if( !Sx_l )return;

	Sx_l.imageSmoothingEnabled= true;
	Sx_l.resetTransform();
	Sx_l.scale( 1.0, 1.0 );


	//@@@
	// 3/4
	// FILL SCREEN
	Sx_l.beginPath();
	Sx_l.fillStyle = KuPo_l;
	Sx_l.fillRect( 0, 0, Mx_l.width, Mx_l.height );

	//@@@
	// 4/4 PATTERN
	HrySxDe__ChyHEXGRID( Sx_l, Mx_l.width, Mx_l.height, 80.0, KuPo_l, KwzPo_l, KwaPo_l, NOTCH_yk );
}

//=====================================
// RESIZE_00 LAUNCH_CFG
//=====================================
function HryMx00_KeMeKwi()
{
	//---------------------------------
	// VIEWS
	//---------------------------------
	HriNeDe__ChyKuHi( "Ku00_KeMeKwi", true );
	HriNeDe__ChyKuHi( "Ku01_KeMeTrx", false );
	HriNeDe__ChyKuHi( "Ku02_KeMeBri", false );

	HriNeDe__ChyKuHi( "Ku03_KeDruTre", false );

	//---------------------------------
	// CANVAS
	//---------------------------------
	const TaPo_v =
	[
		// WHITE GRAFPAPER:
		"#EEEEFF", "#AAAAFF", "#8888FF"
		// BLUEPRINT:
		, "#8888BB", "#9999CC", "#BBBBEE"
		// GREYGRAF
		, "#EEEEFF", "#FFAAAA", "#FF8888"
		// PURPLE
		, "#993399", "#999999", "#CCCCCC"

		// DEEP BLUE
		, "#333355", "#9999CC", "#BBBBEE"
		// FADE
		, "#333333", "#666666", "#999999"
		// CHARCOAL
		, "#555555", "#BBBBBB", "#DDDDDD"
		// DARK
		, "#000000", "#555555", "#888888"
	];

	// INDEX[ 8 ] by 3
	// const FePo_k = 5 * 3;
	const FePo_k = ( BriDzSa__Da_wuk & 7 ) * 3;
	Hry_DriBrz( "MxPo_Kwi", false, TaPo_v[ FePo_k + 0 ],TaPo_v[ FePo_k + 1 ],TaPo_v[ FePo_k + 2 ] );

	//---------------------------------
	// GUI_SYNC
	//---------------------------------
	Hrz4_Bu__KwiYz__HriNe_MyYy();
}


//==============================================
// RESIZE_01 FAIL
//==============================================
function HryMx01_KeMeTrx()
{
	//---------------------------------
	// VIEWS
	//---------------------------------
	Hri4_Bu__TaNeDe__ChiKri();

	HriNeDe__ChyKuHi( "Ku00_KeMeKwi", false );
	HriNeDe__ChyKuHi( "Ku01_KeMeTrx", true );
	HriNeDe__ChyKuHi( "Ku02_KeMeBri", false );

	HriNeDe__ChyKuHi( "Ku03_KeDruTre", false );

	//---------------------------------
	// CANVAS
	//---------------------------------
	Hry_DriBrz( "MxPo_Trx", true, "#DD1111", "#AAAACC", "#DDDDFF" );

	//---------------------------------
	// MSG
	//---------------------------------
	const TrxBz_k = document.getElementById("TrxBz");
	const TrxKa_k = document.getElementById("TrxKa");
	const TrxSma_Ta_k = document.getElementById("TrxSma_Ta");

	TrxBz_k.innerText = KoSy__KwiGru_KeDru_l.BriDz_VaSy_vsg + " " + KoSy__KwiGru_KeDru_l.TrxBz_vsg + BriDzSa__Da_vsg;

	TrxKa_k.innerText = Ko.Trx_vsg;

	//@@@
	// LOG
	const Sma_vvsg = Ko.Sma_vvsg;
	const SmaFo_wuk = Math.min( Ko.SmaFe_wu, SmaBraHi_wuk );
	const GeZo_wuk = Math.max( 0, Ko.SmaFe_wu - SmaFo_wuk );

	TrxSma_Ta.innerText = null;

	for( let i = 0; i < SmaFo_wuk; i++)
	{
		const Vy_wuk = ( ( i + GeZo_wuk ) & SmaViKa_wuk );
		TrxSma_Ta.innerText += Sma_vvsg[ Vy_wuk ] + "\n";
	}
}


//==============================================
// RESIZE_02 LIFE
//==============================================
function HryMx02_KeMeBri()
{
	Hri4_Bu__TaNeDe__ChiKri();

	//---------------------------------
	// VIEWS
	//---------------------------------
	HriNeDe__ChyKuHi( "Ku00_KeMeKwi", false );
	HriNeDe__ChyKuHi( "Ku01_KeMeTrx", false );
	HriNeDe__ChyKuHi( "Ku02_KeMeBri", true );

	HriNeDe__ChyKuHi( "Ku03_KeDruTre", false );

}

//==============================================
// TEK_TAB as SECTION
// CHANGE VISIBLE
//==============================================
function Hrz4_Bu__ChyNeKu( Vx_wu )
{
	//@@@
	// SAFE CLASS CLNs
	const NzVa_v = document.getElementsByClassName( "NzVa_TraKz" );
	const NeKuJy_v = document.getElementsByClassName( "NeKuJy" );
	if( ( Vx_wu > NzVa_v.length ) || ( Vx_wu < 0 ) || ( NzVa_v.length !== NeKuJy_v.length )) { return;}

	//@@@
	// SELECT MENU

	//!!!
	// WATCH STRING SPACES
	const NzVa__FeDe_vsg = "NzVa_TraKz WaDru_Bz";
	const NzVa__Se_vsg = NzVa__FeDe_vsg + " NzVa_Se_TraKz";

	for( let i = 0; i < NzVa_v.length; i++)
	{
		NzVa_v[i].className = ( Vx_wu === i ) ? NzVa__Se_vsg : NzVa__FeDe_vsg;
		if( Vx_wu === i )
		{
			//&&&
			// FOCUS on 'first' element to skip MENU tab-run
			NzVa_v[i].focus();
			//
			// NzVa_v[i].firstElementChild.focus();
		}
	}

	//@@@
	// SHOW/HIDE SECTIONS
	for( let i = 0; i < NeKuJy_v.length; i++)
	{
		// SECTIONS are GRID
		NeKuJy_v[i].style.display = ( Vx_wu === i ) ? "grid" : "none";
	}
}

//==============================================
// RUN LIFE
// via LAUNCH BTN
//==============================================
function Tra_KeMeBri()
{
	HryMx02_KeMeBri();
	const KwiYz_k = Ko.TaKeDy_l.KwiYz_v[ Ko.TaKeDy_l.KeDy_wu ];

	//!!!
	// RELOAD VISUALS
	// if different now, must redo WG
	//!!!

	// const Cha__YzVi_q =  document.getElementById( "WG" ).value;
	//const Cha__YzVi_q = 0;
	const Cha__YzVi_q = KwiYz_k.Ne03_Hry06__SmzYz_q;
	if( Cha__YzVi_q !== KwiYz_k.Ne03_Hry06__SmzYz_q )
	{
		KwiYz_k.Ne03_Hry06__SmzYz_q = Cha__YzVi_q;

		// Restart WG
		const SaWG_l = Ko.SySmz_v[ SyVx.WG_qk ];
		SaWG_l.KaSmz_l.destroy();
	}

	Hrz4_Bu__KwiYz__Ko_ChyYe();

	//---------------------------------
	// LAUNCH HERE
	//---------------------------------

	//@@@
	// ECOSYS PLAY
	SmaJe( "[GUI] User:", KwiYz_k.KeDy_vsg, " NEVER_PAUSE:", KwiYz_k.Ne04_Ko04__KoDz_YoHo_y );
	if( KoDz__YzYa_y() )
	{
		SmaSy( "[GUI] ACTIVE via Resume" );

		//&&&
		// LAUNCH SERVICES that REQUIRE a "click"
		KoDz__YaFx();
		//&&&
		// PAUSE so "RESUME" triggers
		KoDz__YzChy( BriYz.Yo_qk );
		//&&&
		// RESUME Update
		KoDz__YuChy();
	}
}

//==============================================
// RESIZE
//==============================================
function KoDz_GyHa()
{
	//@@@
	// UPDATE MODE
	( KoDz__YzYa_y() ) ? HryMx00_KeMeKwi() : ( KoDz__YzTrx_y() ? HryMx01_KeMeTrx() : HryMx02_KeMeBri() );

	//@@@
	// EM SIZE
	Ko.em2px_wfk = Number(window.getComputedStyle(document.body).getPropertyValue("font-size").match(/\d+/)[0]);

	//@@@
	// MxPo^SCREEN
	SmaSy( "[GUI] GyHa: ", window.innerWidth, window.innerHeight, " Legible Px/Em: ", Ko.em2px_wfk );
}

//==============================================
// END
//==============================================
//==============================================
// SYSLIFE
//==============================================

//==============================================
// JSON_RD^ToKz_My
//==============================================
async function Hra6_Ku__ToKz_My__vJSON( ChaKuTu_vsg, ToKzVa_vsg )
{
	let KuTu_vbg = BriDz__Mx_KuTu_vsg + ChaKuTu_vsg + ToKzVa_vsg;
	SmaJe( "[USR_STOR] FILE seeking JSON: " + KuTu_vbg );
	try
	{
		const Smx_k = await fetch( KuTu_vbg, { headers: { Accept: 'application/json' } } );
		const ToKz_v = await Smx_k.json();
		//SmaJe( "[USR_STOR]", ToKz_v );
		return ToKz_v;
	}
	catch ( e ) { MoDzTrx( Ko.KeDru_l.ALERT.TrxJy__SuKz_GriHo_vsg + " @ " + ToKzVa_vsg + " --> " + e ); }
	return null;
};

//==============================================
// TXT_RD^ToKz_My
//==============================================
async function Hra6_Ku__ToKz_My__vsg( ChaKuTu_vsg, ToKzVa_vsg )
{
	let KuTu_vbg = BriDz__Mx_KuTu_vsg + ChaKuTu_vsg + ToKzVa_vsg;
	//SmaJe( "[USR_STOR] FILE seeking TEXT: " + KuTu_vbg );
	try
	{
		const Smx_k = await fetch( KuTu_vbg );
		const ToKz_v = await Smx_k.text();
		// SmaJe( "[USR_STOR]", ToKz_v );
		return ToKz_v;
	}
	catch ( e ) { MoDzTrx( Ko.KeDru_l.ALERT.TrxJy__SuKz_GriHo_vsg + " @ " + ToKzVa_vsg + " --> " + e ); }
	return null;
};

//==============================================
// BLOB_RD^ToKz_My
//==============================================
async function Hra6_Ku__ToKz_My__vBLOB( ChaKuTu_vsg, ToKzVa_vsg )
{
	let KuTu_vbg = BriDz__Mx_KuTu_vsg + ChaKuTu_vsg + ToKzVa_vsg;
	SmaJe( "[USR_STOR] FILE seeking BLOB: " + KuTu_vbg );
	try
	{
		const Smx_k = await fetch( KuTu_vbg );
		const ToKz_v = await Smx_k.blob();
		return ToKz_v;
	}
	catch ( e ) { MoDzTrx( Ko.KeDru_l.ALERT.TrxJy__SuKz_GriHo_vsg + " @ " + ToKzVa_vsg + " --> " + e ); }
	return null;
};

//==============================================
// BLOB_WRT^ToKz_Chy
//==============================================
async function Hra6_Ku__ToKz_ChyBLOB(blob, filename)
{
    const a = document.createElement('a');
    a.href = URL.createObjectURL(blob);
    a.download = filename;
    document.body.appendChild(a);
    a.click();
    a.remove();
}

//==============================================
// BUF_RD^ToKz_My
//==============================================
async function Hra6_Ku__ToKz_My__vBUF( ChaKuTu_vsg, ToKzVa_vsg )
{
	let KuTu_vbg = BriDz__Mx_KuTu_vsg + ChaKuTu_vsg + ToKzVa_vsg;
	SmaJe( "[USR_STOR] FILE seeking BUFFER: " + KuTu_vbg );
	try
	{
		const Smx_k = await fetch( KuTu_vbg );
		const ToKz_v = await Smx_k.arrayBuffer();
		return ToKz_v;
	}
	catch ( e ) { MoDzTrx( Ko.KeDru_l.ALERT.TrxJy__SuKz_GriHo_vsg + " @ " + ToKzVa_vsg + " --> " + e ); }
	return null;
};


//==============================================
// IDB STOR
//==============================================

//---------------------------------------------------
// IDB INIT
//---------------------------------------------------
const IDB_Ko_l = new Promise((resolve, reject) =>
{
	// IDB NAME & VER #
	const Da_wuk = 1;
	const request = indexedDB.open('handle', Da_wuk );

	// CALLED when we change VER# above
	request.onupgradeneeded = ( e ) =>
	{
		const db = event.target.result;
		db.createObjectStore( 'handles', { keyPath: 'id' } );
	};

	request.onsuccess = ( e ) =>
	{
		// SmaJe( "[USR_STOR] IDB_Good\n");
		resolve( e.target.result );
	};

	request.onerror = ( e ) =>
	{
		SmaTrx( e );
		reject( e.target.error);
	};
});


//---------------------------------------------------
// IDB Chy
//---------------------------------------------------
/* Saves a directory handle to the database.
 * @param {FileSystemDirectoryHandle} ToKzVy  - The directory handle to save.
 * @returns {Promise<void>} A promise that resolves when the handle is saved.
 */
//async function
const IDB_ToKzVy__Chy = (Va, ToKzVy) =>
{
	return new Promise((resolve, reject) =>
	{
		IDB_Ko_l.then((db) =>
		{
			const transaction = db.transaction(['handles'], 'readwrite');
			const store = transaction.objectStore( 'handles' );
			const request = store.put({id: Va, handle: ToKzVy});

			request.onsuccess = () =>
			{
				SmaJe( "[USR_STOR] IDB Handle Saved\n");
				resolve();
			}
			request.onerror = () =>
			{
				SmaJe( "[USR_STOR] IDB Handle Failed\n");
				reject( request.error );
			}
		});
	});
};

//---------------------------------------------------
// IDB My
//---------------------------------------------------
// Retrieves the last saved folder handle from the database.
// @returns {Promise<FileSystemDirectoryHandle|undefined>}
// A promise that resolves with the folder handle or undefined if not found.
//
const IDB_ToKzVy__My = ( Va ) =>
{
	return new Promise((resolve, reject) =>
	{
		IDB_Ko_l.then((db) =>
		{
			const transaction = db.transaction(['handles'], 'readonly');
			const store = transaction.objectStore('handles');
			const request = store.get(Va);

			request.onsuccess = ( e ) =>
			{
				SmaJe( "[USR_STOR] IDB Handle Found\n" + e.target.result );
				resolve( e.target.result?.handle );
			}

			request.onerror = () =>
			{
				SmaJe( "[USR_STOR] IDB Handle UNK\n");
				reject(request.error);
			}
		});
	});
};


//==============================================
// END
//==============================================
//==============================================
// SERV ROSTER
//==============================================
const SyVx = Object.freeze
({
	//----------------------------------------------------------
	// SERV_REQ
	//----------------------------------------------------------

	// Hrz5_Ki
	NODE_qk: 0

	, TAK_qk: 1
	, FS_qk: 2
	, TRU_qk: 3

	// Hra0_Ko^COMPUTER
	, ENRG_qk: 4

	// Hra1_Mz^SENSORS
	, PTR_qk: 5
	, HID_qk: 6
	, GPS_qk: 7

	// Hra4_Bru^NET
	, NET_qk: 8

	// Hra6_Ku^GATE
	, CAL_qk: 9
	, PAY_qk: 10
	, SHAR_qk: 11

	// Hra7_Ta^FMT
	, STRM_qk: 12
	, FNT_qk: 13

	// Hru^AUD
	, WA_qk: 14
	, HEAR_qk: 15
	, SAY_qk: 16

	// Hry^VIS
	, WG_qk: 17
	, GLF_qk: 18
	, XR_qk: 19
	, SCRN_qk: 20


	//----------------------------------------------------------
	// SERV_OPT
	//----------------------------------------------------------

	, LANG_qk: 21
	, ZSTD_qk: 22
	, WT_qk: 23
	, TONE_qk: 24

	, USB_qk: 25
	, BT_qk: 26
	, NFC_qk: 27
	, MPLYR_qk: 28

	, ML_qk: 29
	, GEN_qk: 30
	, AVATAR_qk: 31
	, SMTP_qk: 32

	, IMAP_qk: 33
	, DAV_qk: 34
	, JCON_qk: 35
	, LGATO_qk: 36


	, SwiBLANK_qk: 37 // BLANK

	//$$$
	// 38 SERVS 2026/02

});

// SERV ROSTER
const SyVx__GryFo_wuk = SyVx.length;
// SERV MEDIA-STRM ROSTER
const SuKz__GryFo_wuk = 16;


//==============================================
// SERV SETUP
//==============================================
function SySmz__BriYz_ChyYi( Sa_l ){ Sa_l.BriYz_q = BriYz.Yi_qk; }
function SySmz__BriYz_ChyTrx( Sa_l ){ Sa_l.BriYz_q = BriYz.Trx_qk; }

function SySmz__YaFz_v( Ji_k ){ return{ Ji: Ji_k, BriYz_q: BriYz.Ya_qk }; }
function SySmz__YaFx_v( Sa_l ){ Sa_l.BriYz_q = BriYz.Ye_qk; return Sa_l; }
function SySmz__BriYz__Ye_y( Sa_l ){ return ( Sa_l && ( Sa_l.BriYz_q !== undefined ) && ( Sa_l.BriYz_q === BriYz.Ye_qk )); }


//==============================================
// SERV_ADD^ChaSy
//==============================================
async function Hrz7_Kru__ChaSySmz( SyJy_vsg, ToKz_vsg, SyTu_vsg, VaDy_vsg, SySmz__Kri_yk, Yz_l )
{
	//@@@
	// ECOSYS_GOOD
	if( KoDz__YzTrx_y() ) return;

	const VaSy_vsg = SyTu_vsg + VaDy_vsg;
	const Do_yk = ( SyTu_vsg === "Do" );

	//@@@
	// IF NOT ALREADY LOADED!
	if( !Ko.Ji_v[ VaSy_vsg ] )
	{
		const JS_k = await import( BriDz__Mx_KuTu_vsg + "Mx07__SuSmi_WEBPG/SuSmi01__JS/" + ( Do_yk ? "JS02_Do" : ( "JS03_Swi/Swi" + VaDy_vsg ) ) + "/" + SyJy_vsg + "__" + ToKz_vsg + "__" + VaSy_vsg + ".js" );
		// SmaJe( "SERV-MODULE", JS_k );
	}

	//@@@
	// AWAIT BEGIN SERV_ADD
	const SyVx_wuk = SyVx[ VaDy_vsg + "_qk" ];
	// SmaJe( "[SERV] FyGri [", SyVx_wuk, "]" );

	//&&&
	// Need available for ERR below
	const Sy_l = await Ko.Ji_v[ VaSy_vsg ].BriYa( Yz_l );
	if( Sy_l )
	{
		Ko.SySmz_v[ SyVx_wuk ] = Sy_l;

		//$$$
		// LOG
		SmaJe( "[SERV] Cha #" + SyVx_wuk + ":", Sy_l.Ji.SyTu_vsg, Sy_l.Ji.VaDy_vsg );

		//$$$
		// OBJ_REPORT_CFG
		// if( Sy_l.Ji.SmaYz ){ Sy_l.Ji.SmaYz( Sy_l ); }
	}

	//!!!
	// IF ANYTHING ERR'D, Then Release Us
	if( KoDz__YzTrx_y())
	{
		Hrz7_Kru__ChiSySmz( SyVx_wuk );
		const VaVx_vsg = VaDy_vsg + " #" + SyVx_wuk;
		// &&&
		// REQ --> FAIL means ERR
		if( SySmz__Kri_yk )
		{
			MoDzTrx( Ko.KeDru_l.ALERT.TrxJy__SySmz_GriHo_vsg + VaVx_vsg );
		}
		//&&&
		// XTNDED --> FAIL means ALERT
		else
		{
			SmaDre( Ko.KeDru_l.ALERT.Dre__SySmz_GriHo_vsg + VaVx_vsg );
		}
	}
}


//==============================================
// SERV_REMOVE^ChiSy
//==============================================
function Hrz7_Kru__ChiSySmz( SyVx_wuk )
{
	const Sy_l = Ko.SySmz_v[ SyVx_wuk ];
	if( !Sy_l ) return;

	SmaJe( "[SERV] Chi #", SyVx_wuk, ":", Sy_l.Ji.SyTu_vsg, Sy_l.Ji.VaDy_vsg );

	if( Sy_l.Ji.BriYi ){ Sy_l.Ji.BriYi( Sy_l ); }

	Ko.SySmz_v[ SyVx_wuk ] = null;
}

//==============================================
// END
//==============================================
//==============================================
// SYSLIFE
//==============================================
//==============================================
// STATUS
//==============================================

//@@@
// SAFE CHANGE (never overwrite ERR)
function KoDz__YzChy( Yz_k )
{
	if( Ko.Dz__Yz_q === BriYz.Trx_qk ) return;
	Ko.Dz__Yz_q = Yz_k;
}

//@@@
// IF_ERR
function KoDz__YzTrx_y()
{
	return ( Ko.Dz__Yz_q === BriYz.Trx_qk );
}

function KoDz__YzYa_y()
{
	return ( Ko.Dz__Yz_q === BriYz.Ya_qk );
}

function KoDz__YzYe_y()
{
	return ( Ko.Dz__Yz_q === BriYz.Ye_qk );
}

function KoDz__YzYo_y()
{
	return ( Ko.Dz__Yz_q === BriYz.Yo_qk );
}

//==============================================
// CONTENT_LOAD
//==============================================
function KoDz__SuKz_Mi( e )
{
	SmaJe( "[ECOS] DOM Content Loaded", e );
}

//==============================================
// END^Yi
//==============================================
function KoDz__Yi( )
{
	//@@@
	// STATUS
	if( Ko.Dz__Yz_q === BriYz.Yi_qk ) return;
	KoDz__YzChy( BriYz.Yi_qk );

	//@@@
	// END ENGINE
	if( _Hrz5_Ki__BriSmz__Yi ){	_Hrz5_Ki__BriSmz__Yi(); }

	//@@@
	// END SERV
	if( Ko.SySmz_v )
	{
		for( let Vx_wu = Ko.SySmz_v.length - 1; Vx_wu >= 0; Vx_wu-- )
		{
			Hrz7_Kru__ChiSySmz( Vx_wu );
		};
	}
}

//==============================================
// BEGIN^Ya
//==============================================
async function KoDz__YaFz()
{
	//@@@
	// CONDITION
	if( Ko.Dz__Yz_q === BriYz.Ya_qk ) return;
	KoDz__YzChy( BriYz.Ya_qk );


	//@@@
	// CLNs
	// Declare 'fixed array' uses ZEROs, must fill  null
	// Media Objects
	Ko.SuKz_v = [ SuKz__GryFo_wuk ].fill( null );
	// Service Sessions
	Ko.SySmz_v = [ SyVx__GryFo_wuk ].fill( null );



	//@@@
	// CFG
	//@@@

	// TIME_BEGAN
	Ko.BriYa_GiDri_df = performance.now();
	// OS, CPU, BROWSER, & VER
	Hrz3_By__FyTo();
	await Hrz4_Bu__FyTo();

	// FIND USERS LAUNCH_CFG
	Hrz4_Bu__TaKeDy__FyGry();
	// LOAD REQUIRED CUL & GUI
	await Hri4_Bu__TaNeDe__ChaKri();

	//@@@
	//
	if( DoJi_yk( navigator, "devicePosture" ))
	{
		navigator.devicePosture.onchange = () =>
		{
			// folded (applies to laptop/book postures)
			// folded-over
			// continuous (applies to flat, tablet, or even seamless curved displays)
			SmaJe( "[ECOS] Posture:" + navigator.devicePosture.type );
		};
	}

	//&&&
	// LOADS
	window.addEventListener( "DOMContentLoaded", KoDz__SuKz_Mi );


	//@@@
	// SERV_REQ
	const KwiYz_k = Ko.TaKeDy_l.KwiYz_v[ Ko.TaKeDy_l.KeDy_wu ];

	const SySmz__Kri_yk = true;
	const SyCha__Kri_v =
	[
		Hrz7_Kru__ChaSySmz( "Hrz4_Bu", "BriDzYz", "Do", "NODE", SySmz__Kri_yk, { YzTi_wu: "0" } )
		, Hrz7_Kru__ChaSySmz( "Hry5_Smz", "WzMx", "Do", "WG", SySmz__Kri_yk, { YzVi_q: KwiYz_k.Ne03_Hry06__SmzYz_q } )
		, Hrz7_Kru__ChaSySmz( "Hre1_Dru", "KeDruPy", "Do", "TAK", SySmz__Kri_yk, { Si_KeDru: "en" } )
		, Hrz7_Kru__ChaSySmz( "Hra6_Ku", "KoToKz", "Do", "FS", SySmz__Kri_yk, { VaDyFy: "true" } )

		, Hrz7_Kru__ChaSySmz( "Hrx4_Che", "MoDxGri", "Do", "TRU", SySmz__Kri_yk, { YzTi_wu: "0" } )
		, Hrz7_Kru__ChaSySmz( "Hra7_Ta", "ToMi", "Do", "STRM", SySmz__Kri_yk, { YzTi_wu: "0" } )
		, Hrz7_Kru__ChaSySmz( "Hre1_Dru", "WaDru", "Do", "FNT", SySmz__Kri_yk, { YzTi_wu: "0" } )
		, Hrz7_Kru__ChaSySmz( "Hry1_Brz", "KeDru", "Do", "GLF", SySmz__Kri_yk, { Gy_wu: 512 } )

		, Hrz7_Kru__ChaSySmz( "Hra4_Bru", "ToDry", "Do", "NET", SySmz__Kri_yk, { YzTi_wu: "0" } )
		, Hrz7_Kru__ChaSySmz( "Hra6_Ku", "SuDu", "Do", "SHAR", SySmz__Kri_yk, { YzTi_wu: "0" } )
		, Hrz7_Kru__ChaSySmz( "Hra6_Ku", "SpeDry", "Do", "PAY", SySmz__Kri_yk, { YzTi_wu: "0" } )
		, Hrz7_Kru__ChaSySmz( "Hra6_Ku", "SaNoJe", "Do", "CAL", SySmz__Kri_yk, { YzTi_wu: "0" } )

		, Hrz7_Kru__ChaSySmz( "Hra1_Mz", "MzGwa", "Do", "PTR", SySmz__Kri_yk, { YzTi_wu: "0" } )

		//, Hrz7_Kru__ChaSySmz( "Hr", "", "Do", "ABC", SySmz__Kri_yk, { YzTi_wu: "0" } )
	];
	// SYNC_PNT
	const SyCha__FyGry_yk = await Promise.all( SyCha__Kri_v );
	// SmaJe( "SERV REQ", SyCha__FyGry_yk );
	if( !SyCha__FyGry_yk ){ return; }


	//@@@
	// FNT (Required, but *AFTER* FNT above )
	const WaDru__Kri_v =
	[
		Ko.Ji_v.DoFNT.Hrz7_Kru__ChaWaDru( "Segoe UI Emoji", "url(" + BriDz__Mx_KuTu_vsg + "Mx01__SuKz_MEDIA/SuKz04_WaDru__FONT/WaDru00__Ku.ttf )" )
		, Ko.Ji_v.DoFNT.Hrz7_Kru__ChaWaDru( "Final Frontier Old Style", "url(" + BriDz__Mx_KuTu_vsg + "Mx01__SuKz_MEDIA/SuKz04_WaDru__FONT/WaDru01__Bz.ttf )" )
	];

	const WaDru__Kri_yk = await Promise.all( WaDru__Kri_v );
	// SmaJe( "[SERV] FONT", WaDru__Kri_yk );
	if( !WaDru__Kri_yk ){ return; }

	//@@@
	// DISPLAY LAUNCH CANVAS
	// which fills GUI VALUES
	KoDz_GyHa();

	// GUI TOPIC_SELECT
	Hrz4_Bu__ChyNeKu( 0 );

	//@@@
	// FOCUS LAUNCH BTN
	HriNeDe__TraKwi();

	//@@@
	// ENGINE LAUNCH
	_Hrz5_Ki__BriSmz__Ya();
}

//==============================================
// BEGIN^Ya
//==============================================
async function KoDz__YaFx( )
{
	//@@@
	// SERV_OPT
	const SySmz__HoKri_yk = false;
	const SySmz__Kri_yk = true;
	const KwiYz_k = Ko.TaKeDy_l.KwiYz_v[ Ko.TaKeDy_l.KeDy_wu ];

	// DoXR
	if( KwiYz_k.Ne03_Hry02__HriKe_y ) { Hrz7_Kru__ChaSySmz( "Hri2_Ke", "BzMe", "Do", "XR", SySmz__HoKri_yk, { YzTi_wu: "0" } ); }

	// DoWA
	// if( KwiYz_k.Ne03_Hru00__SmzGra_y )
	Hrz7_Kru__ChaSySmz( "Hru5_Smz", "WzMx", "Do", "WA", SySmz__HoKri_yk, { YzTi_wu: "0" } );

	// DoNN
	// if( KwiYz_k.Ne03_Hru00__SmzGra_y )
	if( false )
	{
		Hrz7_Kru__ChaSySmz( "Hro5_Smz", "BryKrx", "Do", "NN", SySmz__HoKri_yk, { YzTi_wu: "0" } );
	}

	// DoHID
	// Hrz7_Kru__ChaSySmz( "Hra1_Mz", "KaMo", "Do", "HID", SySmz__HoKri_yk, { YzTi_wu: "0" } );


	// DoCARD ( CONTACT CARDS )
	// , Hrz7_Kru__ChaSySmz( "Hra6_Ku", "SaNoKe", "Do", "CARD", SySmz__HoKri_yk, { YzTi_wu: "0" } )

	// USB
	//, Hrz7_Kru__ChaSySmz( "Hra5_Ka", "KzGwe", "Do", "USB", SySmz__HoKri_yk, { YzTi_wu: "0" } )

	// BATTERY/POWER?
	//, Hrz7_Kru__ChaSySmz( "Hra0_Ko", "BriDzSpe", "Do", "ENRG", SySmz__HoKri_yk, { YzTi_wu: "0" } )

	// TRACK LOCALE
	//, Hrz7_Kru__ChaSySmz( "Hra1_Mz", "GeFy", "Do", "GPS", SySmz__HoKri_yk, { YzTi_wu: "0" } )

	// _TTe
	//, Hrz7_Kru__ChaSySmz( "Hr", "", "Do", "ABC", SySmz__HoKri_yk, { YzTi_wu: "0" } )

	// LANG
	//if( false )
	{
		Hrz7_Kru__ChaSySmz( "Hre1_Dru", "KeDruNu", "Do", "LANG", SySmz__HoKri_yk, { YzTi_wu: "0" } );
	}

}

//==============================================
// PAUSE^Yo
//==============================================
function KoDz__YoChy()
{
	//@@@
	// ECOSYS_GOOD
	const KwiYz_k = Ko.TaKeDy_l.KwiYz_v[ Ko.TaKeDy_l.KeDy_wu ];
	if( KoDz__YzTrx_y() || KoDz__YzYo_y() || KwiYz_k.Ne04_Ko04__KoDz_YoHo_y ) return;

	//&&&
	// STATUS
	KoDz__YzChy( BriYz.Yo_qk );

	//&&&
	// BROADCAST PAUSE
	_Hrz5_Ki__BriSmz__Yo();
	Ko.SySmz_v.forEach( function( Ti_k )
	{
		if( SySmz__BriYz__Ye_y( Ti_k ) && Ti_k.Ji.BriYo ){ Ti_k.Ji.BriYo( Ti_k ); }
	});
}

//==============================================
// UPDATE^Ye
//==============================================
function KoDz__YuChy()
{
	//@@@
	// ECOSYS_GOOD
	if( KoDz__YzTrx_y() || KoDz__YzYe_y()  || KoDz__YzYa_y() ) return;

	//&&&
	// BROADCAST RESUME
	Ko.SySmz_v.forEach( function( Ti_k )
	{
		if( SySmz__BriYz__Ye_y( Ti_k ) && Ti_k.Ji.BriYu ){ Ti_k.Ji.BriYu( Ti_k); }
	});
	_Hrz5_Ki__BriSmz__Yu();

	//&&&
	// STATUS
	KoDz__YzChy( BriYz.Ye_qk );
	Ko.BriYe_GiDri_df = performance.now();
	requestAnimationFrame( KoDz__Ye );
}


//==============================================
// UPD^Ye
// minimal precision of 1 millisecond
//==============================================
function KoDz__Ye( Gi )
{
	//@@@
	// ECOSYS_GOOD
	if( !KoDz__YzYe_y() ) return;


	//@@@
	// TIMER UPDATE 1sec
	const Gry__GiDri_dfk = ( performance.now() - Ko.BriYa_GiDri_df );
	if( Ko.YeFo_wu % 60 == 1 )
	{
		const MxPo_Bri_l = document.getElementById("MxPo_Bri");
		Ko.YeWi_df = ( Gry__GiDri_dfk - Ko.BriYe_GiDri_df ) / 60.0;
		Ko.BriYe_GiDri_df = Gry__GiDri_dfk;

		//&&&
		// HEADER (Fixed)
		let GiFe_vsg = new Date();
		Module.Sma__KeMe_Bz
		(
			Ko.KeDru_l.ALERT.BriDz_VaSy_vsg + " [ " + BriDzSa__Da_vsg + " ]"
			+ " Mode: " + ( Ko.Hx_SyDx_vsg ? Ko.Hx_SyDx_vsg : "???" )
			+ " @ " + GiFe_vsg.getHours().toString().padStart(2,"0") + ":" + GiFe_vsg.getMinutes().toString().padStart(2,"0") + ":"  + GiFe_vsg.getSeconds().toString().padStart(2,"0")
		);


		//&&&
		// FOOTER (Dynamic)
		const Gry__GiPa_dfk = Gry__GiDri_dfk / 1000.0;

		Module.Sma__KeMe_Bo
		(
			" "
			// + " YeFo: " + Ko.YeFo_wu
			+ " Ti: " + MxPo_Bri_l.width + ", " + MxPo_Bri_l.height
			+ " Ge: " + MxPo_Bri_l.clientWidth + ", " + MxPo_Bri_l.clientHeight
			+ " Gy: " + window.devicePixelRatio.toFixed(1)
			+ " Gi: " + Math.floor( Gry__GiPa_dfk / 60.0 ).toString().padStart( 3,"0") + "m " + Math.floor( Gry__GiPa_dfk % 60 ).toString().padStart(2,"0") + "s"
			+ " Kwy: " + ( DoJi_yk( navigator, "devicePosture" ) ? navigator.devicePosture.type : " " )
		);
	}
	Ko.YeFo_wu++;

	//@@@
	// SIM_UPD
	_Hrz5_Ki__BriSmz__Ye();


	//@@@
	// TEK-SERVS UPDATE ALL
	Ko.SySmz_v.forEach( function( Ti_k )
	{
		if( SySmz__BriYz__Ye_y( Ti_k ) && Ti_k.Ji.BriYe ){ Ti_k.Ji.BriYe( Ti_k, Gi ); }
	});


	//@@@
	// LOOP FOREVER
	requestAnimationFrame( KoDz__Ye );
}

//=====================================
// LOAD APP ENGINE
//=====================================
const BriDz_Fz_js = document.createElement("script");
BriDz_Fz_js.src = "Mx07__SuSmi_WEBPG/SuSmi06__BIN/KoKri__BriDz" + ( Ko.WASM64_yk ? 64:32 ) + ".js";
document.head.appendChild(BriDz_Fz_js);

//=====================================
// END
//=====================================
//=====================================
// UTIL
//=====================================

//----------------------------------------------
function DoJi_yk( _Do_l, _Ji_vsg )
// NOTE: _Ji_vsg MUST be STRING
//----------------------------------------------
{
	try
	{
		const Fy_yk = ( ( _Do_l ) && ( _Ji_vsg in _Do_l ) && ( _Do_l[ _Ji_vsg ] !== 'null' ) && ( _Do_l[_Ji_vsg ] !== 'undefined' ) );
		return Fy_yk;
	}
	catch( e )
	{
		// SmaDre( "OBJ Property Fail:", _Do_l, _Ji_vsg );
		return false;
	}
}

//----------------------------------------------
// DBG FILE LINE
// @returns {string} filename and line number separated by a colon
// Only on V8 Chrome via CallSite
// Other choices here:
// https://v8.dev/docs/stack-trace-api#customizing-stack-traces
//
//----------------------------------------------
const Hrz7_Kru__ToKzVa_Gwx = () =>
//----------------------------------------------
{
	const oldStackTrace = Error.prepareStackTrace;
    try
	{
		// eslint-disable-next-line handle-callback-err
        Error.prepareStackTrace = (err, structuredStackTrace) => structuredStackTrace;
        Error.captureStackTrace(this);

		//@@@
		// POP STK 1
        // const callSite = this.stack.find( line => line.getFileName().indexOf('/logger/') < 0 );
        const callSite = this.stack[ 1 ];

		// SmaJe( "CS", callSite );
		if( !DoJi_yk( callSite, "getFileName" ) || !DoJi_yk( callSite, "getFunctionName" ) ){ return "-?-"; }

        return callSite.getFunctionName() + " @ " + callSite.getFunctionName() + ":" + callSite.getLineNumber();
    }
	finally
	{
        Error.prepareStackTrace = oldStackTrace;
    }
};


//-------------------------------------------------
// LOAD JSON
//-------------------------------------------------
async function Hra7_Ta__ToKzMi_JSON_v( ChaKuTu_vsg, ToKzVa_vsg )
{
	try
	{
		let KuTu_vsg = `${BriDz__Mx_KuTu_vsg}Mx07__SuSmi_WEBPG/${ChaKuTu_vsg}${ToKzVa_vsg}.json`;
		// SmaJe( `FILE seeking: ${KuTu_vsg}`);

		const res = await fetch( KuTu_vsg,
		{
			headers:
			{
				Accept: 'application/json'
			}
		} );

		try
		{
			const json = await res.json();
			return json;
		}
		catch ( e )
		{
			SmaDre( "[JSON] Corrupt Data <", KuTu_vsg, ">" );
			return null;
		}
	}
	catch( err )
	{
		SmaDre( "[JSON] File Not Found <", KuTu_vsg, ">" );

		//SmaDre( `FileRead_Error: ${err}` );
		return null;
	}

	SmaDre( "[JSON] Unknown Error <", KuTu_vsg, ">" );
	return null;
}


//=====================================
// IFRAME EXPERIMENTS
// NotApplicable via CORS
//=====================================
/*
let SmeKz_l = document.createElement("iframe");
SmeKz_l.id = "LNK"
SmeKz_l.class = "SmeKz"

SmeKz_l.src = "WzSme.html";
//SmeKz_l.src = "https://www.openstreetmap.org/export/embed.html?bbox=-0.004017949104309083%2C51.47612752641776%2C0.00030577182769775396%2C51.478569861898606&amp;layer=mapnik";

//SmeKz_l.src = "https://weather.gov";
//SmeKz_l.src = "https://powerourpeople.com";

document.body.appendChild( SmeKz_l );
*/
		/* .SmeKz
		{
			display: block;
			position: absolute;
			margin: 0;
			padding: none;

			left: 1.5em;
			top: 1.5em;
			width: 512;
			height: 512;
			z-index: 2;
		} */

/*
//	<iframe id="LNK" width="512" height="512" style="position: relative; z-index: 2;" src="index.html" </iframe>

"iframe refused to connect" issue, you can check the X-Frame-Options and Content Security Policy headers

X-Frame-Options
DENY: The site does not allow any domain to embed it.
SAMEORIGIN: Only the same origin can embed the site.
ALLOW-FROM: Only specified origins can embed the site.
Content Security Policy (CSP)
The CSP may include directives like frame-ancestors 'none', which blocks all iframe embedding.

*/

//=====================================
// END
//=====================================

<!-- ====================================================================== -->
<!-- Ku00 ToKzYa -->
<!-- ====================================================================== -->
<!DOCTYPE html>
<html>
	<head>
		<!-- CORE -->
		<title>PowerOurPeople: LabEast Wantware</title>
		<link rel="shortcut icon" type="image/png" href="Mx01__SuKz_MEDIA/SuKz07_DryDz__BIZ/DryDzGwz00__ESSENCE.png"/>
		<link rel="canonical" href="https://powerourpeople.com"/>

		<meta charset="UTF-8">
		<meta http-equiv="X-UA-Compatible" content="IE=edge">
		<meta name="viewport" content="width=device-width, initial-scale=1.0">
		<meta name="robots" content="index, follow">

		<!-- OPEN_GRAPH: Social Media Finder -->
		<meta property="og:title" content="Power Our People Website" />
		<meta property="og:description" content="Learn more about Wantware and empowering the 99% of the world that does not program" />
		<meta property="og:type" content="website" />
		<meta property="og:url" content="https://powerourpeople.com" />
		<meta property="og:image" content="http://powerourpeople.com/Mx01__SuKz_MEDIA/SuKz07_DryDz__BIZ/DryDzGwz00__ESSENCE.png" />

		<!-- STYLE & MEDIA -->
		<!-- <link rel="stylesheet" href="Mx07__SuSmi_WEBPG/SuSmi02__CSS/JoDx00__Do.css"> -->

		<!-- SCRIPTS -->
		<!-- <script defer src="Mx07__SuSmi_WEBPG/SuSmi01__JS/JiJa00__HEXCIRC.js"></script>
		<script defer src="Mx07__SuSmi_WEBPG/SuSmi01__JS/JiJa01__DROPZ.js"></script>
		<script defer src="Mx07__SuSmi_WEBPG/SuSmi01__JS/JiJa02__PLAZ.js"></script>
		<script defer src="Mx07__SuSmi_WEBPG/SuSmi01__JS/JiJa03__ETHER.js"></script>

		<script defer src="Mx07__SuSmi_WEBPG/SuSmi01__JS/JiJa04__AURORA.js"></script>
		<script defer src="Mx07__SuSmi_WEBPG/SuSmi01__JS/JiJa05__HEXSCROLL.js"></script>
		<script defer src="Mx07__SuSmi_WEBPG/SuSmi01__JS/JiJa06__SUNRISE.js"></script>
		<script defer src="Mx07__SuSmi_WEBPG/SuSmi01__JS/JiJa07__CODEX.js"></script> -->

		<script src="Mx07__SuSmi_WEBPG/SuSmi01__JS/Ki00__PUB.js"></script>
		<!-- <script src="Mx07__SuSmi_WEBPG/SuSmi01__JS/Ki01__CORE.js"></script> -->
		<!-- <script src="Mx07__SuSmi_WEBPG/SuSmi01__JS/Ki02__LANG.js"></script> -->
		<!-- <script src="Mx07__SuSmi_WEBPG/SuSmi01__JS/Ki03__CFG.js"></script> -->

		<script src="https://cdn.jsdelivr.net/npm/qrcode@1.4.4/build/qrcode.min.js"></script>

		<script src="Mx07__SuSmi_WEBPG/SuSmi01__JS/Kru05__Hra4_Bru00__SyDe.js" type="application/javascript"></script>
		<!-- <script src="Mx07__SuSmi_WEBPG/SuSmi01__JS/Kru05__Hra4_Bru00__SyZx.js" type="application/javascript"></script> -->
		<!-- <script src="Mx07__SuSmi_WEBPG/SuSmi01__JS/Kru05__Hra4_Bru01__Tra.js" type="application/javascript"></script> -->

		<script src="Mx07__SuSmi_WEBPG/SuSmi01__JS/Kru00__Hrz4_Bu.js" type="application/javascript"></script>

	</head>


	<!-- ====================================================================== -->
	<!-- Ku01 STYLE
	<!-- ====================================================================== -->
<style>
  * {
	  box-sizing: border-box;
	}

    html
	{
      margin: 0;
      padding: 0;
      color: #000;
      font-family: sans-serif;
    }

	body
	{
		background-color: #EE6;
		max-width: 800px;
		font-family: Arial, Helvetica, sans-serif;

		font-size: 1.0em;
		text-align: center;
		margin: auto;
		width: 100%;
		padding: 1.0em;

      display: flex;
      flex-direction: column;
      justify-content: space-between;
	}

	h1, h2
	{
		font-family: Impact, sans-serif;
		text-align: center;
	}

	pre
	{
		background-color: #FFF;
		color:#000;
		border-style: groove;

	  width: 100%;
	  padding: 0 em;
	  margin: auto;

	  border-radius: 1px;
      border-color: #F00;

	  text-align: center;
	  word-wrap: normal;
	  white-space: pre;
	  /* line-height: 1.em; */

	  font-family: monospace;
	  font-size: 0.1em;

	}


#QRDiv {
    margin-top: 20px;
}


	input
	{
	    background-color: #00F;
    	color: #EE6;

		border-style: groove;

		word-wrap: normal;
	  	white-space: pre-wrap;

		text-align: center;

		width: 100%;
		height: 2.0em;
  }


  .BUF
  {
	background-color: #FFF;
	color: #00A;
    width: 100%;
    padding: 1.0 em;
	margin: 1.0 em;

	border-color: #00F;
    border-radius: 2px;
	border-style: groove;

    text-align: left;

    word-wrap: break-word;
    white-space: pre-wrap;
	line-height: 1.0em;

	font-size: 1.0em;
  }

  button
  {
    border-radius: 16px;
    background-color: #F22;
    color: white;

    border: none;
    padding: 0.5em 1em;
    font-size: 1.25em;
  }

/* unvisited link */
a:link {
  color: #FFF;
}

/* visited link */
a:visited {
  color: #DDD;
}

/* mouse over link */
a:hover {
  color: #BBF;
}}

/* selected link */
a:active {
  color: #FFB;
}

	.BOX
	{
		border-color: #DD5;
    	border-radius: 32px;
		border-style: double;
		border-width: 8px;
		padding: 1em 1em;
	}

    li, p {
      line-height: 1.5;
    }



    #content {

	text-align: center;
      display: flex;
      flex-direction: column;
      padding: 10px;
      margin: 0 auto;
      min-width: 300px;
      max-width: 800px;
      width: calc(100% - 20px);
    }

    #content {
      max-width: 800px;
      min-height: 100%;

      justify-content: center;
    }

    #content .textual {
      color: #DDD;
    }

    #content .textual {
      font-size: 2em;
    }

    #content a:visited {
      color: #FF7700;
    }

    #content a {
      color: #0077FF;
    }




    #rc-demo {
      display: flex;
      flex-direction: column;
      margin: auto;
    }

    #rc-demo button {
      border: none; cursor: pointer;
    }

    #rc-demo .color {
      max-width: 20px; width: 20px; height: 20px; position: relative;
    }

    #rc-demo canvas {
      image-rendering: auto;
      width: fit-content;
    }


    #rc-demo .erase {
      position: absolute;  top: 2px; left: 1px;
    }

    #rc-demo .arrow {
      border: none; position: absolute;  top: 0; left: -17px; cursor: auto; color: white;
    }

    #rc-demo .hidden {
      display: none;


</style>


	<!-- ====================================================================== -->
	<!-- Ku01 BODY Bz
	<!-- ====================================================================== -->
	<body >

	<h1 id="VyBzVa" >SELF_SERV v</h1>
	<br>

	<div class="BOX" >
	<h2>#1 JOIN</h2>

		<h3>People in Room: <span id="connected">no</span></h3>
		<h3>Your Name:</h3>
		<input id="SaNo_VaSy" maxlength="63" value="?" style="width: 50%;" />
		<br>
		<div id="QRDiv"></div>
		<br>
		<button id="clip">Copy Clipboard</button>
		<button id="email">Email </button>
		<button id="sms">TXT (sms)</button>
		<button id="new_room"><a href="WzFe.html" target="_NEW">Open New Room</a></button>
	</div>
	<br>
	<br>

	<div class="BOX" >
	<h2>#2 MESSAGES</h2>
		<h3>Your Message:</h3>
		<input id="SaNo_MeKz" maxlength="127" value="?" />
		<br>
		<h3>Message History:</h3>
		<p id="messages" class="BUF"></p>
		<button id="Tst_A">Send Msg</button>
		<br>
	</div>
	<br>
	<br>

	<div class="BOX" >
		<h2>#3 MAP_MAKER</h2>

		<section id="content">
			<div id="rc-demo">
				<div id="outer-container" >
					<div style="display: flex; align-items: center; gap: 4px">
						<label for="enable-srgb">Brighten</label>
						<input type="checkbox" id="enable-srgb" checked>
					</div>
				</div>

				<details style="cursor: pointer; display: none;">
					<summary>GFX_Tweaks</summary>

					<div style="display: none; align-items: center; gap: 4px;">
						<input type="checkbox" id="bilinear-fix">
						<label for="bilinear-fix">Bilinear Fix</label>
					</div>

					<div style="display: flex; align-items: center; gap: 4px;">
						<input type="checkbox" id="disable-mips">
						<label for="disable-mips">Disable Mips</label>
					</div>

				<div style="display: flex; align-items: center; gap: 4px;">
					<input type="checkbox" id="nonlinear-accumulation">
					<label for="nonlinear-accumulation">Non-Linear Accumulation</label>
					</div>

					<div style="display: flex; align-items: center; gap: 4px">
						<input type="checkbox" id="add-noise">
						<label for="add-noise">Naive GI Noise</label>
					</div>

					<div style="display: none; align-items: center; gap: 4px">
						<input type="checkbox" id="ringing-fix">
						<label for="ringing-fix">Ringing Fix</label>
					</div>

					<div id="additional-controls-container">
					</div>

					<div style="display: flex; align-items: center; gap: 8px">BLOOM<input id="rc-sun-angle-slider" class="slider" type="range" min="0" max="6.2" step="0.1" value="2.0" />
					</div>

					<div style="display: flex; align-items: center; gap: 4px">
						<input type="checkbox" id="reduce-demand">
						<label for="reduce-demand">Reduce Demand (Calculate over 2 frames)</label>
					</div>
				</details>
				<br/>
				<div id="rc-canvas"></div>
		</div>
		</section>

		<br>


		<button id="ChyGe__GaZo">^<br>||</button>
		<br>
		<button id="ChyGe__GxZe"><==</button>
		<button id="ChyGe__GxZo">==></button>
		<br>
		<button id="ChyGe__GaZe">||<br>v</button>


	</div>
	<br>
	<br>

	<div class="BOX" >
		<h2>#4 LOG</h2>
		<p id="log" class="BUF"></p>
	</div>


  <script id="radiance-cascades-logic" src="Mx07__SuSmi_WEBPG/SuSmi01__JS/Kru03__Hrz2_Wy.js" type="application/javascript"></script>

  </body>


<!-- ====================================================================== -->
<!-- Ku01 SCRIPT
<!-- ====================================================================== -->
<script>

	// VAR
	var connected = false;
	var JOIN_y = ( window.location.hash.length > 1 ) ? true : false ;
	var msglist = document.getElementById("messages");
	var b;
	var messages = [];

	var HUB__Vy_vsg;
	var URL_HUB__Vy_vsg;

	var KeDru__Fo_wu = 0;

	var GeGx = 128;
	var GeGa = 128;


	// PROG BEGIN
	document.getElementById("VyBzVa").textContent += VER_vsg;


//@@@
// JOINER
if( JOIN_y )
{
	var HUB__Vy_vsg = window.location.hash.substr(1) || "bUH7ukDvd9R2xLLRKMKWZ1mGPkgdVfufye";
	b = new Bugout( HUB__Vy_vsg );

	URL_HUB__Vy_vsg = document.location.href;

	// msglist.textContent = "Join = Hub @" + HUB__Vy_vsg + "\nSelf @" + b.address().slice( 0, 4 );
	log( "SPOKE @", b.address().slice( 0, 4 ), "\n" );



	// watch for connection to the server
	b.on("server", function()
	{
		refreshMessages();
	});


	b.on("message", function( adr, msg)
	{
		if (msg == "refresh")
		{
			refreshMessages();
		}
		else
		{
			log("- MSG( Spoke ):", adr.slice( 0, 4 ), msg);
		}
	});

}

// ======================================================================
// HUB
// ======================================================================
else
{
	//@@@
	// instantiate our bugout instance
	b = new Bugout({seed: localStorage["TaKeDru_VxYa"]});

	// save the seed for next time
	localStorage["TaKeDru_VxYa"] = b.seed;

	HUB__Vy_vsg = b.seed;
	URL_HUB__Vy_vsg = document.location.href + "#" + b.address();


	// log this server's address
	log( "- HUB @", b.address().slice( 0, 4 ), "\n" );


	// load messages from previous run
	if (localStorage["TaKeDruKz"])
	{
		messages = JSON.parse(localStorage["TaKeDruKz"]);
	}
	if (typeof(messages) != "object" || !messages["length"])
	{ messages = []; }



	//---------------------------
	//---------------------------
  b.register("post", function( adr, message, cb)
  {
	  if (typeof(message) == "string" && message.length < 280)
	  {
		  var m = {address: adr, m: message, t: (new Date()).getTime()};

		  log("messageboard:", m);

		  messages.push(m);
      		messages = messages.slice(Math.max(0, messages.length - 8 ));

      		localStorage["TaKeDruKz"] = JSON.stringify(messages);

			cb(true);

	      b.send("refresh");
    } else
	{
		cb(false);
    }
}, "Post a message to the board");


	//---------------------------
	//---------------------------
	b.register("list", function( adr, args, cb)
	{
		cb(messages.slice().reverse());
	}, "List most recent messages");


	//---------------------------
	// SERVER CONNECTED
	//---------------------------
  b.on("connections", function(c)
  {
	  if (c == 0 && connected == false )
	  {
		// log("FIRST NODE");
		connected = true;
	}
	//	log( "- Spoke[ ", c, "] Joined @ ", clientURL );
  });

  	//---------------------------
	 // log when we see a new client adr
	//---------------------------
  	b.on("seen", function( adr ) { log("- Spoke Joined @ ", adr.slice( 0, 4 )  ); });
  	b.on("left", function( adr ) { log("- Spoke Exited @ ", adr.slice( 0, 4 )  ); });

  	//---------------------------
	// MSG
	//---------------------------
	b.on("message", function( adr, msg) { log( "- MSG( Hub ): ", adr.slice( 0, 4 ), msg ); });


	//---------------------------
	// RPC
	//---------------------------
	// log when a client makes an rpc call
	b.on("rpc", function( adr, call, args)
	{
	//	log("FN:", adr, call, args);
		log( "- FN: ", call );

	});
}

//@@@
// END JOIN or HUB

b.on("Je", function( adr, To_vbu )
{
//	log( "- Je[ ", adr.slice( 0, 4 ), " ]: ", To_vbu );

	var To_vsu = new Uint16Array( To_vbu );
/*
		log( "su[ 0 ]: ", To_vsu[ 0 ] );
		log( "su[ 1 ]: ", To_vsu[ 1 ] );
		log( "su[ 2 ]: ", To_vsu[ 2 ] ); */

	switch( To_vbu[ 0 ] )
	{
		//&&&
		// KEEP_ALIVE_PING
		case 0:
		break;

		//&&&
		// NAME UPDATE
		case 1:
		break;

		//&&&
		// MSG UPDATE
		case 2:
		break;


		//&&&
		// MAP UPDATE
		case 3:
/*
		let GeYa = { x: To_vsu[ 2 ], y: To_vsu[ 3 ] };
		let GeYi = { x: To_vsu[ 4 ], y: To_vsu[ 5 ] }; */


		let GeYa = { x: To_vsu[ 4 ], y: To_vsu[ 6 ] };
		let GeYi = { x: To_vsu[ 8 ], y: To_vsu[ 10 ] };


		//log( "GeYa ", GeYa, " GeYi ", GeYi );

		let wrc = window.radianceCascades;
		return new Promise((resolve) =>
		{
			//wrc.clear();
			//wrc.setHex("#FFAA00FF");
			// wrc.setHex("#000000FF");

			wrc.surface.drawSmoothLine( GeYa, GeYi );
			// wrc.surface.drawSmoothLine( { x:150, y:0 }, { x:150, y:300 } );

		})
		.then(() => {
				wrc.isDrawing = false;
				wrc.renderPass();
				requestAnimationFrame();
			});


		break;
	}


});


//---------------------------
// INIT PROG
//---------------------------

// log( "Self_ID: ", b.address().slice( 0, 4 ) );
// log( " Fam: ", b.localFamily, " Loc: ", b.localAddress, " Rem: ", b.remoteAddress );

b.heartbeat( 30000 );

const VaSy_l = document.getElementById('SaNo_VaSy');
// VaSy_l.setSelectionRange( 0, 9 );
VaSy_l.focus();


//---------------------------
// QR
//---------------------------

const qrCodeContainer = document.getElementById('QRDiv');
// Clear any existing QR code
qrCodeContainer.innerHTML = '';
// Create a new canvas element
const canvas = document.createElement('canvas');
qrCodeContainer.appendChild(canvas);
QRCode.toCanvas(canvas, URL_HUB__Vy_vsg
	, { width: 200, height: 200 }
	, function (error) { if (error) { console.error(error); }
});

//---------------------------
// WIRES
//---------------------------
// if we see a wire join or leave
b.on("wireseen", updateWires);
b.on("wireleft", updateWires);


function updateWires(count)
{
  // b.torrent.wires.length
  document.getElementById("connected").textContent = count ? "yes ( " + count + " )" : "no";

}

//---------------------------
// SHARE
//---------------------------
document.getElementById("clip").onclick = function(evt)
{
	copyToClipboard( URL_HUB__Vy_vsg );
	log( "Clip: ", URL_HUB__Vy_vsg );
}

document.getElementById("email").onclick = function(evt)
{
	//content-type=text/html
	window.location.href = 'mailto:?subject=Self_Serv Test Link&body=Open Room Link here:\n\n' + encodeURI( URL_HUB__Vy_vsg );
}

document.getElementById("sms").onclick = function(evt)
{
	window.location.href = 'sms:?body=Click Here: \n\n' + encodeURI(URL_HUB__Vy_vsg);
}


//---------------------------
// ARROWS
//---------------------------

	document.getElementById("Tst_A").onclick = function(evt)
	{
		log( "\n- Tst_A @ ", b.Fe_vsg().toString() );
		KeDru__Fo_wu++;

		// DATA
		const To_vbu = new Uint8Array( 8 );
		To_vbu[0] = 1;
		To_vbu[1] = KeDru__Fo_wu;
		try{ b.Me( null, To_vbu ); } catch(e){ log( "Me FAILED" ); }

	}

	document.getElementById("ChyGe__GxZo").onclick = function(evt)
	{
	//	log( "\n- ChyGe__GxZo @ ", b.Fe_vsg().toString() );
		KeDru__Fo_wu++;

		var To_vbu = new Uint8Array( 16 );
		To_vbu[0] = 3;
		To_vbu[1] = KeDru__Fo_wu;

		let To_vsu = new Uint16Array( To_vbu.buffer );

		To_vsu[ 2 ] = GeGx;
		To_vsu[ 3 ] = GeGa;

		GeGx += 15;


		To_vsu[ 4 ] = GeGx;
		To_vsu[ 5 ] = GeGa;

		try{ b.Me( null, To_vsu ); } catch(e){ log( "Me FAILED" ); }

		/*

		let wrc = window.radianceCascades;
		return new Promise((resolve) =>
		{
			wrc.clear();

			wrc.setHex("#FFAA00FF");
			wrc.surface.drawSmoothLine( { x:0, y:0 }, { x:300, y:300 } );

			wrc.setHex("#000000FF");
			wrc.surface.drawSmoothLine( { x:150, y:0 }, { x:150, y:300 } );
		})
		.then(() => {
				wrc.isDrawing = false;
				wrc.renderPass();
				requestAnimationFrame();
			}); */


	}

	document.getElementById("ChyGe__GxZe").onclick = function(evt)
	{
		//log( "\n- ChyGe__GxZe @ ", b.Fe_vsg().toString() );
		KeDru__Fo_wu++;

		var To_vbu = new Uint8Array( 16 );
		To_vbu[0] = 3;
		To_vbu[1] = KeDru__Fo_wu;

		let To_vsu = new Uint16Array( To_vbu.buffer );

		To_vsu[ 2 ] = GeGx;
		To_vsu[ 3 ] = GeGa;

		GeGx -= 5;

		To_vsu[ 4 ] = GeGx;
		To_vsu[ 5 ] = GeGa;

		try{ b.Me( null, To_vsu ); } catch(e){ log( "Me FAILED" ); }


		/* let wrc = window.radianceCascades;

		wrc.clear();
		let last = undefined;

		// wrc.isDrawing = true;
		return new Promise((resolve) =>
		{
				wrc.setHex("#f9a875");
				requestAnimationFrame(() => wrc.draw(last, 0, false, resolve));
			})
			 .then(() => new Promise((resolve) =>
			{
				last = undefined;
				requestAnimationFrame(() => {
					wrc.setHex("#000000");
					requestAnimationFrame(() => wrc.draw(last, 0, true, resolve));
				});
			})) */

			/* .then(() => {
				wrc.isDrawing = false;
				wrc.renderPass();
				requestAnimationFrame(() => wrc.setHex("#fff6d3"));
			}); */

	}

	document.getElementById("ChyGe__GaZo").onclick = function(evt)
	{
		//log( "\n- LIST Peers @ ", b.Fe_vsg().toString() );
		KeDru__Fo_wu++;

		var To_vbu = new Uint8Array( 16 );
		To_vbu[0] = 3;
		To_vbu[1] = KeDru__Fo_wu;

		let To_vsu = new Uint16Array( To_vbu.buffer );

		To_vsu[ 2 ] = GeGx;
		To_vsu[ 3 ] = GeGa;

		GeGa -= 5;

		To_vsu[ 4 ] = GeGx;
		To_vsu[ 5 ] = GeGa;

		try{ b.Me( null, To_vsu ); } catch(e){ log( "Me FAILED" ); }


		/* let wrc = window.radianceCascades;
		wrc.reset();

		var i = 0;
		for( var adr in b.wires )
		{
	  	 	// log( "- Person[", i, "]: ", b.peers[ i ].timestamp ); timestamp = NONE
	  	 	log( "- Person[", i, "]: ", adr.slice( 0, 4 ) );
			i++;
		} */
	}

	document.getElementById("ChyGe__GaZe").onclick = function(evt)
	{
		//log( "\n- LIST Peers @ ", b.Fe_vsg().toString() );
		KeDru__Fo_wu++;

		var To_vbu = new Uint8Array( 16 );
		To_vbu[0] = 3;
		To_vbu[1] = KeDru__Fo_wu;

		let To_vsu = new Uint16Array( To_vbu.buffer );

		To_vsu[ 2 ] = GeGx;
		To_vsu[ 3 ] = GeGa;

		GeGa += 5;

		To_vsu[ 4 ] = GeGx;
		To_vsu[ 5 ] = GeGa;

		try{ b.Me( null, To_vsu ); } catch(e){ log( "Me FAILED" ); }


		/* let wrc = window.radianceCascades;
		wrc.reset();

		var i = 0;
		for( var adr in b.wires )
		{
	  	 	// log( "- Person[", i, "]: ", b.peers[ i ].timestamp ); timestamp = NONE
	  	 	log( "- Person[", i, "]: ", adr.slice( 0, 4 ) );
			i++;
		} */
	}

//---------------------------
// UTILITY FUNCTIONS
//---------------------------
function refreshMessages()
{
  msglist.textContent = "Refreshing messages...";


  // get a list of the messages
  b.rpc("list", null, function(messages)
  {
    updateMessagelist(messages);
  });

}

function updateMessagelist(messages)
{
  msglist.textContent =
    messages.map(function (m)
	{
      return m.m;

	//   return (new Date(m.t)).toString() + "\n" +
    //   "From: " + m.adr.slice( 0, 4 ) + "\n" +
    //   "\n" + m.m + "\n";

    }).join("\n\n");

}

//---------------------------
// LOG
//---------------------------
function log()
{
    var args = Array.prototype.slice.call(arguments);
    console.log.apply(null, args);

	args = args.map(function(a) { if (typeof(a) == "string") return a; else return JSON.stringify(a); });
    document.getElementById("log").textContent += args.join(" ") + "\n";
}


</script>


<!-- ====================================================================== -->
<!-- END
 <!-- ====================================================================== -->

</html>

<!-- ====================================================================== -->
<!-- ToKzYi -->
<!-- ====================================================================== -->
